mysqldump: [Warning] Using a password on the command line interface can be insecure.
-- MySQL dump 10.13  Distrib 5.7.44, for Linux (x86_64)
--
-- Host: localhost    Database: mlpipeline
-- ------------------------------------------------------
-- Server version	5.7.44

/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;
/*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE */;
/*!40103 SET TIME_ZONE='+00:00' */;
/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='NO_AUTO_VALUE_ON_ZERO' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;
mysqldump: Error: 'Access denied; you need (at least one of) the PROCESS privilege(s) for this operation' when trying to dump tablespaces

--
-- Current Database: `mlpipeline`
--

CREATE DATABASE /*!32312 IF NOT EXISTS*/ `mlpipeline` /*!40100 DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci */;

USE `mlpipeline`;

--
-- Table structure for table `Artifact`
--

DROP TABLE IF EXISTS `Artifact`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `Artifact` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `type_id` int(11) NOT NULL,
  `uri` text,
  `state` int(11) DEFAULT NULL,
  `name` varchar(255) DEFAULT NULL,
  `create_time_since_epoch` bigint(20) NOT NULL DEFAULT '0',
  `last_update_time_since_epoch` bigint(20) NOT NULL DEFAULT '0',
  PRIMARY KEY (`id`),
  UNIQUE KEY `UniqueArtifactTypeName` (`type_id`,`name`),
  KEY `idx_artifact_uri` (`uri`(255)),
  KEY `idx_artifact_create_time_since_epoch` (`create_time_since_epoch`),
  KEY `idx_artifact_last_update_time_since_epoch` (`last_update_time_since_epoch`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `Artifact`
--

LOCK TABLES `Artifact` WRITE;
/*!40000 ALTER TABLE `Artifact` DISABLE KEYS */;
/*!40000 ALTER TABLE `Artifact` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `ArtifactProperty`
--

DROP TABLE IF EXISTS `ArtifactProperty`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `ArtifactProperty` (
  `artifact_id` int(11) NOT NULL,
  `name` varchar(255) NOT NULL,
  `is_custom_property` tinyint(1) NOT NULL,
  `int_value` int(11) DEFAULT NULL,
  `double_value` double DEFAULT NULL,
  `string_value` mediumtext,
  `byte_value` mediumblob,
  PRIMARY KEY (`artifact_id`,`name`,`is_custom_property`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `ArtifactProperty`
--

LOCK TABLES `ArtifactProperty` WRITE;
/*!40000 ALTER TABLE `ArtifactProperty` DISABLE KEYS */;
/*!40000 ALTER TABLE `ArtifactProperty` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `Association`
--

DROP TABLE IF EXISTS `Association`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `Association` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `context_id` int(11) NOT NULL,
  `execution_id` int(11) NOT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `context_id` (`context_id`,`execution_id`)
) ENGINE=InnoDB AUTO_INCREMENT=87 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `Association`
--

LOCK TABLES `Association` WRITE;
/*!40000 ALTER TABLE `Association` DISABLE KEYS */;
INSERT INTO `Association` VALUES (1,1,1),(3,1,2),(5,1,3),(9,1,4),(11,1,5),(15,1,6),(17,1,7),(21,1,8),(23,1,9),(27,1,10),(29,1,11),(31,1,12),(33,1,13),(35,1,14),(37,1,15),(39,1,16),(41,1,17),(51,1,18),(53,1,19),(57,1,20),(59,1,21),(63,1,22),(67,1,23),(69,1,24),(73,1,25),(77,1,26),(79,1,27),(83,1,28),(2,2,1),(4,3,2),(6,3,3),(10,4,4),(12,4,5),(16,5,6),(18,5,7),(22,6,8),(24,6,9),(28,7,10),(30,7,11),(32,8,12),(34,8,13),(36,9,14),(38,9,15),(40,10,16),(42,10,17),(52,11,18),(54,11,19),(58,12,20),(60,12,21),(64,12,22),(68,13,23),(70,13,24),(74,13,25),(78,14,26),(80,14,27),(84,14,28);
/*!40000 ALTER TABLE `Association` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `Attribution`
--

DROP TABLE IF EXISTS `Attribution`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `Attribution` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `context_id` int(11) NOT NULL,
  `artifact_id` int(11) NOT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `context_id` (`context_id`,`artifact_id`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `Attribution`
--

LOCK TABLES `Attribution` WRITE;
/*!40000 ALTER TABLE `Attribution` DISABLE KEYS */;
/*!40000 ALTER TABLE `Attribution` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `Context`
--

DROP TABLE IF EXISTS `Context`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `Context` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `type_id` int(11) NOT NULL,
  `name` varchar(255) NOT NULL,
  `create_time_since_epoch` bigint(20) NOT NULL DEFAULT '0',
  `last_update_time_since_epoch` bigint(20) NOT NULL DEFAULT '0',
  PRIMARY KEY (`id`),
  UNIQUE KEY `type_id` (`type_id`,`name`),
  KEY `idx_context_create_time_since_epoch` (`create_time_since_epoch`),
  KEY `idx_context_last_update_time_since_epoch` (`last_update_time_since_epoch`)
) ENGINE=InnoDB AUTO_INCREMENT=15 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `Context`
--

LOCK TABLES `Context` WRITE;
/*!40000 ALTER TABLE `Context` DISABLE KEYS */;
INSERT INTO `Context` VALUES (1,11,'yt-sentiment-pipeline-param',1760613614075,1760613614075),(2,12,'5a588c4f-2ca8-402b-a272-467b841c63a8',1760613614212,1760613614212),(3,12,'9e97467b-dae1-4730-a746-34745180b3e4',1760680647963,1760680647963),(4,12,'f80322ba-a2c5-45cb-a4cd-437eb3e4317a',1760690474563,1760690474563),(5,12,'fb9afddd-b327-4a01-b685-82b67333fc39',1760690926650,1760690926650),(6,12,'a5dab52f-d267-44bb-8397-42780748fb1b',1761131961277,1761131961277),(7,12,'62457a64-5880-42de-9456-38b9c5997b8b',1761133849262,1761133849262),(8,12,'0f47dd3d-5be5-48ac-a8f2-ca0ac3e152ea',1761135360557,1761135360557),(9,12,'30612806-8c6d-476b-91d3-78548981c023',1761135653296,1761135653296),(10,12,'04129361-35ce-4688-b383-33c39f6b57c0',1761137322999,1761137322999),(11,12,'313620c4-976e-404a-9207-d4941cfdb60d',1761138521250,1761138521250),(12,12,'ae452c7b-5688-4685-bb54-48056b5d498a',1761139090884,1761139090884),(13,12,'5858d806-def1-4296-bd6b-59cc78d2ccf1',1761146804467,1761146804467),(14,12,'9797994d-4cba-49d4-8ada-c8d04813eb19',1761148468359,1761148468359);
/*!40000 ALTER TABLE `Context` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `ContextProperty`
--

DROP TABLE IF EXISTS `ContextProperty`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `ContextProperty` (
  `context_id` int(11) NOT NULL,
  `name` varchar(255) NOT NULL,
  `is_custom_property` tinyint(1) NOT NULL,
  `int_value` int(11) DEFAULT NULL,
  `double_value` double DEFAULT NULL,
  `string_value` mediumtext,
  `byte_value` mediumblob,
  PRIMARY KEY (`context_id`,`name`,`is_custom_property`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `ContextProperty`
--

LOCK TABLES `ContextProperty` WRITE;
/*!40000 ALTER TABLE `ContextProperty` DISABLE KEYS */;
INSERT INTO `ContextProperty` VALUES (2,'namespace',1,NULL,NULL,'kubeflow',NULL),(2,'pipeline_root',1,NULL,NULL,'minio://mlpipeline/v2/artifacts/yt-sentiment-pipeline-param/5a588c4f-2ca8-402b-a272-467b841c63a8',NULL),(2,'resource_name',1,NULL,NULL,'run-resource',NULL),(3,'namespace',1,NULL,NULL,'kubeflow',NULL),(3,'pipeline_root',1,NULL,NULL,'minio://mlpipeline/v2/artifacts/yt-sentiment-pipeline-param/9e97467b-dae1-4730-a746-34745180b3e4',NULL),(3,'resource_name',1,NULL,NULL,'run-resource',NULL),(4,'namespace',1,NULL,NULL,'kubeflow',NULL),(4,'pipeline_root',1,NULL,NULL,'minio://mlpipeline/v2/artifacts/yt-sentiment-pipeline-param/f80322ba-a2c5-45cb-a4cd-437eb3e4317a',NULL),(4,'resource_name',1,NULL,NULL,'run-resource',NULL),(5,'namespace',1,NULL,NULL,'kubeflow',NULL),(5,'pipeline_root',1,NULL,NULL,'minio://mlpipeline/v2/artifacts/yt-sentiment-pipeline-param/fb9afddd-b327-4a01-b685-82b67333fc39',NULL),(5,'resource_name',1,NULL,NULL,'run-resource',NULL),(6,'namespace',1,NULL,NULL,'kubeflow',NULL),(6,'pipeline_root',1,NULL,NULL,'minio://mlpipeline/v2/artifacts/yt-sentiment-pipeline-param/a5dab52f-d267-44bb-8397-42780748fb1b',NULL),(6,'resource_name',1,NULL,NULL,'run-resource',NULL),(7,'namespace',1,NULL,NULL,'kubeflow',NULL),(7,'pipeline_root',1,NULL,NULL,'minio://mlpipeline/v2/artifacts/yt-sentiment-pipeline-param/62457a64-5880-42de-9456-38b9c5997b8b',NULL),(7,'resource_name',1,NULL,NULL,'run-resource',NULL),(8,'namespace',1,NULL,NULL,'kubeflow',NULL),(8,'pipeline_root',1,NULL,NULL,'minio://mlpipeline/v2/artifacts/yt-sentiment-pipeline-param/0f47dd3d-5be5-48ac-a8f2-ca0ac3e152ea',NULL),(8,'resource_name',1,NULL,NULL,'run-resource',NULL),(9,'namespace',1,NULL,NULL,'kubeflow',NULL),(9,'pipeline_root',1,NULL,NULL,'minio://mlpipeline/v2/artifacts/yt-sentiment-pipeline-param/30612806-8c6d-476b-91d3-78548981c023',NULL),(9,'resource_name',1,NULL,NULL,'run-resource',NULL),(10,'namespace',1,NULL,NULL,'kubeflow',NULL),(10,'pipeline_root',1,NULL,NULL,'minio://mlpipeline/v2/artifacts/yt-sentiment-pipeline-param/04129361-35ce-4688-b383-33c39f6b57c0',NULL),(10,'resource_name',1,NULL,NULL,'run-resource',NULL),(11,'namespace',1,NULL,NULL,'kubeflow',NULL),(11,'pipeline_root',1,NULL,NULL,'minio://mlpipeline/v2/artifacts/yt-sentiment-pipeline-param/313620c4-976e-404a-9207-d4941cfdb60d',NULL),(11,'resource_name',1,NULL,NULL,'run-resource',NULL),(12,'namespace',1,NULL,NULL,'kubeflow',NULL),(12,'pipeline_root',1,NULL,NULL,'minio://mlpipeline/v2/artifacts/yt-sentiment-pipeline-param/ae452c7b-5688-4685-bb54-48056b5d498a',NULL),(12,'resource_name',1,NULL,NULL,'run-resource',NULL),(13,'namespace',1,NULL,NULL,'kubeflow',NULL),(13,'pipeline_root',1,NULL,NULL,'minio://mlpipeline/v2/artifacts/yt-sentiment-pipeline-param/5858d806-def1-4296-bd6b-59cc78d2ccf1',NULL),(13,'resource_name',1,NULL,NULL,'run-resource',NULL),(14,'namespace',1,NULL,NULL,'kubeflow',NULL),(14,'pipeline_root',1,NULL,NULL,'minio://mlpipeline/v2/artifacts/yt-sentiment-pipeline-param/9797994d-4cba-49d4-8ada-c8d04813eb19',NULL),(14,'resource_name',1,NULL,NULL,'run-resource',NULL);
/*!40000 ALTER TABLE `ContextProperty` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `Event`
--

DROP TABLE IF EXISTS `Event`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `Event` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `artifact_id` int(11) NOT NULL,
  `execution_id` int(11) NOT NULL,
  `type` int(11) NOT NULL,
  `milliseconds_since_epoch` bigint(20) DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `idx_event_artifact_id` (`artifact_id`),
  KEY `idx_event_execution_id` (`execution_id`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `Event`
--

LOCK TABLES `Event` WRITE;
/*!40000 ALTER TABLE `Event` DISABLE KEYS */;
/*!40000 ALTER TABLE `Event` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `EventPath`
--

DROP TABLE IF EXISTS `EventPath`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `EventPath` (
  `event_id` int(11) NOT NULL,
  `is_index_step` tinyint(1) NOT NULL,
  `step_index` int(11) DEFAULT NULL,
  `step_key` text,
  KEY `idx_eventpath_event_id` (`event_id`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `EventPath`
--

LOCK TABLES `EventPath` WRITE;
/*!40000 ALTER TABLE `EventPath` DISABLE KEYS */;
/*!40000 ALTER TABLE `EventPath` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `Execution`
--

DROP TABLE IF EXISTS `Execution`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `Execution` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `type_id` int(11) NOT NULL,
  `last_known_state` int(11) DEFAULT NULL,
  `name` varchar(255) DEFAULT NULL,
  `create_time_since_epoch` bigint(20) NOT NULL DEFAULT '0',
  `last_update_time_since_epoch` bigint(20) NOT NULL DEFAULT '0',
  PRIMARY KEY (`id`),
  UNIQUE KEY `UniqueExecutionTypeName` (`type_id`,`name`),
  KEY `idx_execution_create_time_since_epoch` (`create_time_since_epoch`),
  KEY `idx_execution_last_update_time_since_epoch` (`last_update_time_since_epoch`)
) ENGINE=InnoDB AUTO_INCREMENT=29 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `Execution`
--

LOCK TABLES `Execution` WRITE;
/*!40000 ALTER TABLE `Execution` DISABLE KEYS */;
INSERT INTO `Execution` VALUES (1,13,2,'run/5a588c4f-2ca8-402b-a272-467b841c63a8',1760613614340,1760613614340),(2,13,2,'run/9e97467b-dae1-4730-a746-34745180b3e4',1760680648071,1760680648071),(3,14,4,NULL,1760680658058,1760680892940),(4,13,2,'run/f80322ba-a2c5-45cb-a4cd-437eb3e4317a',1760690474663,1760690474663),(5,14,4,NULL,1760690484785,1760690497372),(6,13,2,'run/fb9afddd-b327-4a01-b685-82b67333fc39',1760690926757,1760690926757),(7,14,4,NULL,1760690936765,1760690949377),(8,13,2,'run/a5dab52f-d267-44bb-8397-42780748fb1b',1761131961387,1761131961387),(9,14,4,NULL,1761131971426,1761131984199),(10,13,2,'run/62457a64-5880-42de-9456-38b9c5997b8b',1761133849368,1761133849368),(11,14,4,NULL,1761133859470,1761137498208),(12,13,2,'run/0f47dd3d-5be5-48ac-a8f2-ca0ac3e152ea',1761135360670,1761135360670),(13,14,4,NULL,1761135370593,1761137498208),(14,13,2,'run/30612806-8c6d-476b-91d3-78548981c023',1761135653418,1761135653418),(15,14,4,NULL,1761135663516,1761137498207),(16,13,2,'run/04129361-35ce-4688-b383-33c39f6b57c0',1761137323256,1761137323256),(17,14,4,NULL,1761137331364,1761137498214),(18,13,2,'run/313620c4-976e-404a-9207-d4941cfdb60d',1761138521366,1761138521366),(19,14,4,NULL,1761138530281,1761138543401),(20,13,2,'run/ae452c7b-5688-4685-bb54-48056b5d498a',1761139090995,1761139090995),(21,14,3,NULL,1761139101100,1761139114138),(22,14,4,NULL,1761139121207,1761139133918),(23,13,2,'run/5858d806-def1-4296-bd6b-59cc78d2ccf1',1761146804601,1761146804601),(24,14,3,NULL,1761146814836,1761146827864),(25,14,4,NULL,1761146834718,1761146847586),(26,13,2,'run/9797994d-4cba-49d4-8ada-c8d04813eb19',1761148468466,1761148468466),(27,14,3,NULL,1761148478481,1761148491696),(28,14,3,NULL,1761148498724,1761148511627);
/*!40000 ALTER TABLE `Execution` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `ExecutionProperty`
--

DROP TABLE IF EXISTS `ExecutionProperty`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `ExecutionProperty` (
  `execution_id` int(11) NOT NULL,
  `name` varchar(255) NOT NULL,
  `is_custom_property` tinyint(1) NOT NULL,
  `int_value` int(11) DEFAULT NULL,
  `double_value` double DEFAULT NULL,
  `string_value` mediumtext,
  `byte_value` mediumblob,
  PRIMARY KEY (`execution_id`,`name`,`is_custom_property`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `ExecutionProperty`
--

LOCK TABLES `ExecutionProperty` WRITE;
/*!40000 ALTER TABLE `ExecutionProperty` DISABLE KEYS */;
INSERT INTO `ExecutionProperty` VALUES (1,'display_name',1,NULL,NULL,'',NULL),(1,'inputs',1,NULL,NULL,'mlmd-struct::CkwKDElOUFVUX1MzX1VSSRI8GjpzMzovL21sb3BzLXl0LWFydGlmYWN0cy1uYW5kYWstMTc2MDM2NzIxMS9kYXRhc2V0cy9yYXcuY3N2ChkKCkFXU19SRUdJT04SCxoJdXMtZWFzdC0xClEKDU9VVFBVVF9TM19VUkkSQBo+czM6Ly9tbG9wcy15dC1hcnRpZmFjdHMtbmFuZGFrLTE3NjAzNjcyMTEvZGF0YXNldHMvY2xlYW5lZC5jc3YKJwoKTU9ERUxfTkFNRRIZGhdkaXN0aWxiZXJ0LWJhc2UtdW5jYXNlZApCCgpNTEZMT1dfVVJJEjQaMmh0dHA6Ly9tbGZsb3ctc2VydmljZS5tbG9wcy5zdmMuY2x1c3Rlci5sb2NhbDo1MDAwCjMKCVMzX0JVQ0tFVBImGiRtbG9wcy15dC1hcnRpZmFjdHMtbmFuZGFrLTE3NjAzNjcyMTE=',NULL),(1,'task_name',1,NULL,NULL,'',NULL),(2,'display_name',1,NULL,NULL,'',NULL),(2,'inputs',1,NULL,NULL,'mlmd-struct::CjMKCVMzX0JVQ0tFVBImGiRtbG9wcy15dC1hcnRpZmFjdHMtbmFuZGFrLTE3NjAzNjcyMTEKGQoKQVdTX1JFR0lPThILGgl1cy1lYXN0LTEKUQoNT1VUUFVUX1MzX1VSSRJAGj5zMzovL21sb3BzLXl0LWFydGlmYWN0cy1uYW5kYWstMTc2MDM2NzIxMS9kYXRhc2V0cy9jbGVhbmVkLmNzdgpCCgpNTEZMT1dfVVJJEjQaMmh0dHA6Ly9tbGZsb3ctc2VydmljZS5tbG9wcy5zdmMuY2x1c3Rlci5sb2NhbDo1MDAwCicKCk1PREVMX05BTUUSGRoXZGlzdGlsYmVydC1iYXNlLXVuY2FzZWQKTAoMSU5QVVRfUzNfVVJJEjwaOnMzOi8vbWxvcHMteXQtYXJ0aWZhY3RzLW5hbmRhay0xNzYwMzY3MjExL2RhdGFzZXRzL3Jhdy5jc3Y=',NULL),(2,'task_name',1,NULL,NULL,'',NULL),(3,'cache_fingerprint',1,NULL,NULL,'7c9579cc15272212bb2bb2c015fc02a605046acad73a5b095afefeffcf17ee84',NULL),(3,'display_name',1,NULL,NULL,'preprocess',NULL),(3,'image',1,NULL,NULL,'',NULL),(3,'inputs',1,NULL,NULL,'mlmd-struct::ClEKDW91dHB1dF9zM191cmkSQBo+czM6Ly9tbG9wcy15dC1hcnRpZmFjdHMtbmFuZGFrLTE3NjAzNjcyMTEvZGF0YXNldHMvY2xlYW5lZC5jc3YKTAoMaW5wdXRfczNfdXJpEjwaOnMzOi8vbWxvcHMteXQtYXJ0aWZhY3RzLW5hbmRhay0xNzYwMzY3MjExL2RhdGFzZXRzL3Jhdy5jc3YKGQoKYXdzX3JlZ2lvbhILGgl1cy1lYXN0LTE=',NULL),(3,'namespace',1,NULL,NULL,'kubeflow',NULL),(3,'parent_dag_id',1,2,NULL,NULL,NULL),(3,'pod_name',1,NULL,NULL,'yt-sentiment-pipeline-param-bltkv-3520085412',NULL),(3,'pod_uid',1,NULL,NULL,'790d5198-3854-4270-8799-e9feb5e82ff9',NULL),(3,'task_name',1,NULL,NULL,'preprocess',NULL),(4,'display_name',1,NULL,NULL,'',NULL),(4,'inputs',1,NULL,NULL,'mlmd-struct::ClEKDU9VVFBVVF9TM19VUkkSQBo+czM6Ly9tbG9wcy15dC1hcnRpZmFjdHMtbmFuZGFrLTE3NjAzNjcyMTEvZGF0YXNldHMvY2xlYW5lZC5jc3YKJwoKTU9ERUxfTkFNRRIZGhdkaXN0aWxiZXJ0LWJhc2UtdW5jYXNlZAoZCgpBV1NfUkVHSU9OEgsaCXVzLWVhc3QtMQozCglTM19CVUNLRVQSJhokbWxvcHMteXQtYXJ0aWZhY3RzLW5hbmRhay0xNzYwMzY3MjExCkIKCk1MRkxPV19VUkkSNBoyaHR0cDovL21sZmxvdy1zZXJ2aWNlLm1sb3BzLnN2Yy5jbHVzdGVyLmxvY2FsOjUwMDAKWQoMSU5QVVRfUzNfVVJJEkkaR3MzOi8vbWxvcHMteXQtYXJ0aWZhY3RzLW5hbmRhay0xNzYwMzY3MjExL2RhdGFzZXRzL3lvdXR1YmVfY29tbWVudHMuY3N2',NULL),(4,'task_name',1,NULL,NULL,'',NULL),(5,'cache_fingerprint',1,NULL,NULL,'3289f81cae52e09bdf953db43b9c2b497450a4d61c3f012c3775e948fd1e7e87',NULL),(5,'display_name',1,NULL,NULL,'preprocess',NULL),(5,'image',1,NULL,NULL,'',NULL),(5,'inputs',1,NULL,NULL,'mlmd-struct::ClEKDW91dHB1dF9zM191cmkSQBo+czM6Ly9tbG9wcy15dC1hcnRpZmFjdHMtbmFuZGFrLTE3NjAzNjcyMTEvZGF0YXNldHMvY2xlYW5lZC5jc3YKWQoMaW5wdXRfczNfdXJpEkkaR3MzOi8vbWxvcHMteXQtYXJ0aWZhY3RzLW5hbmRhay0xNzYwMzY3MjExL2RhdGFzZXRzL3lvdXR1YmVfY29tbWVudHMuY3N2ChkKCmF3c19yZWdpb24SCxoJdXMtZWFzdC0x',NULL),(5,'namespace',1,NULL,NULL,'kubeflow',NULL),(5,'parent_dag_id',1,4,NULL,NULL,NULL),(5,'pod_name',1,NULL,NULL,'yt-sentiment-pipeline-param-phnbf-2109174171',NULL),(5,'pod_uid',1,NULL,NULL,'7af6dda3-ed0f-4fe9-8c29-a046ee849c0b',NULL),(5,'task_name',1,NULL,NULL,'preprocess',NULL),(6,'display_name',1,NULL,NULL,'',NULL),(6,'inputs',1,NULL,NULL,'mlmd-struct::CicKCk1PREVMX05BTUUSGRoXZGlzdGlsYmVydC1iYXNlLXVuY2FzZWQKMwoJUzNfQlVDS0VUEiYaJG1sb3BzLXl0LWFydGlmYWN0cy1uYW5kYWstMTc2MDM2NzIxMQoZCgpBV1NfUkVHSU9OEgsaCXVzLWVhc3QtMQpRCg1PVVRQVVRfUzNfVVJJEkAaPnMzOi8vbWxvcHMteXQtYXJ0aWZhY3RzLW5hbmRhay0xNzYwMzY3MjExL2RhdGFzZXRzL2NsZWFuZWQuY3N2CkIKCk1MRkxPV19VUkkSNBoyaHR0cDovL21sZmxvdy1zZXJ2aWNlLm1sb3BzLnN2Yy5jbHVzdGVyLmxvY2FsOjUwMDAKdgoMSU5QVVRfUzNfVVJJEmYaZHMzOi8vbWxvcHMteXQtYXJ0aWZhY3RzLW5hbmRhay0xNzYwMzY3MjExL2RhdGFzZXRzL3lvdXR1YmVfY29tbWVudHNfWDI5WDFCbkFwcE1fMjAyNTEwMTRUMTM0NjAyWi5jc3Y=',NULL),(6,'task_name',1,NULL,NULL,'',NULL),(7,'cache_fingerprint',1,NULL,NULL,'d9b05e03d1e47e7b710bf430f261089180c90f265de9f43464d58a084e62c844',NULL),(7,'display_name',1,NULL,NULL,'preprocess',NULL),(7,'image',1,NULL,NULL,'',NULL),(7,'inputs',1,NULL,NULL,'mlmd-struct::ChkKCmF3c19yZWdpb24SCxoJdXMtZWFzdC0xClEKDW91dHB1dF9zM191cmkSQBo+czM6Ly9tbG9wcy15dC1hcnRpZmFjdHMtbmFuZGFrLTE3NjAzNjcyMTEvZGF0YXNldHMvY2xlYW5lZC5jc3YKdgoMaW5wdXRfczNfdXJpEmYaZHMzOi8vbWxvcHMteXQtYXJ0aWZhY3RzLW5hbmRhay0xNzYwMzY3MjExL2RhdGFzZXRzL3lvdXR1YmVfY29tbWVudHNfWDI5WDFCbkFwcE1fMjAyNTEwMTRUMTM0NjAyWi5jc3Y=',NULL),(7,'namespace',1,NULL,NULL,'kubeflow',NULL),(7,'parent_dag_id',1,6,NULL,NULL,NULL),(7,'pod_name',1,NULL,NULL,'yt-sentiment-pipeline-param-wghl6-3515166829',NULL),(7,'pod_uid',1,NULL,NULL,'e6002aa3-cb15-40a2-a8a4-dd26d2bfa99c',NULL),(7,'task_name',1,NULL,NULL,'preprocess',NULL),(8,'display_name',1,NULL,NULL,'',NULL),(8,'inputs',1,NULL,NULL,'mlmd-struct::CkwKDElOUFVUX1MzX1VSSRI8GjpzMzovL21sb3BzLXl0LWFydGlmYWN0cy1uYW5kYWstMTc2MDM2NzIxMS9kYXRhc2V0cy9yYXcuY3N2CicKCk1PREVMX05BTUUSGRoXZGlzdGlsYmVydC1iYXNlLXVuY2FzZWQKUQoNT1VUUFVUX1MzX1VSSRJAGj5zMzovL21sb3BzLXl0LWFydGlmYWN0cy1uYW5kYWstMTc2MDM2NzIxMS9kYXRhc2V0cy9jbGVhbmVkLmNzdgozCglTM19CVUNLRVQSJhokbWxvcHMteXQtYXJ0aWZhY3RzLW5hbmRhay0xNzYwMzY3MjExCkIKCk1MRkxPV19VUkkSNBoyaHR0cDovL21sZmxvdy1zZXJ2aWNlLm1sb3BzLnN2Yy5jbHVzdGVyLmxvY2FsOjUwMDAKGQoKQVdTX1JFR0lPThILGgl1cy1lYXN0LTE=',NULL),(8,'task_name',1,NULL,NULL,'',NULL),(9,'cache_fingerprint',1,NULL,NULL,'7c9579cc15272212bb2bb2c015fc02a605046acad73a5b095afefeffcf17ee84',NULL),(9,'display_name',1,NULL,NULL,'preprocess',NULL),(9,'image',1,NULL,NULL,'',NULL),(9,'inputs',1,NULL,NULL,'mlmd-struct::ChkKCmF3c19yZWdpb24SCxoJdXMtZWFzdC0xClEKDW91dHB1dF9zM191cmkSQBo+czM6Ly9tbG9wcy15dC1hcnRpZmFjdHMtbmFuZGFrLTE3NjAzNjcyMTEvZGF0YXNldHMvY2xlYW5lZC5jc3YKTAoMaW5wdXRfczNfdXJpEjwaOnMzOi8vbWxvcHMteXQtYXJ0aWZhY3RzLW5hbmRhay0xNzYwMzY3MjExL2RhdGFzZXRzL3Jhdy5jc3Y=',NULL),(9,'namespace',1,NULL,NULL,'kubeflow',NULL),(9,'parent_dag_id',1,8,NULL,NULL,NULL),(9,'pod_name',1,NULL,NULL,'yt-sentiment-pipeline-param-xtvr6-3492346711',NULL),(9,'pod_uid',1,NULL,NULL,'042b0490-08df-43bd-b5fb-0235c39d5e4d',NULL),(9,'task_name',1,NULL,NULL,'preprocess',NULL),(10,'display_name',1,NULL,NULL,'',NULL),(10,'inputs',1,NULL,NULL,'mlmd-struct::ClEKDU9VVFBVVF9TM19VUkkSQBo+czM6Ly9tbG9wcy15dC1hcnRpZmFjdHMtbmFuZGFrLTE3NjAzNjcyMTEvZGF0YXNldHMvY2xlYW5lZC5jc3YKGQoKQVdTX1JFR0lPThILGgl1cy1lYXN0LTEKJwoKTU9ERUxfTkFNRRIZGhdkaXN0aWxiZXJ0LWJhc2UtdW5jYXNlZApMCgxJTlBVVF9TM19VUkkSPBo6czM6Ly9tbG9wcy15dC1hcnRpZmFjdHMtbmFuZGFrLTE3NjAzNjcyMTEvZGF0YXNldHMvcmF3LmNzdgozCglTM19CVUNLRVQSJhokbWxvcHMteXQtYXJ0aWZhY3RzLW5hbmRhay0xNzYwMzY3MjExCkIKCk1MRkxPV19VUkkSNBoyaHR0cDovL21sZmxvdy1zZXJ2aWNlLm1sb3BzLnN2Yy5jbHVzdGVyLmxvY2FsOjUwMDA=',NULL),(10,'task_name',1,NULL,NULL,'',NULL),(11,'cache_fingerprint',1,NULL,NULL,'7c9579cc15272212bb2bb2c015fc02a605046acad73a5b095afefeffcf17ee84',NULL),(11,'display_name',1,NULL,NULL,'preprocess',NULL),(11,'image',1,NULL,NULL,'',NULL),(11,'inputs',1,NULL,NULL,'mlmd-struct::ClEKDW91dHB1dF9zM191cmkSQBo+czM6Ly9tbG9wcy15dC1hcnRpZmFjdHMtbmFuZGFrLTE3NjAzNjcyMTEvZGF0YXNldHMvY2xlYW5lZC5jc3YKTAoMaW5wdXRfczNfdXJpEjwaOnMzOi8vbWxvcHMteXQtYXJ0aWZhY3RzLW5hbmRhay0xNzYwMzY3MjExL2RhdGFzZXRzL3Jhdy5jc3YKGQoKYXdzX3JlZ2lvbhILGgl1cy1lYXN0LTE=',NULL),(11,'namespace',1,NULL,NULL,'kubeflow',NULL),(11,'parent_dag_id',1,10,NULL,NULL,NULL),(11,'pod_name',1,NULL,NULL,'yt-sentiment-pipeline-param-bwvhx-554281600',NULL),(11,'pod_uid',1,NULL,NULL,'49af429e-b003-40b8-8e69-36f76eabecaa',NULL),(11,'task_name',1,NULL,NULL,'preprocess',NULL),(12,'display_name',1,NULL,NULL,'',NULL),(12,'inputs',1,NULL,NULL,'mlmd-struct::CjMKCVMzX0JVQ0tFVBImGiRtbG9wcy15dC1hcnRpZmFjdHMtbmFuZGFrLTE3NjAzNjcyMTEKUQoNT1VUUFVUX1MzX1VSSRJAGj5zMzovL21sb3BzLXl0LWFydGlmYWN0cy1uYW5kYWstMTc2MDM2NzIxMS9kYXRhc2V0cy9jbGVhbmVkLmNzdgpCCgpNTEZMT1dfVVJJEjQaMmh0dHA6Ly9tbGZsb3ctc2VydmljZS5tbG9wcy5zdmMuY2x1c3Rlci5sb2NhbDo1MDAwChkKCkFXU19SRUdJT04SCxoJdXMtZWFzdC0xCicKCk1PREVMX05BTUUSGRoXZGlzdGlsYmVydC1iYXNlLXVuY2FzZWQKTAoMSU5QVVRfUzNfVVJJEjwaOnMzOi8vbWxvcHMteXQtYXJ0aWZhY3RzLW5hbmRhay0xNzYwMzY3MjExL2RhdGFzZXRzL3Jhdy5jc3Y=',NULL),(12,'task_name',1,NULL,NULL,'',NULL),(13,'cache_fingerprint',1,NULL,NULL,'7c9579cc15272212bb2bb2c015fc02a605046acad73a5b095afefeffcf17ee84',NULL),(13,'display_name',1,NULL,NULL,'preprocess',NULL),(13,'image',1,NULL,NULL,'',NULL),(13,'inputs',1,NULL,NULL,'mlmd-struct::CkwKDGlucHV0X3MzX3VyaRI8GjpzMzovL21sb3BzLXl0LWFydGlmYWN0cy1uYW5kYWstMTc2MDM2NzIxMS9kYXRhc2V0cy9yYXcuY3N2ChkKCmF3c19yZWdpb24SCxoJdXMtZWFzdC0xClEKDW91dHB1dF9zM191cmkSQBo+czM6Ly9tbG9wcy15dC1hcnRpZmFjdHMtbmFuZGFrLTE3NjAzNjcyMTEvZGF0YXNldHMvY2xlYW5lZC5jc3Y=',NULL),(13,'namespace',1,NULL,NULL,'kubeflow',NULL),(13,'parent_dag_id',1,12,NULL,NULL,NULL),(13,'pod_name',1,NULL,NULL,'yt-sentiment-pipeline-param-jdp4j-1772678585',NULL),(13,'pod_uid',1,NULL,NULL,'35c5b00e-8ca1-47fe-a68f-951bfb826001',NULL),(13,'task_name',1,NULL,NULL,'preprocess',NULL),(14,'display_name',1,NULL,NULL,'',NULL),(14,'inputs',1,NULL,NULL,'mlmd-struct::ChkKCkFXU19SRUdJT04SCxoJdXMtZWFzdC0xCicKCk1PREVMX05BTUUSGRoXZGlzdGlsYmVydC1iYXNlLXVuY2FzZWQKUQoNT1VUUFVUX1MzX1VSSRJAGj5zMzovL21sb3BzLXl0LWFydGlmYWN0cy1uYW5kYWstMTc2MDM2NzIxMS9kYXRhc2V0cy9jbGVhbmVkLmNzdgpMCgxJTlBVVF9TM19VUkkSPBo6czM6Ly9tbG9wcy15dC1hcnRpZmFjdHMtbmFuZGFrLTE3NjAzNjcyMTEvZGF0YXNldHMvcmF3LmNzdgpCCgpNTEZMT1dfVVJJEjQaMmh0dHA6Ly9tbGZsb3ctc2VydmljZS5tbG9wcy5zdmMuY2x1c3Rlci5sb2NhbDo1MDAwCjMKCVMzX0JVQ0tFVBImGiRtbG9wcy15dC1hcnRpZmFjdHMtbmFuZGFrLTE3NjAzNjcyMTE=',NULL),(14,'task_name',1,NULL,NULL,'',NULL),(15,'cache_fingerprint',1,NULL,NULL,'7c9579cc15272212bb2bb2c015fc02a605046acad73a5b095afefeffcf17ee84',NULL),(15,'display_name',1,NULL,NULL,'preprocess',NULL),(15,'image',1,NULL,NULL,'',NULL),(15,'inputs',1,NULL,NULL,'mlmd-struct::ClEKDW91dHB1dF9zM191cmkSQBo+czM6Ly9tbG9wcy15dC1hcnRpZmFjdHMtbmFuZGFrLTE3NjAzNjcyMTEvZGF0YXNldHMvY2xlYW5lZC5jc3YKGQoKYXdzX3JlZ2lvbhILGgl1cy1lYXN0LTEKTAoMaW5wdXRfczNfdXJpEjwaOnMzOi8vbWxvcHMteXQtYXJ0aWZhY3RzLW5hbmRhay0xNzYwMzY3MjExL2RhdGFzZXRzL3Jhdy5jc3Y=',NULL),(15,'namespace',1,NULL,NULL,'kubeflow',NULL),(15,'parent_dag_id',1,14,NULL,NULL,NULL),(15,'pod_name',1,NULL,NULL,'yt-sentiment-pipeline-param-pfw5n-1281254233',NULL),(15,'pod_uid',1,NULL,NULL,'4e0da66d-7967-4bdf-bfa6-952767fb7548',NULL),(15,'task_name',1,NULL,NULL,'preprocess',NULL),(16,'display_name',1,NULL,NULL,'',NULL),(16,'inputs',1,NULL,NULL,'mlmd-struct::ChkKCkFXU19SRUdJT04SCxoJdXMtZWFzdC0xCjMKCVMzX0JVQ0tFVBImGiRtbG9wcy15dC1hcnRpZmFjdHMtbmFuZGFrLTE3NjAzNjcyMTEKUQoNT1VUUFVUX1MzX1VSSRJAGj5zMzovL21sb3BzLXl0LWFydGlmYWN0cy1uYW5kYWstMTc2MDM2NzIxMS9kYXRhc2V0cy9jbGVhbmVkLmNzdgpCCgpNTEZMT1dfVVJJEjQaMmh0dHA6Ly9tbGZsb3ctc2VydmljZS5tbG9wcy5zdmMuY2x1c3Rlci5sb2NhbDo1MDAwCicKCk1PREVMX05BTUUSGRoXZGlzdGlsYmVydC1iYXNlLXVuY2FzZWQKTAoMSU5QVVRfUzNfVVJJEjwaOnMzOi8vbWxvcHMteXQtYXJ0aWZhY3RzLW5hbmRhay0xNzYwMzY3MjExL2RhdGFzZXRzL3Jhdy5jc3Y=',NULL),(16,'task_name',1,NULL,NULL,'',NULL),(17,'cache_fingerprint',1,NULL,NULL,'7c9579cc15272212bb2bb2c015fc02a605046acad73a5b095afefeffcf17ee84',NULL),(17,'display_name',1,NULL,NULL,'preprocess',NULL),(17,'image',1,NULL,NULL,'',NULL),(17,'inputs',1,NULL,NULL,'mlmd-struct::CkwKDGlucHV0X3MzX3VyaRI8GjpzMzovL21sb3BzLXl0LWFydGlmYWN0cy1uYW5kYWstMTc2MDM2NzIxMS9kYXRhc2V0cy9yYXcuY3N2ChkKCmF3c19yZWdpb24SCxoJdXMtZWFzdC0xClEKDW91dHB1dF9zM191cmkSQBo+czM6Ly9tbG9wcy15dC1hcnRpZmFjdHMtbmFuZGFrLTE3NjAzNjcyMTEvZGF0YXNldHMvY2xlYW5lZC5jc3Y=',NULL),(17,'namespace',1,NULL,NULL,'kubeflow',NULL),(17,'parent_dag_id',1,16,NULL,NULL,NULL),(17,'pod_name',1,NULL,NULL,'yt-sentiment-pipeline-param-dvblg-2970763406',NULL),(17,'pod_uid',1,NULL,NULL,'db5c8d95-e663-4196-baba-4fa75b868fff',NULL),(17,'task_name',1,NULL,NULL,'preprocess',NULL),(18,'display_name',1,NULL,NULL,'',NULL),(18,'inputs',1,NULL,NULL,'mlmd-struct::CkIKCk1MRkxPV19VUkkSNBoyaHR0cDovL21sZmxvdy1zZXJ2aWNlLm1sb3BzLnN2Yy5jbHVzdGVyLmxvY2FsOjUwMDAKMwoJUzNfQlVDS0VUEiYaJG1sb3BzLXl0LWFydGlmYWN0cy1uYW5kYWstMTc2MDM2NzIxMQpMCgxJTlBVVF9TM19VUkkSPBo6czM6Ly9tbG9wcy15dC1hcnRpZmFjdHMtbmFuZGFrLTE3NjAzNjcyMTEvZGF0YXNldHMvcmF3LmNzdgoZCgpBV1NfUkVHSU9OEgsaCXVzLWVhc3QtMQonCgpNT0RFTF9OQU1FEhkaF2Rpc3RpbGJlcnQtYmFzZS11bmNhc2VkClEKDU9VVFBVVF9TM19VUkkSQBo+czM6Ly9tbG9wcy15dC1hcnRpZmFjdHMtbmFuZGFrLTE3NjAzNjcyMTEvZGF0YXNldHMvY2xlYW5lZC5jc3Y=',NULL),(18,'task_name',1,NULL,NULL,'',NULL),(19,'cache_fingerprint',1,NULL,NULL,'7c9579cc15272212bb2bb2c015fc02a605046acad73a5b095afefeffcf17ee84',NULL),(19,'display_name',1,NULL,NULL,'preprocess',NULL),(19,'image',1,NULL,NULL,'',NULL),(19,'inputs',1,NULL,NULL,'mlmd-struct::ClEKDW91dHB1dF9zM191cmkSQBo+czM6Ly9tbG9wcy15dC1hcnRpZmFjdHMtbmFuZGFrLTE3NjAzNjcyMTEvZGF0YXNldHMvY2xlYW5lZC5jc3YKTAoMaW5wdXRfczNfdXJpEjwaOnMzOi8vbWxvcHMteXQtYXJ0aWZhY3RzLW5hbmRhay0xNzYwMzY3MjExL2RhdGFzZXRzL3Jhdy5jc3YKGQoKYXdzX3JlZ2lvbhILGgl1cy1lYXN0LTE=',NULL),(19,'namespace',1,NULL,NULL,'kubeflow',NULL),(19,'parent_dag_id',1,18,NULL,NULL,NULL),(19,'pod_name',1,NULL,NULL,'yt-sentiment-pipeline-param-sg7nj-2796285420',NULL),(19,'pod_uid',1,NULL,NULL,'d6c21211-c4a1-474a-8701-50fc48c41373',NULL),(19,'task_name',1,NULL,NULL,'preprocess',NULL),(20,'display_name',1,NULL,NULL,'',NULL),(20,'inputs',1,NULL,NULL,'mlmd-struct::CicKCk1PREVMX05BTUUSGRoXZGlzdGlsYmVydC1iYXNlLXVuY2FzZWQKQgoKTUxGTE9XX1VSSRI0GjJodHRwOi8vbWxmbG93LXNlcnZpY2UubWxvcHMuc3ZjLmNsdXN0ZXIubG9jYWw6NTAwMAp2CgxJTlBVVF9TM19VUkkSZhpkczM6Ly9tbG9wcy15dC1hcnRpZmFjdHMtbmFuZGFrLTE3NjAzNjcyMTEvZGF0YXNldHMveW91dHViZV9jb21tZW50c19YMjlYMUJuQXBwTV8yMDI1MTAxNFQxMzQ2MDJaLmNzdgoZCgpBV1NfUkVHSU9OEgsaCXVzLWVhc3QtMQpRCg1PVVRQVVRfUzNfVVJJEkAaPnMzOi8vbWxvcHMteXQtYXJ0aWZhY3RzLW5hbmRhay0xNzYwMzY3MjExL2RhdGFzZXRzL2NsZWFuZWQuY3N2CjMKCVMzX0JVQ0tFVBImGiRtbG9wcy15dC1hcnRpZmFjdHMtbmFuZGFrLTE3NjAzNjcyMTE=',NULL),(20,'task_name',1,NULL,NULL,'',NULL),(21,'cache_fingerprint',1,NULL,NULL,'d9b05e03d1e47e7b710bf430f261089180c90f265de9f43464d58a084e62c844',NULL),(21,'display_name',1,NULL,NULL,'preprocess',NULL),(21,'image',1,NULL,NULL,'',NULL),(21,'inputs',1,NULL,NULL,'mlmd-struct::CnYKDGlucHV0X3MzX3VyaRJmGmRzMzovL21sb3BzLXl0LWFydGlmYWN0cy1uYW5kYWstMTc2MDM2NzIxMS9kYXRhc2V0cy95b3V0dWJlX2NvbW1lbnRzX1gyOVgxQm5BcHBNXzIwMjUxMDE0VDEzNDYwMlouY3N2ChkKCmF3c19yZWdpb24SCxoJdXMtZWFzdC0xClEKDW91dHB1dF9zM191cmkSQBo+czM6Ly9tbG9wcy15dC1hcnRpZmFjdHMtbmFuZGFrLTE3NjAzNjcyMTEvZGF0YXNldHMvY2xlYW5lZC5jc3Y=',NULL),(21,'namespace',1,NULL,NULL,'kubeflow',NULL),(21,'outputs',1,NULL,NULL,'mlmd-struct::',NULL),(21,'parent_dag_id',1,20,NULL,NULL,NULL),(21,'pod_name',1,NULL,NULL,'yt-sentiment-pipeline-param-xsbq6-3005437803',NULL),(21,'pod_uid',1,NULL,NULL,'fe268bdf-50e0-485e-bbee-9c2a242a72ce',NULL),(21,'task_name',1,NULL,NULL,'preprocess',NULL),(22,'cache_fingerprint',1,NULL,NULL,'64b840f895304d176f83936eef61d79a655a664ea67ce2b4d306fa38eccd137b',NULL),(22,'display_name',1,NULL,NULL,'train',NULL),(22,'image',1,NULL,NULL,'',NULL),(22,'inputs',1,NULL,NULL,'mlmd-struct::CicKCm1vZGVsX25hbWUSGRoXZGlzdGlsYmVydC1iYXNlLXVuY2FzZWQKQgoKbWxmbG93X3VyaRI0GjJodHRwOi8vbWxmbG93LXNlcnZpY2UubWxvcHMuc3ZjLmNsdXN0ZXIubG9jYWw6NTAwMAoZCgphd3NfcmVnaW9uEgsaCXVzLWVhc3QtMQozCglzM19idWNrZXQSJhokbWxvcHMteXQtYXJ0aWZhY3RzLW5hbmRhay0xNzYwMzY3MjEx',NULL),(22,'namespace',1,NULL,NULL,'kubeflow',NULL),(22,'parent_dag_id',1,20,NULL,NULL,NULL),(22,'pod_name',1,NULL,NULL,'yt-sentiment-pipeline-param-xsbq6-4062894523',NULL),(22,'pod_uid',1,NULL,NULL,'b88e5a5f-b19c-4fda-8175-9631df5e60c7',NULL),(22,'task_name',1,NULL,NULL,'train',NULL),(23,'display_name',1,NULL,NULL,'',NULL),(23,'inputs',1,NULL,NULL,'mlmd-struct::ClEKDU9VVFBVVF9TM19VUkkSQBo+czM6Ly9tbG9wcy15dC1hcnRpZmFjdHMtbmFuZGFrLTE3NjAzNjcyMTEvZGF0YXNldHMvY2xlYW5lZC5jc3YKJwoKTU9ERUxfTkFNRRIZGhdkaXN0aWxiZXJ0LWJhc2UtdW5jYXNlZApZCgxJTlBVVF9TM19VUkkSSRpHczM6Ly9tbG9wcy15dC1hcnRpZmFjdHMtbmFuZGFrLTE3NjAzNjcyMTEvZGF0YXNldHMveW91dHViZV9jb21tZW50cy5jc3YKGQoKQVdTX1JFR0lPThILGgl1cy1lYXN0LTEKQgoKTUxGTE9XX1VSSRI0GjJodHRwOi8vbWxmbG93LXNlcnZpY2UubWxvcHMuc3ZjLmNsdXN0ZXIubG9jYWw6NTAwMAozCglTM19CVUNLRVQSJhokbWxvcHMteXQtYXJ0aWZhY3RzLW5hbmRhay0xNzYwMzY3MjEx',NULL),(23,'task_name',1,NULL,NULL,'',NULL),(24,'cache_fingerprint',1,NULL,NULL,'3289f81cae52e09bdf953db43b9c2b497450a4d61c3f012c3775e948fd1e7e87',NULL),(24,'display_name',1,NULL,NULL,'preprocess',NULL),(24,'image',1,NULL,NULL,'',NULL),(24,'inputs',1,NULL,NULL,'mlmd-struct::ChkKCmF3c19yZWdpb24SCxoJdXMtZWFzdC0xClEKDW91dHB1dF9zM191cmkSQBo+czM6Ly9tbG9wcy15dC1hcnRpZmFjdHMtbmFuZGFrLTE3NjAzNjcyMTEvZGF0YXNldHMvY2xlYW5lZC5jc3YKWQoMaW5wdXRfczNfdXJpEkkaR3MzOi8vbWxvcHMteXQtYXJ0aWZhY3RzLW5hbmRhay0xNzYwMzY3MjExL2RhdGFzZXRzL3lvdXR1YmVfY29tbWVudHMuY3N2',NULL),(24,'namespace',1,NULL,NULL,'kubeflow',NULL),(24,'outputs',1,NULL,NULL,'mlmd-struct::',NULL),(24,'parent_dag_id',1,23,NULL,NULL,NULL),(24,'pod_name',1,NULL,NULL,'yt-sentiment-pipeline-param-rltv6-4202137267',NULL),(24,'pod_uid',1,NULL,NULL,'16c3a726-90f3-425c-b33b-9dd5f83ff0a0',NULL),(24,'task_name',1,NULL,NULL,'preprocess',NULL),(25,'cache_fingerprint',1,NULL,NULL,'64b840f895304d176f83936eef61d79a655a664ea67ce2b4d306fa38eccd137b',NULL),(25,'display_name',1,NULL,NULL,'train',NULL),(25,'image',1,NULL,NULL,'',NULL),(25,'inputs',1,NULL,NULL,'mlmd-struct::CkIKCm1sZmxvd191cmkSNBoyaHR0cDovL21sZmxvdy1zZXJ2aWNlLm1sb3BzLnN2Yy5jbHVzdGVyLmxvY2FsOjUwMDAKJwoKbW9kZWxfbmFtZRIZGhdkaXN0aWxiZXJ0LWJhc2UtdW5jYXNlZAozCglzM19idWNrZXQSJhokbWxvcHMteXQtYXJ0aWZhY3RzLW5hbmRhay0xNzYwMzY3MjExChkKCmF3c19yZWdpb24SCxoJdXMtZWFzdC0x',NULL),(25,'namespace',1,NULL,NULL,'kubeflow',NULL),(25,'parent_dag_id',1,23,NULL,NULL,NULL),(25,'pod_name',1,NULL,NULL,'yt-sentiment-pipeline-param-rltv6-3852224963',NULL),(25,'pod_uid',1,NULL,NULL,'52e0fbf3-a6ad-41f1-8848-103502598f47',NULL),(25,'task_name',1,NULL,NULL,'train',NULL),(26,'display_name',1,NULL,NULL,'',NULL),(26,'inputs',1,NULL,NULL,'mlmd-struct::ClEKDU9VVFBVVF9TM19VUkkSQBo+czM6Ly9tbG9wcy15dC1hcnRpZmFjdHMtbmFuZGFrLTE3NjAzNjcyMTEvZGF0YXNldHMvY2xlYW5lZC5jc3YKGQoKQVdTX1JFR0lPThILGgl1cy1lYXN0LTEKWQoMSU5QVVRfUzNfVVJJEkkaR3MzOi8vbWxvcHMteXQtYXJ0aWZhY3RzLW5hbmRhay0xNzYwMzY3MjExL2RhdGFzZXRzL3lvdXR1YmVfY29tbWVudHMuY3N2CkIKCk1MRkxPV19VUkkSNBoyaHR0cDovL21sZmxvdy1zZXJ2aWNlLm1sb3BzLnN2Yy5jbHVzdGVyLmxvY2FsOjUwMDAKJwoKTU9ERUxfTkFNRRIZGhdkaXN0aWxiZXJ0LWJhc2UtdW5jYXNlZAozCglTM19CVUNLRVQSJhokbWxvcHMteXQtYXJ0aWZhY3RzLW5hbmRhay0xNzYwMzY3MjEx',NULL),(26,'task_name',1,NULL,NULL,'',NULL),(27,'cache_fingerprint',1,NULL,NULL,'e28d6ec0836bc658fab62b10d14f5cd444ef9d69e9ec638157e55c5ed9afcc46',NULL),(27,'display_name',1,NULL,NULL,'preprocess',NULL),(27,'image',1,NULL,NULL,'',NULL),(27,'inputs',1,NULL,NULL,'mlmd-struct::ClEKDW91dHB1dF9zM191cmkSQBo+czM6Ly9tbG9wcy15dC1hcnRpZmFjdHMtbmFuZGFrLTE3NjAzNjcyMTEvZGF0YXNldHMvY2xlYW5lZC5jc3YKGQoKYXdzX3JlZ2lvbhILGgl1cy1lYXN0LTEKWQoMaW5wdXRfczNfdXJpEkkaR3MzOi8vbWxvcHMteXQtYXJ0aWZhY3RzLW5hbmRhay0xNzYwMzY3MjExL2RhdGFzZXRzL3lvdXR1YmVfY29tbWVudHMuY3N2',NULL),(27,'namespace',1,NULL,NULL,'kubeflow',NULL),(27,'outputs',1,NULL,NULL,'mlmd-struct::CkoKBk91dHB1dBJAGj5zMzovL21sb3BzLXl0LWFydGlmYWN0cy1uYW5kYWstMTc2MDM2NzIxMS9kYXRhc2V0cy9jbGVhbmVkLmNzdg==',NULL),(27,'parent_dag_id',1,26,NULL,NULL,NULL),(27,'pod_name',1,NULL,NULL,'yt-sentiment-pipeline-param-4h4vj-2460256001',NULL),(27,'pod_uid',1,NULL,NULL,'5ef4830f-5100-4eb8-9766-ea2ac5357be1',NULL),(27,'task_name',1,NULL,NULL,'preprocess',NULL),(28,'cache_fingerprint',1,NULL,NULL,'4543f9c6e87f52189554fe94b214faf797641f4ffa1b7e5462af05871eea5fba',NULL),(28,'display_name',1,NULL,NULL,'train',NULL),(28,'image',1,NULL,NULL,'',NULL),(28,'inputs',1,NULL,NULL,'mlmd-struct::ClcKDW91dHB1dF9zM191cmkSRhpEczM6Ly9tbG9wcy15dC1hcnRpZmFjdHMtbmFuZGFrLTE3NjAzNjcyMTEvZGF0YXNldHMvdHJhaW5fbWV0cmljcy50eHQKUAoMaW5wdXRfczNfdXJpEkAaPnMzOi8vbWxvcHMteXQtYXJ0aWZhY3RzLW5hbmRhay0xNzYwMzY3MjExL2RhdGFzZXRzL2NsZWFuZWQuY3N2CjMKCXMzX2J1Y2tldBImGiRtbG9wcy15dC1hcnRpZmFjdHMtbmFuZGFrLTE3NjAzNjcyMTEKJwoKbW9kZWxfbmFtZRIZGhdkaXN0aWxiZXJ0LWJhc2UtdW5jYXNlZAoZCgphd3NfcmVnaW9uEgsaCXVzLWVhc3QtMQpCCgptbGZsb3dfdXJpEjQaMmh0dHA6Ly9tbGZsb3ctc2VydmljZS5tbG9wcy5zdmMuY2x1c3Rlci5sb2NhbDo1MDAw',NULL),(28,'namespace',1,NULL,NULL,'kubeflow',NULL),(28,'outputs',1,NULL,NULL,'mlmd-struct::',NULL),(28,'parent_dag_id',1,26,NULL,NULL,NULL),(28,'pod_name',1,NULL,NULL,'yt-sentiment-pipeline-param-4h4vj-3365950757',NULL),(28,'pod_uid',1,NULL,NULL,'06f8d6ef-598a-4343-a356-83ce5b30110a',NULL),(28,'task_name',1,NULL,NULL,'train',NULL);
/*!40000 ALTER TABLE `ExecutionProperty` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `MLMDEnv`
--

DROP TABLE IF EXISTS `MLMDEnv`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `MLMDEnv` (
  `schema_version` int(11) NOT NULL,
  PRIMARY KEY (`schema_version`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `MLMDEnv`
--

LOCK TABLES `MLMDEnv` WRITE;
/*!40000 ALTER TABLE `MLMDEnv` DISABLE KEYS */;
INSERT INTO `MLMDEnv` VALUES (7);
/*!40000 ALTER TABLE `MLMDEnv` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `ParentContext`
--

DROP TABLE IF EXISTS `ParentContext`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `ParentContext` (
  `context_id` int(11) NOT NULL,
  `parent_context_id` int(11) NOT NULL,
  PRIMARY KEY (`context_id`,`parent_context_id`),
  KEY `idx_parentcontext_parent_context_id` (`parent_context_id`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `ParentContext`
--

LOCK TABLES `ParentContext` WRITE;
/*!40000 ALTER TABLE `ParentContext` DISABLE KEYS */;
INSERT INTO `ParentContext` VALUES (2,1),(3,1),(4,1),(5,1),(6,1),(7,1),(8,1),(9,1),(10,1),(11,1),(12,1),(13,1),(14,1);
/*!40000 ALTER TABLE `ParentContext` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `ParentType`
--

DROP TABLE IF EXISTS `ParentType`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `ParentType` (
  `type_id` int(11) NOT NULL,
  `parent_type_id` int(11) NOT NULL,
  PRIMARY KEY (`type_id`,`parent_type_id`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `ParentType`
--

LOCK TABLES `ParentType` WRITE;
/*!40000 ALTER TABLE `ParentType` DISABLE KEYS */;
/*!40000 ALTER TABLE `ParentType` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `Type`
--

DROP TABLE IF EXISTS `Type`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `Type` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `name` varchar(255) NOT NULL,
  `version` varchar(255) DEFAULT NULL,
  `type_kind` tinyint(1) NOT NULL,
  `description` text,
  `input_type` text,
  `output_type` text,
  PRIMARY KEY (`id`),
  KEY `idx_type_name` (`name`)
) ENGINE=InnoDB AUTO_INCREMENT=15 DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `Type`
--

LOCK TABLES `Type` WRITE;
/*!40000 ALTER TABLE `Type` DISABLE KEYS */;
INSERT INTO `Type` VALUES (1,'mlmd.Dataset',NULL,1,NULL,NULL,NULL),(2,'mlmd.Model',NULL,1,NULL,NULL,NULL),(3,'mlmd.Metrics',NULL,1,NULL,NULL,NULL),(4,'mlmd.Statistics',NULL,1,NULL,NULL,NULL),(5,'mlmd.Train',NULL,0,NULL,NULL,NULL),(6,'mlmd.Transform',NULL,0,NULL,NULL,NULL),(7,'mlmd.Process',NULL,0,NULL,NULL,NULL),(8,'mlmd.Evaluate',NULL,0,NULL,NULL,NULL),(9,'mlmd.Deploy',NULL,0,NULL,NULL,NULL),(10,'DummyExecutionType',NULL,0,NULL,NULL,NULL),(11,'system.Pipeline',NULL,2,NULL,NULL,NULL),(12,'system.PipelineRun',NULL,2,NULL,NULL,NULL),(13,'system.DAGExecution',NULL,0,NULL,NULL,NULL),(14,'system.ContainerExecution',NULL,0,NULL,NULL,NULL);
/*!40000 ALTER TABLE `Type` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `TypeProperty`
--

DROP TABLE IF EXISTS `TypeProperty`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `TypeProperty` (
  `type_id` int(11) NOT NULL,
  `name` varchar(255) NOT NULL,
  `data_type` int(11) DEFAULT NULL,
  PRIMARY KEY (`type_id`,`name`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `TypeProperty`
--

LOCK TABLES `TypeProperty` WRITE;
/*!40000 ALTER TABLE `TypeProperty` DISABLE KEYS */;
/*!40000 ALTER TABLE `TypeProperty` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `db_statuses`
--

DROP TABLE IF EXISTS `db_statuses`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `db_statuses` (
  `HaveSamplesLoaded` tinyint(1) NOT NULL,
  PRIMARY KEY (`HaveSamplesLoaded`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `db_statuses`
--

LOCK TABLES `db_statuses` WRITE;
/*!40000 ALTER TABLE `db_statuses` DISABLE KEYS */;
INSERT INTO `db_statuses` VALUES (1);
/*!40000 ALTER TABLE `db_statuses` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `default_experiments`
--

DROP TABLE IF EXISTS `default_experiments`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `default_experiments` (
  `DefaultExperimentId` varchar(255) NOT NULL,
  PRIMARY KEY (`DefaultExperimentId`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `default_experiments`
--

LOCK TABLES `default_experiments` WRITE;
/*!40000 ALTER TABLE `default_experiments` DISABLE KEYS */;
INSERT INTO `default_experiments` VALUES ('4cff905d-9ecc-48e3-9599-e4454b88599c');
/*!40000 ALTER TABLE `default_experiments` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `experiments`
--

DROP TABLE IF EXISTS `experiments`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `experiments` (
  `UUID` varchar(255) NOT NULL,
  `Name` varchar(255) NOT NULL,
  `Description` varchar(255) NOT NULL,
  `CreatedAtInSec` bigint(20) NOT NULL,
  `Namespace` varchar(255) NOT NULL,
  `StorageState` varchar(255) NOT NULL,
  PRIMARY KEY (`UUID`),
  UNIQUE KEY `idx_name_namespace` (`Name`,`Namespace`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `experiments`
--

LOCK TABLES `experiments` WRITE;
/*!40000 ALTER TABLE `experiments` DISABLE KEYS */;
INSERT INTO `experiments` VALUES ('4c504879-f007-41d5-9805-f338dcd518a2','yt-mlops','',1761146716,'','AVAILABLE'),('4cff905d-9ecc-48e3-9599-e4454b88599c','Default','All runs created without specifying an experiment will be grouped here.',1760607064,'','AVAILABLE'),('73a102cf-474a-4691-a9be-b60ade3d5345','youtube ingestion','',1760613439,'','AVAILABLE'),('f327d17d-932b-4be6-9984-015c6cb190fc','yt','',1761148361,'','AVAILABLE');
/*!40000 ALTER TABLE `experiments` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `jobs`
--

DROP TABLE IF EXISTS `jobs`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `jobs` (
  `UUID` varchar(255) NOT NULL,
  `DisplayName` varchar(255) NOT NULL,
  `Name` varchar(255) NOT NULL,
  `Namespace` varchar(255) NOT NULL,
  `ServiceAccount` varchar(255) NOT NULL,
  `Description` varchar(255) NOT NULL,
  `MaxConcurrency` bigint(20) NOT NULL,
  `NoCatchup` tinyint(1) NOT NULL,
  `CreatedAtInSec` bigint(20) NOT NULL,
  `UpdatedAtInSec` bigint(20) DEFAULT '0',
  `Enabled` tinyint(1) NOT NULL,
  `ExperimentUUID` varchar(255) NOT NULL,
  `CronScheduleStartTimeInSec` bigint(20) DEFAULT NULL,
  `CronScheduleEndTimeInSec` bigint(20) DEFAULT NULL,
  `Schedule` varchar(255) DEFAULT NULL,
  `PeriodicScheduleStartTimeInSec` bigint(20) DEFAULT NULL,
  `PeriodicScheduleEndTimeInSec` bigint(20) DEFAULT NULL,
  `IntervalSecond` bigint(20) DEFAULT NULL,
  `PipelineId` varchar(255) NOT NULL,
  `PipelineVersionId` varchar(255) DEFAULT NULL,
  `PipelineName` varchar(255) NOT NULL,
  `PipelineSpecManifest` longtext,
  `WorkflowSpecManifest` longtext NOT NULL,
  `Parameters` longtext,
  `RuntimeParameters` longtext,
  `PipelineRoot` longtext,
  `Conditions` varchar(255) NOT NULL,
  PRIMARY KEY (`UUID`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `jobs`
--

LOCK TABLES `jobs` WRITE;
/*!40000 ALTER TABLE `jobs` DISABLE KEYS */;
/*!40000 ALTER TABLE `jobs` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `pipeline_versions`
--

DROP TABLE IF EXISTS `pipeline_versions`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `pipeline_versions` (
  `UUID` varchar(255) NOT NULL,
  `CreatedAtInSec` bigint(20) NOT NULL,
  `Name` varchar(255) NOT NULL,
  `Parameters` longtext CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci,
  `PipelineId` varchar(255) NOT NULL,
  `Status` varchar(255) NOT NULL,
  `CodeSourceUrl` varchar(255) DEFAULT NULL,
  `Description` longtext CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci,
  `PipelineSpec` longtext CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci,
  `PipelineSpecURI` longtext NOT NULL,
  PRIMARY KEY (`UUID`),
  UNIQUE KEY `idx_pipelineid_name` (`Name`,`PipelineId`),
  KEY `idx_pipeline_versions_PipelineId` (`PipelineId`),
  KEY `idx_pipeline_versions_CreatedAtInSec` (`CreatedAtInSec`),
  CONSTRAINT `pipeline_versions_PipelineId_pipelines_UUID_foreign` FOREIGN KEY (`PipelineId`) REFERENCES `pipelines` (`UUID`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `pipeline_versions`
--

LOCK TABLES `pipeline_versions` WRITE;
/*!40000 ALTER TABLE `pipeline_versions` DISABLE KEYS */;
INSERT INTO `pipeline_versions` VALUES ('7195ea09-1910-40e1-a716-7ff566d29a2f',1761148428,'yt-mlops_version_at_2025-10-22T15:53:33.015Z','[]','9dfb0e66-0ba9-45fe-83cb-87237b13d363','READY','','','components:\n  comp-preprocess:\n    executorLabel: exec-preprocess\n    inputDefinitions:\n      parameters:\n        aws_region:\n          parameterType: STRING\n        input_s3_uri:\n          parameterType: STRING\n        output_s3_uri:\n          parameterType: STRING\n    outputDefinitions:\n      parameters:\n        Output:\n          parameterType: STRING\n  comp-train:\n    executorLabel: exec-train\n    inputDefinitions:\n      parameters:\n        aws_region:\n          parameterType: STRING\n        input_s3_uri:\n          parameterType: STRING\n        mlflow_uri:\n          parameterType: STRING\n        model_name:\n          parameterType: STRING\n        output_s3_uri:\n          parameterType: STRING\n        s3_bucket:\n          parameterType: STRING\ndeploymentSpec:\n  executors:\n    exec-preprocess:\n      container:\n        args:\n        - --executor_input\n        - \'{{$}}\'\n        - --function_to_execute\n        - preprocess\n        command:\n        - sh\n        - -c\n        - |2\n\n          if ! [ -x \"$(command -v pip)\" ]; then\n              python3 -m ensurepip || python3 -m ensurepip --user || apt-get install python3-pip\n          fi\n\n          PIP_DISABLE_PIP_VERSION_CHECK=1 python3 -m pip install --quiet --no-warn-script-location \'kfp==2.14.6\' \'--no-deps\' \'typing-extensions>=3.7.4,<5; python_version<\"3.9\"\' && \"$0\" \"$@\"\n        - sh\n        - -ec\n        - |\n          program_path=$(mktemp -d)\n\n          printf \"%s\" \"$0\" > \"$program_path/ephemeral_component.py\"\n          _KFP_RUNTIME=true python3 -m kfp.dsl.executor_main                         --component_module_path                         \"$program_path/ephemeral_component.py\"                         \"$@\"\n        - |2+\n\n          import kfp\n          from kfp import dsl\n          from kfp.dsl import *\n          from typing import *\n\n          def preprocess(input_s3_uri: str, output_s3_uri: str, aws_region: str) -> str:\n              \"\"\"Preprocess YouTube comments and upload cleaned data to S3.\n                 Returns: output_s3_uri (so downstream components can consume it)\n              \"\"\"\n              import os, subprocess\n              os.environ[\"INPUT_S3_URI\"] = input_s3_uri\n              os.environ[\"OUTPUT_S3_URI\"] = output_s3_uri\n              os.environ[\"AWS_REGION\"] = aws_region\n              print(f\"Preprocessing from {input_s3_uri} → {output_s3_uri}\")\n              subprocess.run([\"python\", \"/app/preprocess/component.py\"], check=True)\n              # Return the output path so KFP treats it as a component output\n              return output_s3_uri\n\n        image: 118730128420.dkr.ecr.us-east-1.amazonaws.com/yt-kfp-component:latest\n    exec-train:\n      container:\n        args:\n        - --executor_input\n        - \'{{$}}\'\n        - --function_to_execute\n        - train\n        command:\n        - sh\n        - -c\n        - |2\n\n          if ! [ -x \"$(command -v pip)\" ]; then\n              python3 -m ensurepip || python3 -m ensurepip --user || apt-get install python3-pip\n          fi\n\n          PIP_DISABLE_PIP_VERSION_CHECK=1 python3 -m pip install --quiet --no-warn-script-location \'kfp==2.14.6\' \'--no-deps\' \'typing-extensions>=3.7.4,<5; python_version<\"3.9\"\' && \"$0\" \"$@\"\n        - sh\n        - -ec\n        - |\n          program_path=$(mktemp -d)\n\n          printf \"%s\" \"$0\" > \"$program_path/ephemeral_component.py\"\n          _KFP_RUNTIME=true python3 -m kfp.dsl.executor_main                         --component_module_path                         \"$program_path/ephemeral_component.py\"                         \"$@\"\n        - |2+\n\n          import kfp\n          from kfp import dsl\n          from kfp.dsl import *\n          from typing import *\n\n          def train(input_s3_uri: str, output_s3_uri: str, mlflow_uri: str, s3_bucket: str, model_name: str, aws_region: str):\n              \"\"\"Train sentiment model and log results to MLflow.\"\"\"\n              import os, subprocess\n              os.environ[\"INPUT_S3_URI\"] = input_s3_uri\n              os.environ[\"OUTPUT_S3_URI\"] = output_s3_uri\n              os.environ[\"MLFLOW_URI\"] = mlflow_uri\n              os.environ[\"S3_BUCKET\"] = s3_bucket\n              os.environ[\"MODEL_NAME\"] = model_name\n              os.environ[\"AWS_REGION\"] = aws_region\n              print(f\"Training model {model_name}, logging to {mlflow_uri}\")\n              subprocess.run([\"python\", \"/app/train/component.py\"], check=True)\n\n        image: 118730128420.dkr.ecr.us-east-1.amazonaws.com/yt-kfp-component:latest\npipelineInfo:\n  description: YouTube Sentiment Analyzer pipeline using MLflow + S3 + EKS\n  name: yt-sentiment-pipeline-param\nroot:\n  dag:\n    tasks:\n      preprocess:\n        cachingOptions:\n          enableCache: true\n        componentRef:\n          name: comp-preprocess\n        inputs:\n          parameters:\n            aws_region:\n              componentInputParameter: AWS_REGION\n            input_s3_uri:\n              componentInputParameter: INPUT_S3_URI\n            output_s3_uri:\n              componentInputParameter: OUTPUT_S3_URI\n        taskInfo:\n          name: preprocess\n      train:\n        cachingOptions:\n          enableCache: true\n        componentRef:\n          name: comp-train\n        dependentTasks:\n        - preprocess\n        inputs:\n          parameters:\n            aws_region:\n              componentInputParameter: AWS_REGION\n            input_s3_uri:\n              taskOutputParameter:\n                outputParameterKey: Output\n                producerTask: preprocess\n            mlflow_uri:\n              componentInputParameter: MLFLOW_URI\n            model_name:\n              componentInputParameter: MODEL_NAME\n            output_s3_uri:\n              runtimeValue:\n                constant: s3://mlops-yt-artifacts-nandak-1760367211/datasets/train_metrics.txt\n            s3_bucket:\n              componentInputParameter: S3_BUCKET\n        taskInfo:\n          name: train\n  inputDefinitions:\n    parameters:\n      AWS_REGION:\n        defaultValue: us-east-1\n        isOptional: true\n        parameterType: STRING\n      INPUT_S3_URI:\n        defaultValue: s3://mlops-yt-artifacts-nandak-1760367211/datasets/raw.csv\n        isOptional: true\n        parameterType: STRING\n      MLFLOW_URI:\n        defaultValue: http://mlflow-service.mlops.svc.cluster.local:5000\n        isOptional: true\n        parameterType: STRING\n      MODEL_NAME:\n        defaultValue: distilbert-base-uncased\n        isOptional: true\n        parameterType: STRING\n      OUTPUT_S3_URI:\n        defaultValue: s3://mlops-yt-artifacts-nandak-1760367211/datasets/cleaned.csv\n        isOptional: true\n        parameterType: STRING\n      S3_BUCKET:\n        defaultValue: mlops-yt-artifacts-nandak-1760367211\n        isOptional: true\n        parameterType: STRING\nschemaVersion: 2.1.0\nsdkVersion: kfp-2.14.6\n',''),('781b0b56-fd8c-4193-83d1-812fb22176de',1760607063,'[Tutorial] DSL - Control structures','[]','80e9ab7f-ae28-4801-82af-564a078c62c3','READY','','[source code](https://github.com/kubeflow/pipelines/tree/e03e31219387b587b700ba3e31a02df486aa364f/samples/tutorials/DSL%20-%20Control%20structures) Shows how to use conditional execution and exit handlers. This pipeline will randomly fail to demonstrate that the exit handler gets executed even in case of failure.','components:\n  comp-condition-4:\n    dag:\n      tasks:\n        condition-5:\n          componentRef:\n            name: comp-condition-5\n          dependentTasks:\n          - get-random-int-op\n          inputs:\n            parameters:\n              pipelinechannel--flip-coin-op-Output:\n                componentInputParameter: pipelinechannel--flip-coin-op-Output\n              pipelinechannel--get-random-int-op-Output:\n                taskOutputParameter:\n                  outputParameterKey: Output\n                  producerTask: get-random-int-op\n              pipelinechannel--loop-item-param-2:\n                componentInputParameter: pipelinechannel--loop-item-param-2\n          taskInfo:\n            name: condition-5\n          triggerPolicy:\n            condition: int(inputs.parameter_values[\'pipelinechannel--get-random-int-op-Output\'])\n              > 5\n        condition-6:\n          componentRef:\n            name: comp-condition-6\n          dependentTasks:\n          - get-random-int-op\n          inputs:\n            parameters:\n              pipelinechannel--flip-coin-op-Output:\n                componentInputParameter: pipelinechannel--flip-coin-op-Output\n              pipelinechannel--get-random-int-op-Output:\n                taskOutputParameter:\n                  outputParameterKey: Output\n                  producerTask: get-random-int-op\n              pipelinechannel--loop-item-param-2:\n                componentInputParameter: pipelinechannel--loop-item-param-2\n          taskInfo:\n            name: condition-6\n          triggerPolicy:\n            condition: int(inputs.parameter_values[\'pipelinechannel--get-random-int-op-Output\'])\n              <= 5\n        get-random-int-op:\n          cachingOptions:\n            enableCache: true\n          componentRef:\n            name: comp-get-random-int-op\n          inputs:\n            parameters:\n              maximum:\n                runtimeValue:\n                  constant: 9\n              minimum:\n                runtimeValue:\n                  constant: 0\n          taskInfo:\n            name: get-random-int-op\n    inputDefinitions:\n      parameters:\n        pipelinechannel--flip-coin-op-Output:\n          parameterType: STRING\n        pipelinechannel--loop-item-param-2:\n          parameterType: STRING\n  comp-condition-5:\n    dag:\n      tasks:\n        print-op-2:\n          cachingOptions:\n            enableCache: true\n          componentRef:\n            name: comp-print-op-2\n          inputs:\n            parameters:\n              message:\n                runtimeValue:\n                  constant: \'{{$.inputs.parameters[\'\'pipelinechannel--loop-item-param-2\'\']}}\n                    and {{$.inputs.parameters[\'\'pipelinechannel--get-random-int-op-Output\'\']}}\n                    > 5!\'\n              pipelinechannel--get-random-int-op-Output:\n                componentInputParameter: pipelinechannel--get-random-int-op-Output\n              pipelinechannel--loop-item-param-2:\n                componentInputParameter: pipelinechannel--loop-item-param-2\n          taskInfo:\n            name: print-op-2\n    inputDefinitions:\n      parameters:\n        pipelinechannel--flip-coin-op-Output:\n          parameterType: STRING\n        pipelinechannel--get-random-int-op-Output:\n          parameterType: NUMBER_INTEGER\n        pipelinechannel--loop-item-param-2:\n          parameterType: STRING\n  comp-condition-6:\n    dag:\n      tasks:\n        print-op-3:\n          cachingOptions:\n            enableCache: true\n          componentRef:\n            name: comp-print-op-3\n          inputs:\n            parameters:\n              message:\n                runtimeValue:\n                  constant: \'{{$.inputs.parameters[\'\'pipelinechannel--loop-item-param-2\'\']}}\n                    and {{$.inputs.parameters[\'\'pipelinechannel--get-random-int-op-Output\'\']}}\n                    <= 5!\'\n              pipelinechannel--get-random-int-op-Output:\n                componentInputParameter: pipelinechannel--get-random-int-op-Output\n              pipelinechannel--loop-item-param-2:\n                componentInputParameter: pipelinechannel--loop-item-param-2\n          taskInfo:\n            name: print-op-3\n    inputDefinitions:\n      parameters:\n        pipelinechannel--flip-coin-op-Output:\n          parameterType: STRING\n        pipelinechannel--get-random-int-op-Output:\n          parameterType: NUMBER_INTEGER\n        pipelinechannel--loop-item-param-2:\n          parameterType: STRING\n  comp-exit-handler-1:\n    dag:\n      tasks:\n        fail-op:\n          cachingOptions:\n            enableCache: true\n          componentRef:\n            name: comp-fail-op\n          inputs:\n            parameters:\n              message:\n                runtimeValue:\n                  constant: Failing the run to demonstrate that exit handler still\n                    gets executed.\n          taskInfo:\n            name: fail-op\n  comp-fail-op:\n    executorLabel: exec-fail-op\n    inputDefinitions:\n      parameters:\n        message:\n          parameterType: STRING\n  comp-flip-coin-op:\n    executorLabel: exec-flip-coin-op\n    outputDefinitions:\n      parameters:\n        Output:\n          parameterType: STRING\n  comp-for-loop-3:\n    dag:\n      tasks:\n        condition-4:\n          componentRef:\n            name: comp-condition-4\n          inputs:\n            parameters:\n              pipelinechannel--flip-coin-op-Output:\n                componentInputParameter: pipelinechannel--flip-coin-op-Output\n              pipelinechannel--loop-item-param-2:\n                componentInputParameter: pipelinechannel--loop-item-param-2\n          taskInfo:\n            name: condition-4\n          triggerPolicy:\n            condition: inputs.parameter_values[\'pipelinechannel--loop-item-param-2\']\n              == inputs.parameter_values[\'pipelinechannel--flip-coin-op-Output\']\n    inputDefinitions:\n      parameters:\n        pipelinechannel--flip-coin-op-Output:\n          parameterType: STRING\n        pipelinechannel--loop-item-param-2:\n          parameterType: STRING\n  comp-get-random-int-op:\n    executorLabel: exec-get-random-int-op\n    inputDefinitions:\n      parameters:\n        maximum:\n          parameterType: NUMBER_INTEGER\n        minimum:\n          parameterType: NUMBER_INTEGER\n    outputDefinitions:\n      parameters:\n        Output:\n          parameterType: NUMBER_INTEGER\n  comp-print-op:\n    executorLabel: exec-print-op\n    inputDefinitions:\n      parameters:\n        message:\n          parameterType: STRING\n  comp-print-op-2:\n    executorLabel: exec-print-op-2\n    inputDefinitions:\n      parameters:\n        message:\n          parameterType: STRING\n  comp-print-op-3:\n    executorLabel: exec-print-op-3\n    inputDefinitions:\n      parameters:\n        message:\n          parameterType: STRING\ndeploymentSpec:\n  executors:\n    exec-fail-op:\n      container:\n        args:\n        - --executor_input\n        - \'{{$}}\'\n        - --function_to_execute\n        - fail_op\n        command:\n        - sh\n        - -c\n        - |2\n\n          if ! [ -x \"$(command -v pip)\" ]; then\n              python3 -m ensurepip || python3 -m ensurepip --user || apt-get install python3-pip\n          fi\n\n          PIP_DISABLE_PIP_VERSION_CHECK=1 python3 -m pip install --quiet     --no-warn-script-location \'kfp==2.0.0-rc.1\' && \"$0\" \"$@\"\n        - sh\n        - -ec\n        - |\n          program_path=$(mktemp -d)\n          printf \"%s\" \"$0\" > \"$program_path/ephemeral_component.py\"\n          python3 -m kfp.components.executor_main                         --component_module_path                         \"$program_path/ephemeral_component.py\"                         \"$@\"\n        - |2+\n\n          import kfp\n          from kfp import dsl\n          from kfp.dsl import *\n          from typing import *\n\n          def fail_op(message: str):\n              \"\"\"Fails.\"\"\"\n              import sys\n              print(message)\n              sys.exit(1)\n\n        image: python:3.7\n    exec-flip-coin-op:\n      container:\n        args:\n        - --executor_input\n        - \'{{$}}\'\n        - --function_to_execute\n        - flip_coin_op\n        command:\n        - sh\n        - -c\n        - |2\n\n          if ! [ -x \"$(command -v pip)\" ]; then\n              python3 -m ensurepip || python3 -m ensurepip --user || apt-get install python3-pip\n          fi\n\n          PIP_DISABLE_PIP_VERSION_CHECK=1 python3 -m pip install --quiet     --no-warn-script-location \'kfp==2.0.0-rc.1\' && \"$0\" \"$@\"\n        - sh\n        - -ec\n        - |\n          program_path=$(mktemp -d)\n          printf \"%s\" \"$0\" > \"$program_path/ephemeral_component.py\"\n          python3 -m kfp.components.executor_main                         --component_module_path                         \"$program_path/ephemeral_component.py\"                         \"$@\"\n        - |2+\n\n          import kfp\n          from kfp import dsl\n          from kfp.dsl import *\n          from typing import *\n\n          def flip_coin_op() -> str:\n              \"\"\"Flip a coin and output heads or tails randomly.\"\"\"\n              import random\n              result = random.choice([\'heads\', \'tails\'])\n              print(result)\n              return result\n\n        image: python:3.7\n    exec-get-random-int-op:\n      container:\n        args:\n        - --executor_input\n        - \'{{$}}\'\n        - --function_to_execute\n        - get_random_int_op\n        command:\n        - sh\n        - -c\n        - |2\n\n          if ! [ -x \"$(command -v pip)\" ]; then\n              python3 -m ensurepip || python3 -m ensurepip --user || apt-get install python3-pip\n          fi\n\n          PIP_DISABLE_PIP_VERSION_CHECK=1 python3 -m pip install --quiet     --no-warn-script-location \'kfp==2.0.0-rc.1\' && \"$0\" \"$@\"\n        - sh\n        - -ec\n        - |\n          program_path=$(mktemp -d)\n          printf \"%s\" \"$0\" > \"$program_path/ephemeral_component.py\"\n          python3 -m kfp.components.executor_main                         --component_module_path                         \"$program_path/ephemeral_component.py\"                         \"$@\"\n        - |2+\n\n          import kfp\n          from kfp import dsl\n          from kfp.dsl import *\n          from typing import *\n\n          def get_random_int_op(minimum: int, maximum: int) -> int:\n              \"\"\"Generate a random number between minimum and maximum (inclusive).\"\"\"\n              import random\n              result = random.randint(minimum, maximum)\n              print(result)\n              return result\n\n        image: python:3.7\n    exec-print-op:\n      container:\n        args:\n        - --executor_input\n        - \'{{$}}\'\n        - --function_to_execute\n        - print_op\n        command:\n        - sh\n        - -c\n        - |2\n\n          if ! [ -x \"$(command -v pip)\" ]; then\n              python3 -m ensurepip || python3 -m ensurepip --user || apt-get install python3-pip\n          fi\n\n          PIP_DISABLE_PIP_VERSION_CHECK=1 python3 -m pip install --quiet     --no-warn-script-location \'kfp==2.0.0-rc.1\' && \"$0\" \"$@\"\n        - sh\n        - -ec\n        - |\n          program_path=$(mktemp -d)\n          printf \"%s\" \"$0\" > \"$program_path/ephemeral_component.py\"\n          python3 -m kfp.components.executor_main                         --component_module_path                         \"$program_path/ephemeral_component.py\"                         \"$@\"\n        - |2+\n\n          import kfp\n          from kfp import dsl\n          from kfp.dsl import *\n          from typing import *\n\n          def print_op(message: str):\n              \"\"\"Print a message.\"\"\"\n              print(message)\n\n        image: python:3.7\n    exec-print-op-2:\n      container:\n        args:\n        - --executor_input\n        - \'{{$}}\'\n        - --function_to_execute\n        - print_op\n        command:\n        - sh\n        - -c\n        - |2\n\n          if ! [ -x \"$(command -v pip)\" ]; then\n              python3 -m ensurepip || python3 -m ensurepip --user || apt-get install python3-pip\n          fi\n\n          PIP_DISABLE_PIP_VERSION_CHECK=1 python3 -m pip install --quiet     --no-warn-script-location \'kfp==2.0.0-rc.1\' && \"$0\" \"$@\"\n        - sh\n        - -ec\n        - |\n          program_path=$(mktemp -d)\n          printf \"%s\" \"$0\" > \"$program_path/ephemeral_component.py\"\n          python3 -m kfp.components.executor_main                         --component_module_path                         \"$program_path/ephemeral_component.py\"                         \"$@\"\n        - |2+\n\n          import kfp\n          from kfp import dsl\n          from kfp.dsl import *\n          from typing import *\n\n          def print_op(message: str):\n              \"\"\"Print a message.\"\"\"\n              print(message)\n\n        image: python:3.7\n    exec-print-op-3:\n      container:\n        args:\n        - --executor_input\n        - \'{{$}}\'\n        - --function_to_execute\n        - print_op\n        command:\n        - sh\n        - -c\n        - |2\n\n          if ! [ -x \"$(command -v pip)\" ]; then\n              python3 -m ensurepip || python3 -m ensurepip --user || apt-get install python3-pip\n          fi\n\n          PIP_DISABLE_PIP_VERSION_CHECK=1 python3 -m pip install --quiet     --no-warn-script-location \'kfp==2.0.0-rc.1\' && \"$0\" \"$@\"\n        - sh\n        - -ec\n        - |\n          program_path=$(mktemp -d)\n          printf \"%s\" \"$0\" > \"$program_path/ephemeral_component.py\"\n          python3 -m kfp.components.executor_main                         --component_module_path                         \"$program_path/ephemeral_component.py\"                         \"$@\"\n        - |2+\n\n          import kfp\n          from kfp import dsl\n          from kfp.dsl import *\n          from typing import *\n\n          def print_op(message: str):\n              \"\"\"Print a message.\"\"\"\n              print(message)\n\n        image: python:3.7\npipelineInfo:\n  description: Shows how to use dsl.Condition(), dsl.ParallelFor, and dsl.ExitHandler().\n  name: tutorial-control-flows\nroot:\n  dag:\n    tasks:\n      exit-handler-1:\n        componentRef:\n          name: comp-exit-handler-1\n        taskInfo:\n          name: exit-handler-1\n      flip-coin-op:\n        cachingOptions:\n          enableCache: true\n        componentRef:\n          name: comp-flip-coin-op\n        taskInfo:\n          name: flip-coin-op\n      for-loop-3:\n        componentRef:\n          name: comp-for-loop-3\n        dependentTasks:\n        - flip-coin-op\n        inputs:\n          parameters:\n            pipelinechannel--flip-coin-op-Output:\n              taskOutputParameter:\n                outputParameterKey: Output\n                producerTask: flip-coin-op\n        parameterIterator:\n          itemInput: pipelinechannel--loop-item-param-2\n          items:\n            raw: \'[\"heads\", \"tails\"]\'\n        taskInfo:\n          name: for-loop-3\n      print-op:\n        cachingOptions:\n          enableCache: true\n        componentRef:\n          name: comp-print-op\n        dependentTasks:\n        - exit-handler-1\n        inputs:\n          parameters:\n            message:\n              runtimeValue:\n                constant: Exit handler has worked!\n        taskInfo:\n          name: print-op\n        triggerPolicy:\n          strategy: ALL_UPSTREAM_TASKS_COMPLETED\nschemaVersion: 2.1.0\nsdkVersion: kfp-2.0.0-rc.1\n',''),('9e376f66-f496-43a9-be4d-0b48b7aa036b',1760607062,'[Tutorial] Data passing in python components','[]','4e9ca692-2f65-4b54-8ac4-e826bf092fd0','READY','','[source code](https://github.com/kubeflow/pipelines/tree/e03e31219387b587b700ba3e31a02df486aa364f/samples/tutorials/Data%20passing%20in%20python%20components) Shows how to pass data between python components.','components:\n  comp-preprocess:\n    executorLabel: exec-preprocess\n    inputDefinitions:\n      parameters:\n        message:\n          parameterType: STRING\n    outputDefinitions:\n      artifacts:\n        output_dataset_one:\n          artifactType:\n            schemaTitle: system.Dataset\n            schemaVersion: 0.0.1\n        output_dataset_two_path:\n          artifactType:\n            schemaTitle: system.Dataset\n            schemaVersion: 0.0.1\n      parameters:\n        output_bool_parameter_path:\n          parameterType: BOOLEAN\n        output_dict_parameter_path:\n          parameterType: STRUCT\n        output_list_parameter_path:\n          parameterType: LIST\n        output_parameter_path:\n          parameterType: STRING\n  comp-train:\n    executorLabel: exec-train\n    inputDefinitions:\n      artifacts:\n        dataset_one_path:\n          artifactType:\n            schemaTitle: system.Dataset\n            schemaVersion: 0.0.1\n        dataset_two:\n          artifactType:\n            schemaTitle: system.Dataset\n            schemaVersion: 0.0.1\n      parameters:\n        input_bool:\n          parameterType: BOOLEAN\n        input_dict:\n          parameterType: STRUCT\n        input_list:\n          parameterType: LIST\n        message:\n          parameterType: STRING\n        num_steps:\n          defaultValue: 100\n          isOptional: true\n          parameterType: NUMBER_INTEGER\n    outputDefinitions:\n      artifacts:\n        model:\n          artifactType:\n            schemaTitle: system.Model\n            schemaVersion: 0.0.1\ndeploymentSpec:\n  executors:\n    exec-preprocess:\n      container:\n        args:\n        - --executor_input\n        - \'{{$}}\'\n        - --function_to_execute\n        - preprocess\n        command:\n        - sh\n        - -c\n        - |2\n\n          if ! [ -x \"$(command -v pip)\" ]; then\n              python3 -m ensurepip || python3 -m ensurepip --user || apt-get install python3-pip\n          fi\n\n          PIP_DISABLE_PIP_VERSION_CHECK=1 python3 -m pip install --quiet     --no-warn-script-location \'kfp==2.0.0-rc.1\' && \"$0\" \"$@\"\n        - sh\n        - -ec\n        - |\n          program_path=$(mktemp -d)\n          printf \"%s\" \"$0\" > \"$program_path/ephemeral_component.py\"\n          python3 -m kfp.components.executor_main                         --component_module_path                         \"$program_path/ephemeral_component.py\"                         \"$@\"\n        - |2+\n\n          import kfp\n          from kfp import dsl\n          from kfp.dsl import *\n          from typing import *\n\n          def preprocess(\n              # An input parameter of type string.\n              message: str,\n              # Use Output[T] to get a metadata-rich handle to the output artifact\n              # of type `Dataset`.\n              output_dataset_one: Output[Dataset],\n              # A locally accessible filepath for another output artifact of type\n              # `Dataset`.\n              output_dataset_two_path: OutputPath(\'Dataset\'),\n              # A locally accessible filepath for an output parameter of type string.\n              output_parameter_path: OutputPath(str),\n              # A locally accessible filepath for an output parameter of type bool.\n              output_bool_parameter_path: OutputPath(bool),\n              # A locally accessible filepath for an output parameter of type dict.\n              output_dict_parameter_path: OutputPath(Dict[str, int]),\n              # A locally accessible filepath for an output parameter of type list.\n              output_list_parameter_path: OutputPath(List[str]),\n          ):\n              \"\"\"Dummy preprocessing step.\"\"\"\n\n              # Use Dataset.path to access a local file path for writing.\n              # One can also use Dataset.uri to access the actual URI file path.\n              with open(output_dataset_one.path, \'w\') as f:\n                  f.write(message)\n\n              # OutputPath is used to just pass the local file path of the output artifact\n              # to the function.\n              with open(output_dataset_two_path, \'w\') as f:\n                  f.write(message)\n\n              with open(output_parameter_path, \'w\') as f:\n                  f.write(message)\n\n              with open(output_bool_parameter_path, \'w\') as f:\n                  f.write(\n                      str(True))  # use either `str()` or `json.dumps()` for bool values.\n\n              import json\n              with open(output_dict_parameter_path, \'w\') as f:\n                  f.write(json.dumps({\'A\': 1, \'B\': 2}))\n\n              with open(output_list_parameter_path, \'w\') as f:\n                  f.write(json.dumps([\'a\', \'b\', \'c\']))\n\n        image: python:3.7\n    exec-train:\n      container:\n        args:\n        - --executor_input\n        - \'{{$}}\'\n        - --function_to_execute\n        - train\n        command:\n        - sh\n        - -c\n        - |2\n\n          if ! [ -x \"$(command -v pip)\" ]; then\n              python3 -m ensurepip || python3 -m ensurepip --user || apt-get install python3-pip\n          fi\n\n          PIP_DISABLE_PIP_VERSION_CHECK=1 python3 -m pip install --quiet     --no-warn-script-location \'kfp==2.0.0-rc.1\' && \"$0\" \"$@\"\n        - sh\n        - -ec\n        - |\n          program_path=$(mktemp -d)\n          printf \"%s\" \"$0\" > \"$program_path/ephemeral_component.py\"\n          python3 -m kfp.components.executor_main                         --component_module_path                         \"$program_path/ephemeral_component.py\"                         \"$@\"\n        - |2+\n\n          import kfp\n          from kfp import dsl\n          from kfp.dsl import *\n          from typing import *\n\n          def train(\n              # Use InputPath to get a locally accessible path for the input artifact\n              # of type `Dataset`.\n              dataset_one_path: InputPath(\'Dataset\'),\n              # Use Input[T] to get a metadata-rich handle to the input artifact\n              # of type `Dataset`.\n              dataset_two: Input[Dataset],\n              # An input parameter of type string.\n              message: str,\n              # Use Output[T] to get a metadata-rich handle to the output artifact\n              # of type `Model`.\n              model: Output[Model],\n              # An input parameter of type bool.\n              input_bool: bool,\n              # An input parameter of type dict.\n              input_dict: Dict[str, int],\n              # An input parameter of type List[str].\n              input_list: List[str],\n              # An input parameter of type int with a default value.\n              num_steps: int = 100,\n          ):\n              \"\"\"Dummy Training step.\"\"\"\n              with open(dataset_one_path, \'r\') as input_file:\n                  dataset_one_contents = input_file.read()\n\n              with open(dataset_two.path, \'r\') as input_file:\n                  dataset_two_contents = input_file.read()\n\n              line = (f\'dataset_one_contents: {dataset_one_contents} || \'\n                      f\'dataset_two_contents: {dataset_two_contents} || \'\n                      f\'message: {message} || \'\n                      f\'input_bool: {input_bool}, type {type(input_bool)} || \'\n                      f\'input_dict: {input_dict}, type {type(input_dict)} || \'\n                      f\'input_list: {input_list}, type {type(input_list)} \\n\')\n\n              with open(model.path, \'w\') as output_file:\n                  for i in range(num_steps):\n                      output_file.write(\'Step {}\\n{}\\n=====\\n\'.format(i, line))\n\n              # model is an instance of Model artifact, which has a .metadata dictionary\n              # to store arbitrary metadata for the output artifact.\n              model.metadata[\'accuracy\'] = 0.9\n\n        image: python:3.7\npipelineInfo:\n  name: tutorial-data-passing\nroot:\n  dag:\n    tasks:\n      preprocess:\n        cachingOptions:\n          enableCache: true\n        componentRef:\n          name: comp-preprocess\n        inputs:\n          parameters:\n            message:\n              componentInputParameter: message\n        taskInfo:\n          name: preprocess\n      train:\n        cachingOptions:\n          enableCache: true\n        componentRef:\n          name: comp-train\n        dependentTasks:\n        - preprocess\n        inputs:\n          artifacts:\n            dataset_one_path:\n              taskOutputArtifact:\n                outputArtifactKey: output_dataset_one\n                producerTask: preprocess\n            dataset_two:\n              taskOutputArtifact:\n                outputArtifactKey: output_dataset_two_path\n                producerTask: preprocess\n          parameters:\n            input_bool:\n              taskOutputParameter:\n                outputParameterKey: output_bool_parameter_path\n                producerTask: preprocess\n            input_dict:\n              taskOutputParameter:\n                outputParameterKey: output_dict_parameter_path\n                producerTask: preprocess\n            input_list:\n              taskOutputParameter:\n                outputParameterKey: output_list_parameter_path\n                producerTask: preprocess\n            message:\n              taskOutputParameter:\n                outputParameterKey: output_parameter_path\n                producerTask: preprocess\n        taskInfo:\n          name: train\n  inputDefinitions:\n    parameters:\n      message:\n        defaultValue: message\n        isOptional: true\n        parameterType: STRING\nschemaVersion: 2.1.0\nsdkVersion: kfp-2.0.0-rc.1\n',''),('a30643fe-c1fa-4459-a798-8f64968cc3f4',1760680614,'youtube analyzer_version_at_2025-10-17T05:56:40.890Z','[]','fa9ea7ea-6814-4997-8ca3-854aa94cd3f6','READY','','','components:\n  comp-preprocess:\n    executorLabel: exec-preprocess\n    inputDefinitions:\n      parameters:\n        aws_region:\n          parameterType: STRING\n        input_s3_uri:\n          parameterType: STRING\n        output_s3_uri:\n          parameterType: STRING\n  comp-train:\n    executorLabel: exec-train\n    inputDefinitions:\n      parameters:\n        aws_region:\n          parameterType: STRING\n        mlflow_uri:\n          parameterType: STRING\n        model_name:\n          parameterType: STRING\n        s3_bucket:\n          parameterType: STRING\ndeploymentSpec:\n  executors:\n    exec-preprocess:\n      container:\n        args:\n        - --executor_input\n        - \'{{$}}\'\n        - --function_to_execute\n        - preprocess\n        command:\n        - sh\n        - -c\n        - |2\n\n          if ! [ -x \"$(command -v pip)\" ]; then\n              python3 -m ensurepip || python3 -m ensurepip --user || apt-get install python3-pip\n          fi\n\n          PIP_DISABLE_PIP_VERSION_CHECK=1 python3 -m pip install --quiet --no-warn-script-location \'kfp==2.14.6\' \'--no-deps\' \'typing-extensions>=3.7.4,<5; python_version<\"3.9\"\' && \"$0\" \"$@\"\n        - sh\n        - -ec\n        - |\n          program_path=$(mktemp -d)\n\n          printf \"%s\" \"$0\" > \"$program_path/ephemeral_component.py\"\n          _KFP_RUNTIME=true python3 -m kfp.dsl.executor_main                         --component_module_path                         \"$program_path/ephemeral_component.py\"                         \"$@\"\n        - |2+\n\n          import kfp\n          from kfp import dsl\n          from kfp.dsl import *\n          from typing import *\n\n          def preprocess(input_s3_uri: str, output_s3_uri: str, aws_region: str):\n              \"\"\"Preprocess YouTube comments and upload cleaned data to S3.\"\"\"\n              import os, subprocess\n              os.environ[\"INPUT_S3_URI\"] = input_s3_uri\n              os.environ[\"OUTPUT_S3_URI\"] = output_s3_uri\n              os.environ[\"AWS_REGION\"] = aws_region\n              print(f\"Preprocessing from {input_s3_uri} → {output_s3_uri}\")\n              subprocess.run([\"python\", \"/app/preprocess/component.py\"], check=True)\n\n        image: 118730128420.dkr.ecr.us-east-1.amazonaws.com/yt-kfp-component:latest\n    exec-train:\n      container:\n        args:\n        - --executor_input\n        - \'{{$}}\'\n        - --function_to_execute\n        - train\n        command:\n        - sh\n        - -c\n        - |2\n\n          if ! [ -x \"$(command -v pip)\" ]; then\n              python3 -m ensurepip || python3 -m ensurepip --user || apt-get install python3-pip\n          fi\n\n          PIP_DISABLE_PIP_VERSION_CHECK=1 python3 -m pip install --quiet --no-warn-script-location \'kfp==2.14.6\' \'--no-deps\' \'typing-extensions>=3.7.4,<5; python_version<\"3.9\"\' && \"$0\" \"$@\"\n        - sh\n        - -ec\n        - |\n          program_path=$(mktemp -d)\n\n          printf \"%s\" \"$0\" > \"$program_path/ephemeral_component.py\"\n          _KFP_RUNTIME=true python3 -m kfp.dsl.executor_main                         --component_module_path                         \"$program_path/ephemeral_component.py\"                         \"$@\"\n        - |2+\n\n          import kfp\n          from kfp import dsl\n          from kfp.dsl import *\n          from typing import *\n\n          def train(mlflow_uri: str, s3_bucket: str, model_name: str, aws_region: str):\n              \"\"\"Train sentiment model and log results to MLflow.\"\"\"\n              import os, subprocess\n              os.environ[\"MLFLOW_URI\"] = mlflow_uri\n              os.environ[\"S3_BUCKET\"] = s3_bucket\n              os.environ[\"MODEL_NAME\"] = model_name\n              os.environ[\"AWS_REGION\"] = aws_region\n              print(f\"Training model {model_name}, logging to {mlflow_uri}\")\n              subprocess.run([\"python\", \"/app/train/component.py\"], check=True)\n\n        image: 118730128420.dkr.ecr.us-east-1.amazonaws.com/yt-kfp-component:latest\npipelineInfo:\n  description: YouTube Sentiment Analyzer pipeline using MLflow + S3 + EKS\n  name: yt-sentiment-pipeline-param\nroot:\n  dag:\n    tasks:\n      preprocess:\n        cachingOptions:\n          enableCache: true\n        componentRef:\n          name: comp-preprocess\n        inputs:\n          parameters:\n            aws_region:\n              componentInputParameter: AWS_REGION\n            input_s3_uri:\n              componentInputParameter: INPUT_S3_URI\n            output_s3_uri:\n              componentInputParameter: OUTPUT_S3_URI\n        taskInfo:\n          name: preprocess\n      train:\n        cachingOptions:\n          enableCache: true\n        componentRef:\n          name: comp-train\n        dependentTasks:\n        - preprocess\n        inputs:\n          parameters:\n            aws_region:\n              componentInputParameter: AWS_REGION\n            mlflow_uri:\n              componentInputParameter: MLFLOW_URI\n            model_name:\n              componentInputParameter: MODEL_NAME\n            s3_bucket:\n              componentInputParameter: S3_BUCKET\n        taskInfo:\n          name: train\n  inputDefinitions:\n    parameters:\n      AWS_REGION:\n        defaultValue: us-east-1\n        isOptional: true\n        parameterType: STRING\n      INPUT_S3_URI:\n        defaultValue: s3://mlops-yt-artifacts-nandak-1760367211/datasets/raw.csv\n        isOptional: true\n        parameterType: STRING\n      MLFLOW_URI:\n        defaultValue: http://mlflow-service.mlops.svc.cluster.local:5000\n        isOptional: true\n        parameterType: STRING\n      MODEL_NAME:\n        defaultValue: distilbert-base-uncased\n        isOptional: true\n        parameterType: STRING\n      OUTPUT_S3_URI:\n        defaultValue: s3://mlops-yt-artifacts-nandak-1760367211/datasets/cleaned.csv\n        isOptional: true\n        parameterType: STRING\n      S3_BUCKET:\n        defaultValue: mlops-yt-artifacts-nandak-1760367211\n        isOptional: true\n        parameterType: STRING\nschemaVersion: 2.1.0\nsdkVersion: kfp-2.14.6\n',''),('db03cb2d-de9e-49c7-a41b-bb6ce4340f95',1760613292,'youtube analyzer','[]','fa9ea7ea-6814-4997-8ca3-854aa94cd3f6','READY','','','components:\n  comp-preprocess:\n    executorLabel: exec-preprocess\n    inputDefinitions:\n      parameters:\n        aws_region:\n          parameterType: STRING\n        input_s3_uri:\n          parameterType: STRING\n        output_s3_uri:\n          parameterType: STRING\n  comp-train:\n    executorLabel: exec-train\n    inputDefinitions:\n      parameters:\n        aws_region:\n          parameterType: STRING\n        mlflow_uri:\n          parameterType: STRING\n        model_name:\n          parameterType: STRING\n        s3_bucket:\n          parameterType: STRING\ndeploymentSpec:\n  executors:\n    exec-preprocess:\n      container:\n        args:\n        - --executor_input\n        - \'{{$}}\'\n        - --function_to_execute\n        - preprocess\n        command:\n        - sh\n        - -c\n        - |2\n\n          if ! [ -x \"$(command -v pip)\" ]; then\n              python3 -m ensurepip || python3 -m ensurepip --user || apt-get install python3-pip\n          fi\n\n          PIP_DISABLE_PIP_VERSION_CHECK=1 python3 -m pip install --quiet --no-warn-script-location \'kfp==2.14.6\' \'--no-deps\' \'typing-extensions>=3.7.4,<5; python_version<\"3.9\"\' && \"$0\" \"$@\"\n        - sh\n        - -ec\n        - |\n          program_path=$(mktemp -d)\n\n          printf \"%s\" \"$0\" > \"$program_path/ephemeral_component.py\"\n          _KFP_RUNTIME=true python3 -m kfp.dsl.executor_main                         --component_module_path                         \"$program_path/ephemeral_component.py\"                         \"$@\"\n        - |2+\n\n          import kfp\n          from kfp import dsl\n          from kfp.dsl import *\n          from typing import *\n\n          def preprocess(input_s3_uri: str, output_s3_uri: str, aws_region: str):\n              \"\"\"Preprocess YouTube comments and upload cleaned data to S3.\"\"\"\n              import os, subprocess\n              os.environ[\"INPUT_S3_URI\"] = input_s3_uri\n              os.environ[\"OUTPUT_S3_URI\"] = output_s3_uri\n              os.environ[\"AWS_REGION\"] = aws_region\n              print(f\"Preprocessing from {input_s3_uri} → {output_s3_uri}\")\n              subprocess.run([\"python\", \"/app/preprocess/component.py\"], check=True)\n\n        image: 118730128420.dkr.ecr.us-east-1.amazonaws.com/yt-kfp-component:latest\n    exec-train:\n      container:\n        args:\n        - --executor_input\n        - \'{{$}}\'\n        - --function_to_execute\n        - train\n        command:\n        - sh\n        - -c\n        - |2\n\n          if ! [ -x \"$(command -v pip)\" ]; then\n              python3 -m ensurepip || python3 -m ensurepip --user || apt-get install python3-pip\n          fi\n\n          PIP_DISABLE_PIP_VERSION_CHECK=1 python3 -m pip install --quiet --no-warn-script-location \'kfp==2.14.6\' \'--no-deps\' \'typing-extensions>=3.7.4,<5; python_version<\"3.9\"\' && \"$0\" \"$@\"\n        - sh\n        - -ec\n        - |\n          program_path=$(mktemp -d)\n\n          printf \"%s\" \"$0\" > \"$program_path/ephemeral_component.py\"\n          _KFP_RUNTIME=true python3 -m kfp.dsl.executor_main                         --component_module_path                         \"$program_path/ephemeral_component.py\"                         \"$@\"\n        - |2+\n\n          import kfp\n          from kfp import dsl\n          from kfp.dsl import *\n          from typing import *\n\n          def train(mlflow_uri: str, s3_bucket: str, model_name: str, aws_region: str):\n              \"\"\"Train sentiment model and log results to MLflow.\"\"\"\n              import os, subprocess\n              os.environ[\"MLFLOW_URI\"] = mlflow_uri\n              os.environ[\"S3_BUCKET\"] = s3_bucket\n              os.environ[\"MODEL_NAME\"] = model_name\n              os.environ[\"AWS_REGION\"] = aws_region\n              print(f\"Training model {model_name}, logging to {mlflow_uri}\")\n              subprocess.run([\"python\", \"/app/train/component.py\"], check=True)\n\n        image: 118730128420.dkr.ecr.us-east-1.amazonaws.com/yt-kfp-component:latest\npipelineInfo:\n  description: YouTube Sentiment Analyzer pipeline using MLflow + S3 + EKS\n  name: yt-sentiment-pipeline-param\nroot:\n  dag:\n    tasks:\n      preprocess:\n        cachingOptions:\n          enableCache: true\n        componentRef:\n          name: comp-preprocess\n        inputs:\n          parameters:\n            aws_region:\n              componentInputParameter: AWS_REGION\n            input_s3_uri:\n              componentInputParameter: INPUT_S3_URI\n            output_s3_uri:\n              componentInputParameter: OUTPUT_S3_URI\n        taskInfo:\n          name: preprocess\n      train:\n        cachingOptions:\n          enableCache: true\n        componentRef:\n          name: comp-train\n        dependentTasks:\n        - preprocess\n        inputs:\n          parameters:\n            aws_region:\n              componentInputParameter: AWS_REGION\n            mlflow_uri:\n              componentInputParameter: MLFLOW_URI\n            model_name:\n              componentInputParameter: MODEL_NAME\n            s3_bucket:\n              componentInputParameter: S3_BUCKET\n        taskInfo:\n          name: train\n  inputDefinitions:\n    parameters:\n      AWS_REGION:\n        defaultValue: us-east-1\n        isOptional: true\n        parameterType: STRING\n      INPUT_S3_URI:\n        defaultValue: s3://mlops-yt-artifacts-nandak-1760367211/datasets/raw.csv\n        isOptional: true\n        parameterType: STRING\n      MLFLOW_URI:\n        defaultValue: http://mlflow-service.mlops.svc.cluster.local:5000\n        isOptional: true\n        parameterType: STRING\n      MODEL_NAME:\n        defaultValue: distilbert-base-uncased\n        isOptional: true\n        parameterType: STRING\n      OUTPUT_S3_URI:\n        defaultValue: s3://mlops-yt-artifacts-nandak-1760367211/datasets/cleaned.csv\n        isOptional: true\n        parameterType: STRING\n      S3_BUCKET:\n        defaultValue: mlops-yt-artifacts-nandak-1760367211\n        isOptional: true\n        parameterType: STRING\nschemaVersion: 2.1.0\nsdkVersion: kfp-2.14.6\n','');
/*!40000 ALTER TABLE `pipeline_versions` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `pipelines`
--

DROP TABLE IF EXISTS `pipelines`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `pipelines` (
  `UUID` varchar(255) NOT NULL,
  `CreatedAtInSec` bigint(20) NOT NULL,
  `Name` varchar(255) NOT NULL,
  `Description` longtext NOT NULL,
  `Parameters` longtext CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci,
  `Status` varchar(255) NOT NULL,
  `DefaultVersionId` varchar(255) DEFAULT NULL,
  `Namespace` varchar(63) DEFAULT NULL,
  PRIMARY KEY (`UUID`),
  UNIQUE KEY `namespace_name` (`Name`,`Namespace`),
  UNIQUE KEY `name_namespace_index` (`Name`,`Namespace`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `pipelines`
--

LOCK TABLES `pipelines` WRITE;
/*!40000 ALTER TABLE `pipelines` DISABLE KEYS */;
INSERT INTO `pipelines` VALUES ('4e9ca692-2f65-4b54-8ac4-e826bf092fd0',1760607062,'[Tutorial] Data passing in python components','[source code](https://github.com/kubeflow/pipelines/tree/e03e31219387b587b700ba3e31a02df486aa364f/samples/tutorials/Data%20passing%20in%20python%20components) Shows how to pass data between python components.','','READY','',''),('80e9ab7f-ae28-4801-82af-564a078c62c3',1760607063,'[Tutorial] DSL - Control structures','[source code](https://github.com/kubeflow/pipelines/tree/e03e31219387b587b700ba3e31a02df486aa364f/samples/tutorials/DSL%20-%20Control%20structures) Shows how to use conditional execution and exit handlers. This pipeline will randomly fail to demonstrate that the exit handler gets executed even in case of failure.','','READY','',''),('9dfb0e66-0ba9-45fe-83cb-87237b13d363',1761146773,'yt-mlops','','','READY','',''),('fa9ea7ea-6814-4997-8ca3-854aa94cd3f6',1760613292,'youtube analyzer','','','READY','','');
/*!40000 ALTER TABLE `pipelines` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `resource_references`
--

DROP TABLE IF EXISTS `resource_references`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `resource_references` (
  `ResourceUUID` varchar(255) NOT NULL,
  `ResourceType` varchar(255) NOT NULL,
  `ReferenceUUID` varchar(255) NOT NULL,
  `ReferenceName` varchar(255) NOT NULL,
  `ReferenceType` varchar(255) NOT NULL,
  `Relationship` varchar(255) NOT NULL,
  `Payload` longtext NOT NULL,
  PRIMARY KEY (`ResourceUUID`,`ResourceType`,`ReferenceType`),
  KEY `referencefilter` (`ResourceType`,`ReferenceUUID`,`ReferenceType`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `resource_references`
--

LOCK TABLES `resource_references` WRITE;
/*!40000 ALTER TABLE `resource_references` DISABLE KEYS */;
INSERT INTO `resource_references` VALUES ('04129361-35ce-4688-b383-33c39f6b57c0','Run','73a102cf-474a-4691-a9be-b60ade3d5345','','Experiment','Owner','{\"ResourceUUID\":\"04129361-35ce-4688-b383-33c39f6b57c0\",\"ResourceType\":\"Run\",\"ReferenceUUID\":\"73a102cf-474a-4691-a9be-b60ade3d5345\",\"ReferenceName\":\"\",\"ReferenceType\":\"Experiment\",\"Relationship\":\"Owner\",\"Payload\":\"\"}'),('0f47dd3d-5be5-48ac-a8f2-ca0ac3e152ea','Run','73a102cf-474a-4691-a9be-b60ade3d5345','','Experiment','Owner','{\"ResourceUUID\":\"0f47dd3d-5be5-48ac-a8f2-ca0ac3e152ea\",\"ResourceType\":\"Run\",\"ReferenceUUID\":\"73a102cf-474a-4691-a9be-b60ade3d5345\",\"ReferenceName\":\"\",\"ReferenceType\":\"Experiment\",\"Relationship\":\"Owner\",\"Payload\":\"\"}'),('30612806-8c6d-476b-91d3-78548981c023','Run','73a102cf-474a-4691-a9be-b60ade3d5345','','Experiment','Owner','{\"ResourceUUID\":\"30612806-8c6d-476b-91d3-78548981c023\",\"ResourceType\":\"Run\",\"ReferenceUUID\":\"73a102cf-474a-4691-a9be-b60ade3d5345\",\"ReferenceName\":\"\",\"ReferenceType\":\"Experiment\",\"Relationship\":\"Owner\",\"Payload\":\"\"}'),('313620c4-976e-404a-9207-d4941cfdb60d','Run','73a102cf-474a-4691-a9be-b60ade3d5345','','Experiment','Owner','{\"ResourceUUID\":\"313620c4-976e-404a-9207-d4941cfdb60d\",\"ResourceType\":\"Run\",\"ReferenceUUID\":\"73a102cf-474a-4691-a9be-b60ade3d5345\",\"ReferenceName\":\"\",\"ReferenceType\":\"Experiment\",\"Relationship\":\"Owner\",\"Payload\":\"\"}'),('5858d806-def1-4296-bd6b-59cc78d2ccf1','Run','4c504879-f007-41d5-9805-f338dcd518a2','','Experiment','Owner','{\"ResourceUUID\":\"5858d806-def1-4296-bd6b-59cc78d2ccf1\",\"ResourceType\":\"Run\",\"ReferenceUUID\":\"4c504879-f007-41d5-9805-f338dcd518a2\",\"ReferenceName\":\"\",\"ReferenceType\":\"Experiment\",\"Relationship\":\"Owner\",\"Payload\":\"\"}'),('62457a64-5880-42de-9456-38b9c5997b8b','Run','73a102cf-474a-4691-a9be-b60ade3d5345','','Experiment','Owner','{\"ResourceUUID\":\"62457a64-5880-42de-9456-38b9c5997b8b\",\"ResourceType\":\"Run\",\"ReferenceUUID\":\"73a102cf-474a-4691-a9be-b60ade3d5345\",\"ReferenceName\":\"\",\"ReferenceType\":\"Experiment\",\"Relationship\":\"Owner\",\"Payload\":\"\"}'),('9797994d-4cba-49d4-8ada-c8d04813eb19','Run','f327d17d-932b-4be6-9984-015c6cb190fc','','Experiment','Owner','{\"ResourceUUID\":\"9797994d-4cba-49d4-8ada-c8d04813eb19\",\"ResourceType\":\"Run\",\"ReferenceUUID\":\"f327d17d-932b-4be6-9984-015c6cb190fc\",\"ReferenceName\":\"\",\"ReferenceType\":\"Experiment\",\"Relationship\":\"Owner\",\"Payload\":\"\"}'),('9e97467b-dae1-4730-a746-34745180b3e4','Run','73a102cf-474a-4691-a9be-b60ade3d5345','','Experiment','Owner','{\"ResourceUUID\":\"9e97467b-dae1-4730-a746-34745180b3e4\",\"ResourceType\":\"Run\",\"ReferenceUUID\":\"73a102cf-474a-4691-a9be-b60ade3d5345\",\"ReferenceName\":\"\",\"ReferenceType\":\"Experiment\",\"Relationship\":\"Owner\",\"Payload\":\"\"}'),('a5dab52f-d267-44bb-8397-42780748fb1b','Run','73a102cf-474a-4691-a9be-b60ade3d5345','','Experiment','Owner','{\"ResourceUUID\":\"a5dab52f-d267-44bb-8397-42780748fb1b\",\"ResourceType\":\"Run\",\"ReferenceUUID\":\"73a102cf-474a-4691-a9be-b60ade3d5345\",\"ReferenceName\":\"\",\"ReferenceType\":\"Experiment\",\"Relationship\":\"Owner\",\"Payload\":\"\"}'),('ae452c7b-5688-4685-bb54-48056b5d498a','Run','73a102cf-474a-4691-a9be-b60ade3d5345','','Experiment','Owner','{\"ResourceUUID\":\"ae452c7b-5688-4685-bb54-48056b5d498a\",\"ResourceType\":\"Run\",\"ReferenceUUID\":\"73a102cf-474a-4691-a9be-b60ade3d5345\",\"ReferenceName\":\"\",\"ReferenceType\":\"Experiment\",\"Relationship\":\"Owner\",\"Payload\":\"\"}'),('f80322ba-a2c5-45cb-a4cd-437eb3e4317a','Run','73a102cf-474a-4691-a9be-b60ade3d5345','','Experiment','Owner','{\"ResourceUUID\":\"f80322ba-a2c5-45cb-a4cd-437eb3e4317a\",\"ResourceType\":\"Run\",\"ReferenceUUID\":\"73a102cf-474a-4691-a9be-b60ade3d5345\",\"ReferenceName\":\"\",\"ReferenceType\":\"Experiment\",\"Relationship\":\"Owner\",\"Payload\":\"\"}'),('fb9afddd-b327-4a01-b685-82b67333fc39','Run','73a102cf-474a-4691-a9be-b60ade3d5345','','Experiment','Owner','{\"ResourceUUID\":\"fb9afddd-b327-4a01-b685-82b67333fc39\",\"ResourceType\":\"Run\",\"ReferenceUUID\":\"73a102cf-474a-4691-a9be-b60ade3d5345\",\"ReferenceName\":\"\",\"ReferenceType\":\"Experiment\",\"Relationship\":\"Owner\",\"Payload\":\"\"}');
/*!40000 ALTER TABLE `resource_references` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `run_details`
--

DROP TABLE IF EXISTS `run_details`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `run_details` (
  `UUID` varchar(255) NOT NULL,
  `DisplayName` varchar(255) NOT NULL,
  `Name` varchar(255) NOT NULL,
  `Description` varchar(255) NOT NULL,
  `Namespace` varchar(255) NOT NULL,
  `ExperimentUUID` varchar(255) NOT NULL,
  `JobUUID` varchar(255) DEFAULT NULL,
  `StorageState` varchar(255) NOT NULL,
  `ServiceAccount` varchar(255) NOT NULL,
  `PipelineId` varchar(255) NOT NULL,
  `PipelineVersionId` varchar(255) DEFAULT NULL,
  `PipelineName` varchar(255) NOT NULL,
  `PipelineSpecManifest` longtext CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci,
  `WorkflowSpecManifest` longtext NOT NULL,
  `Parameters` longtext,
  `RuntimeParameters` longtext,
  `PipelineRoot` longtext,
  `CreatedAtInSec` bigint(20) NOT NULL,
  `ScheduledAtInSec` bigint(20) DEFAULT '0',
  `FinishedAtInSec` bigint(20) DEFAULT '0',
  `Conditions` varchar(255) NOT NULL,
  `State` varchar(255) DEFAULT NULL,
  `StateHistory` longtext,
  `PipelineRuntimeManifest` longtext CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci,
  `WorkflowRuntimeManifest` longtext NOT NULL,
  `PipelineContextId` bigint(20) DEFAULT '0',
  `PipelineRunContextId` bigint(20) DEFAULT '0',
  PRIMARY KEY (`UUID`),
  KEY `experimentuuid_createatinsec` (`ExperimentUUID`,`CreatedAtInSec`),
  KEY `experimentuuid_conditions_finishedatinsec` (`ExperimentUUID`,`Conditions`,`FinishedAtInSec`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `run_details`
--

LOCK TABLES `run_details` WRITE;
/*!40000 ALTER TABLE `run_details` DISABLE KEYS */;
INSERT INTO `run_details` VALUES ('04129361-35ce-4688-b383-33c39f6b57c0','Run of youtube analyzer (e0368)','yt-sentiment-pipeline-param-dvblg','','','73a102cf-474a-4691-a9be-b60ade3d5345','','AVAILABLE','pipeline-runner','fa9ea7ea-6814-4997-8ca3-854aa94cd3f6','db03cb2d-de9e-49c7-a41b-bb6ce4340f95','youtube analyzer','components:\n  comp-preprocess:\n    executorLabel: exec-preprocess\n    inputDefinitions:\n      parameters:\n        aws_region:\n          parameterType: STRING\n        input_s3_uri:\n          parameterType: STRING\n        output_s3_uri:\n          parameterType: STRING\n  comp-train:\n    executorLabel: exec-train\n    inputDefinitions:\n      parameters:\n        aws_region:\n          parameterType: STRING\n        mlflow_uri:\n          parameterType: STRING\n        model_name:\n          parameterType: STRING\n        s3_bucket:\n          parameterType: STRING\ndeploymentSpec:\n  executors:\n    exec-preprocess:\n      container:\n        args:\n        - --executor_input\n        - \'{{$}}\'\n        - --function_to_execute\n        - preprocess\n        command:\n        - sh\n        - -c\n        - |2\n\n          if ! [ -x \"$(command -v pip)\" ]; then\n              python3 -m ensurepip || python3 -m ensurepip --user || apt-get install python3-pip\n          fi\n\n          PIP_DISABLE_PIP_VERSION_CHECK=1 python3 -m pip install --quiet --no-warn-script-location \'kfp==2.14.6\' \'--no-deps\' \'typing-extensions>=3.7.4,<5; python_version<\"3.9\"\' && \"$0\" \"$@\"\n        - sh\n        - -ec\n        - |\n          program_path=$(mktemp -d)\n\n          printf \"%s\" \"$0\" > \"$program_path/ephemeral_component.py\"\n          _KFP_RUNTIME=true python3 -m kfp.dsl.executor_main                         --component_module_path                         \"$program_path/ephemeral_component.py\"                         \"$@\"\n        - |2+\n\n          import kfp\n          from kfp import dsl\n          from kfp.dsl import *\n          from typing import *\n\n          def preprocess(input_s3_uri: str, output_s3_uri: str, aws_region: str):\n              \"\"\"Preprocess YouTube comments and upload cleaned data to S3.\"\"\"\n              import os, subprocess\n              os.environ[\"INPUT_S3_URI\"] = input_s3_uri\n              os.environ[\"OUTPUT_S3_URI\"] = output_s3_uri\n              os.environ[\"AWS_REGION\"] = aws_region\n              print(f\"Preprocessing from {input_s3_uri} → {output_s3_uri}\")\n              subprocess.run([\"python\", \"/app/preprocess/component.py\"], check=True)\n\n        image: 118730128420.dkr.ecr.us-east-1.amazonaws.com/yt-kfp-component:latest\n    exec-train:\n      container:\n        args:\n        - --executor_input\n        - \'{{$}}\'\n        - --function_to_execute\n        - train\n        command:\n        - sh\n        - -c\n        - |2\n\n          if ! [ -x \"$(command -v pip)\" ]; then\n              python3 -m ensurepip || python3 -m ensurepip --user || apt-get install python3-pip\n          fi\n\n          PIP_DISABLE_PIP_VERSION_CHECK=1 python3 -m pip install --quiet --no-warn-script-location \'kfp==2.14.6\' \'--no-deps\' \'typing-extensions>=3.7.4,<5; python_version<\"3.9\"\' && \"$0\" \"$@\"\n        - sh\n        - -ec\n        - |\n          program_path=$(mktemp -d)\n\n          printf \"%s\" \"$0\" > \"$program_path/ephemeral_component.py\"\n          _KFP_RUNTIME=true python3 -m kfp.dsl.executor_main                         --component_module_path                         \"$program_path/ephemeral_component.py\"                         \"$@\"\n        - |2+\n\n          import kfp\n          from kfp import dsl\n          from kfp.dsl import *\n          from typing import *\n\n          def train(mlflow_uri: str, s3_bucket: str, model_name: str, aws_region: str):\n              \"\"\"Train sentiment model and log results to MLflow.\"\"\"\n              import os, subprocess\n              os.environ[\"MLFLOW_URI\"] = mlflow_uri\n              os.environ[\"S3_BUCKET\"] = s3_bucket\n              os.environ[\"MODEL_NAME\"] = model_name\n              os.environ[\"AWS_REGION\"] = aws_region\n              print(f\"Training model {model_name}, logging to {mlflow_uri}\")\n              subprocess.run([\"python\", \"/app/train/component.py\"], check=True)\n\n        image: 118730128420.dkr.ecr.us-east-1.amazonaws.com/yt-kfp-component:latest\npipelineInfo:\n  description: YouTube Sentiment Analyzer pipeline using MLflow + S3 + EKS\n  name: yt-sentiment-pipeline-param\nroot:\n  dag:\n    tasks:\n      preprocess:\n        cachingOptions:\n          enableCache: true\n        componentRef:\n          name: comp-preprocess\n        inputs:\n          parameters:\n            aws_region:\n              componentInputParameter: AWS_REGION\n            input_s3_uri:\n              componentInputParameter: INPUT_S3_URI\n            output_s3_uri:\n              componentInputParameter: OUTPUT_S3_URI\n        taskInfo:\n          name: preprocess\n      train:\n        cachingOptions:\n          enableCache: true\n        componentRef:\n          name: comp-train\n        dependentTasks:\n        - preprocess\n        inputs:\n          parameters:\n            aws_region:\n              componentInputParameter: AWS_REGION\n            mlflow_uri:\n              componentInputParameter: MLFLOW_URI\n            model_name:\n              componentInputParameter: MODEL_NAME\n            s3_bucket:\n              componentInputParameter: S3_BUCKET\n        taskInfo:\n          name: train\n  inputDefinitions:\n    parameters:\n      AWS_REGION:\n        defaultValue: us-east-1\n        isOptional: true\n        parameterType: STRING\n      INPUT_S3_URI:\n        defaultValue: s3://mlops-yt-artifacts-nandak-1760367211/datasets/raw.csv\n        isOptional: true\n        parameterType: STRING\n      MLFLOW_URI:\n        defaultValue: http://mlflow-service.mlops.svc.cluster.local:5000\n        isOptional: true\n        parameterType: STRING\n      MODEL_NAME:\n        defaultValue: distilbert-base-uncased\n        isOptional: true\n        parameterType: STRING\n      OUTPUT_S3_URI:\n        defaultValue: s3://mlops-yt-artifacts-nandak-1760367211/datasets/cleaned.csv\n        isOptional: true\n        parameterType: STRING\n      S3_BUCKET:\n        defaultValue: mlops-yt-artifacts-nandak-1760367211\n        isOptional: true\n        parameterType: STRING\nschemaVersion: 2.1.0\nsdkVersion: kfp-2.14.6\n','','','','',1761137319,1761137319,0,'Pending','PENDING','[{\"UpdateTimeInSec\":1761137319,\"State\":\"PENDING\"}]','{\"metadata\":{\"name\":\"yt-sentiment-pipeline-param-dvblg\",\"generateName\":\"yt-sentiment-pipeline-param-\",\"namespace\":\"kubeflow\",\"uid\":\"a706c124-bf9e-40e3-bb6b-3df2ccd5d8c7\",\"resourceVersion\":\"2472912\",\"generation\":1,\"creationTimestamp\":\"2025-10-22T12:48:39Z\",\"labels\":{\"pipeline/runid\":\"04129361-35ce-4688-b383-33c39f6b57c0\"},\"annotations\":{\"pipelines.kubeflow.org/components-comp-preprocess\":\"{\\\"executorLabel\\\":\\\"exec-preprocess\\\",\\\"inputDefinitions\\\":{\\\"parameters\\\":{\\\"aws_region\\\":{\\\"parameterType\\\":\\\"STRING\\\"},\\\"input_s3_uri\\\":{\\\"parameterType\\\":\\\"STRING\\\"},\\\"output_s3_uri\\\":{\\\"parameterType\\\":\\\"STRING\\\"}}}}\",\"pipelines.kubeflow.org/components-comp-train\":\"{\\\"executorLabel\\\":\\\"exec-train\\\",\\\"inputDefinitions\\\":{\\\"parameters\\\":{\\\"aws_region\\\":{\\\"parameterType\\\":\\\"STRING\\\"},\\\"mlflow_uri\\\":{\\\"parameterType\\\":\\\"STRING\\\"},\\\"model_name\\\":{\\\"parameterType\\\":\\\"STRING\\\"},\\\"s3_bucket\\\":{\\\"parameterType\\\":\\\"STRING\\\"}}}}\",\"pipelines.kubeflow.org/components-root\":\"{\\\"dag\\\":{\\\"tasks\\\":{\\\"preprocess\\\":{\\\"cachingOptions\\\":{\\\"enableCache\\\":true},\\\"componentRef\\\":{\\\"name\\\":\\\"comp-preprocess\\\"},\\\"inputs\\\":{\\\"parameters\\\":{\\\"aws_region\\\":{\\\"componentInputParameter\\\":\\\"AWS_REGION\\\"},\\\"input_s3_uri\\\":{\\\"componentInputParameter\\\":\\\"INPUT_S3_URI\\\"},\\\"output_s3_uri\\\":{\\\"componentInputParameter\\\":\\\"OUTPUT_S3_URI\\\"}}},\\\"taskInfo\\\":{\\\"name\\\":\\\"preprocess\\\"}},\\\"train\\\":{\\\"cachingOptions\\\":{\\\"enableCache\\\":true},\\\"componentRef\\\":{\\\"name\\\":\\\"comp-train\\\"},\\\"dependentTasks\\\":[\\\"preprocess\\\"],\\\"inputs\\\":{\\\"parameters\\\":{\\\"aws_region\\\":{\\\"componentInputParameter\\\":\\\"AWS_REGION\\\"},\\\"mlflow_uri\\\":{\\\"componentInputParameter\\\":\\\"MLFLOW_URI\\\"},\\\"model_name\\\":{\\\"componentInputParameter\\\":\\\"MODEL_NAME\\\"},\\\"s3_bucket\\\":{\\\"componentInputParameter\\\":\\\"S3_BUCKET\\\"}}},\\\"taskInfo\\\":{\\\"name\\\":\\\"train\\\"}}}},\\\"inputDefinitions\\\":{\\\"parameters\\\":{\\\"AWS_REGION\\\":{\\\"defaultValue\\\":\\\"us-east-1\\\",\\\"isOptional\\\":true,\\\"parameterType\\\":\\\"STRING\\\"},\\\"INPUT_S3_URI\\\":{\\\"defaultValue\\\":\\\"s3://mlops-yt-artifacts-nandak-1760367211/datasets/raw.csv\\\",\\\"isOptional\\\":true,\\\"parameterType\\\":\\\"STRING\\\"},\\\"MLFLOW_URI\\\":{\\\"defaultValue\\\":\\\"http://mlflow-service.mlops.svc.cluster.local:5000\\\",\\\"isOptional\\\":true,\\\"parameterType\\\":\\\"STRING\\\"},\\\"MODEL_NAME\\\":{\\\"defaultValue\\\":\\\"distilbert-base-uncased\\\",\\\"isOptional\\\":true,\\\"parameterType\\\":\\\"STRING\\\"},\\\"OUTPUT_S3_URI\\\":{\\\"defaultValue\\\":\\\"s3://mlops-yt-artifacts-nandak-1760367211/datasets/cleaned.csv\\\",\\\"isOptional\\\":true,\\\"parameterType\\\":\\\"STRING\\\"},\\\"S3_BUCKET\\\":{\\\"defaultValue\\\":\\\"mlops-yt-artifacts-nandak-1760367211\\\",\\\"isOptional\\\":true,\\\"parameterType\\\":\\\"STRING\\\"}}}}\",\"pipelines.kubeflow.org/implementations-comp-preprocess\":\"{\\\"args\\\":[\\\"--executor_input\\\",\\\"{{$}}\\\",\\\"--function_to_execute\\\",\\\"preprocess\\\"],\\\"command\\\":[\\\"sh\\\",\\\"-c\\\",\\\"\\\\nif ! [ -x \\\\\\\"$(command -v pip)\\\\\\\" ]; then\\\\n    python3 -m ensurepip || python3 -m ensurepip --user || apt-get install python3-pip\\\\nfi\\\\n\\\\nPIP_DISABLE_PIP_VERSION_CHECK=1 python3 -m pip install --quiet --no-warn-script-location \'kfp==2.14.6\' \'--no-deps\' \'typing-extensions\\\\u003e=3.7.4,\\\\u003c5; python_version\\\\u003c\\\\\\\"3.9\\\\\\\"\' \\\\u0026\\\\u0026 \\\\\\\"$0\\\\\\\" \\\\\\\"$@\\\\\\\"\\\\n\\\",\\\"sh\\\",\\\"-ec\\\",\\\"program_path=$(mktemp -d)\\\\n\\\\nprintf \\\\\\\"%s\\\\\\\" \\\\\\\"$0\\\\\\\" \\\\u003e \\\\\\\"$program_path/ephemeral_component.py\\\\\\\"\\\\n_KFP_RUNTIME=true python3 -m kfp.dsl.executor_main                         --component_module_path                         \\\\\\\"$program_path/ephemeral_component.py\\\\\\\"                         \\\\\\\"$@\\\\\\\"\\\\n\\\",\\\"\\\\nimport kfp\\\\nfrom kfp import dsl\\\\nfrom kfp.dsl import *\\\\nfrom typing import *\\\\n\\\\ndef preprocess(input_s3_uri: str, output_s3_uri: str, aws_region: str):\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"Preprocess YouTube comments and upload cleaned data to S3.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    import os, subprocess\\\\n    os.environ[\\\\\\\"INPUT_S3_URI\\\\\\\"] = input_s3_uri\\\\n    os.environ[\\\\\\\"OUTPUT_S3_URI\\\\\\\"] = output_s3_uri\\\\n    os.environ[\\\\\\\"AWS_REGION\\\\\\\"] = aws_region\\\\n    print(f\\\\\\\"Preprocessing from {input_s3_uri} → {output_s3_uri}\\\\\\\")\\\\n    subprocess.run([\\\\\\\"python\\\\\\\", \\\\\\\"/app/preprocess/component.py\\\\\\\"], check=True)\\\\n\\\\n\\\"],\\\"image\\\":\\\"118730128420.dkr.ecr.us-east-1.amazonaws.com/yt-kfp-component:latest\\\"}\",\"pipelines.kubeflow.org/implementations-comp-train\":\"{\\\"args\\\":[\\\"--executor_input\\\",\\\"{{$}}\\\",\\\"--function_to_execute\\\",\\\"train\\\"],\\\"command\\\":[\\\"sh\\\",\\\"-c\\\",\\\"\\\\nif ! [ -x \\\\\\\"$(command -v pip)\\\\\\\" ]; then\\\\n    python3 -m ensurepip || python3 -m ensurepip --user || apt-get install python3-pip\\\\nfi\\\\n\\\\nPIP_DISABLE_PIP_VERSION_CHECK=1 python3 -m pip install --quiet --no-warn-script-location \'kfp==2.14.6\' \'--no-deps\' \'typing-extensions\\\\u003e=3.7.4,\\\\u003c5; python_version\\\\u003c\\\\\\\"3.9\\\\\\\"\' \\\\u0026\\\\u0026 \\\\\\\"$0\\\\\\\" \\\\\\\"$@\\\\\\\"\\\\n\\\",\\\"sh\\\",\\\"-ec\\\",\\\"program_path=$(mktemp -d)\\\\n\\\\nprintf \\\\\\\"%s\\\\\\\" \\\\\\\"$0\\\\\\\" \\\\u003e \\\\\\\"$program_path/ephemeral_component.py\\\\\\\"\\\\n_KFP_RUNTIME=true python3 -m kfp.dsl.executor_main                         --component_module_path                         \\\\\\\"$program_path/ephemeral_component.py\\\\\\\"                         \\\\\\\"$@\\\\\\\"\\\\n\\\",\\\"\\\\nimport kfp\\\\nfrom kfp import dsl\\\\nfrom kfp.dsl import *\\\\nfrom typing import *\\\\n\\\\ndef train(mlflow_uri: str, s3_bucket: str, model_name: str, aws_region: str):\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"Train sentiment model and log results to MLflow.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    import os, subprocess\\\\n    os.environ[\\\\\\\"MLFLOW_URI\\\\\\\"] = mlflow_uri\\\\n    os.environ[\\\\\\\"S3_BUCKET\\\\\\\"] = s3_bucket\\\\n    os.environ[\\\\\\\"MODEL_NAME\\\\\\\"] = model_name\\\\n    os.environ[\\\\\\\"AWS_REGION\\\\\\\"] = aws_region\\\\n    print(f\\\\\\\"Training model {model_name}, logging to {mlflow_uri}\\\\\\\")\\\\n    subprocess.run([\\\\\\\"python\\\\\\\", \\\\\\\"/app/train/component.py\\\\\\\"], check=True)\\\\n\\\\n\\\"],\\\"image\\\":\\\"118730128420.dkr.ecr.us-east-1.amazonaws.com/yt-kfp-component:latest\\\"}\",\"pipelines.kubeflow.org/run_name\":\"Run of youtube analyzer (e0368)\"},\"managedFields\":[{\"manager\":\"apiserver\",\"operation\":\"Update\",\"apiVersion\":\"argoproj.io/v1alpha1\",\"time\":\"2025-10-22T12:48:39Z\",\"fieldsType\":\"FieldsV1\",\"fieldsV1\":{\"f:metadata\":{\"f:annotations\":{\".\":{},\"f:pipelines.kubeflow.org/components-comp-preprocess\":{},\"f:pipelines.kubeflow.org/components-comp-train\":{},\"f:pipelines.kubeflow.org/components-root\":{},\"f:pipelines.kubeflow.org/implementations-comp-preprocess\":{},\"f:pipelines.kubeflow.org/implementations-comp-train\":{},\"f:pipelines.kubeflow.org/run_name\":{}},\"f:generateName\":{},\"f:labels\":{\".\":{},\"f:pipeline/runid\":{}}},\"f:spec\":{},\"f:status\":{}}}]},\"spec\":{\"templates\":[{\"name\":\"system-container-driver\",\"inputs\":{\"parameters\":[{\"name\":\"component\"},{\"name\":\"task\"},{\"name\":\"container\"},{\"name\":\"parent-dag-id\"},{\"name\":\"iteration-index\",\"default\":\"-1\"},{\"name\":\"kubernetes-config\",\"default\":\"\"}]},\"outputs\":{\"parameters\":[{\"name\":\"pod-spec-patch\",\"valueFrom\":{\"path\":\"/tmp/outputs/pod-spec-patch\",\"default\":\"\"}},{\"name\":\"cached-decision\",\"default\":\"false\",\"valueFrom\":{\"path\":\"/tmp/outputs/cached-decision\",\"default\":\"false\"}},{\"name\":\"condition\",\"valueFrom\":{\"path\":\"/tmp/outputs/condition\",\"default\":\"true\"}}]},\"metadata\":{\"annotations\":{\"sidecar.istio.io/inject\":\"false\"}},\"container\":{\"name\":\"\",\"image\":\"gcr.io/ml-pipeline/kfp-driver@sha256:0ce9bf20ac9cbb21e84ff0762d5ae508d21e9c85fde2b14b51363bd1b8cd7528\",\"command\":[\"driver\"],\"args\":[\"--type\",\"CONTAINER\",\"--pipeline_name\",\"yt-sentiment-pipeline-param\",\"--run_id\",\"04129361-35ce-4688-b383-33c39f6b57c0\",\"--dag_execution_id\",\"{{inputs.parameters.parent-dag-id}}\",\"--component\",\"{{inputs.parameters.component}}\",\"--task\",\"{{inputs.parameters.task}}\",\"--container\",\"{{inputs.parameters.container}}\",\"--iteration_index\",\"{{inputs.parameters.iteration-index}}\",\"--cached_decision_path\",\"{{outputs.parameters.cached-decision.path}}\",\"--pod_spec_patch_path\",\"{{outputs.parameters.pod-spec-patch.path}}\",\"--condition_path\",\"{{outputs.parameters.condition.path}}\",\"--kubernetes_config\",\"{{inputs.parameters.kubernetes-config}}\"],\"resources\":{\"limits\":{\"cpu\":\"500m\",\"memory\":\"512Mi\"},\"requests\":{\"cpu\":\"100m\",\"memory\":\"64Mi\"}}}},{\"name\":\"system-container-executor\",\"inputs\":{\"parameters\":[{\"name\":\"pod-spec-patch\"},{\"name\":\"cached-decision\",\"default\":\"false\"}]},\"outputs\":{},\"metadata\":{\"annotations\":{\"sidecar.istio.io/inject\":\"false\"}},\"dag\":{\"tasks\":[{\"name\":\"executor\",\"template\":\"system-container-impl\",\"arguments\":{\"parameters\":[{\"name\":\"pod-spec-patch\",\"value\":\"{{inputs.parameters.pod-spec-patch}}\"}]},\"when\":\"{{inputs.parameters.cached-decision}} != true\"}]}},{\"name\":\"system-container-impl\",\"inputs\":{\"parameters\":[{\"name\":\"pod-spec-patch\"}]},\"outputs\":{},\"metadata\":{\"annotations\":{\"sidecar.istio.io/inject\":\"false\"}},\"container\":{\"name\":\"\",\"image\":\"gcr.io/ml-pipeline/should-be-overridden-during-runtime\",\"command\":[\"should-be-overridden-during-runtime\"],\"envFrom\":[{\"configMapRef\":{\"name\":\"metadata-grpc-configmap\",\"optional\":true}}],\"env\":[{\"name\":\"KFP_POD_NAME\",\"valueFrom\":{\"fieldRef\":{\"fieldPath\":\"metadata.name\"}}},{\"name\":\"KFP_POD_UID\",\"valueFrom\":{\"fieldRef\":{\"fieldPath\":\"metadata.uid\"}}}],\"resources\":{},\"volumeMounts\":[{\"name\":\"kfp-launcher\",\"mountPath\":\"/kfp-launcher\"}]},\"volumes\":[{\"name\":\"kfp-launcher\",\"emptyDir\":{}}],\"initContainers\":[{\"name\":\"kfp-launcher\",\"image\":\"gcr.io/ml-pipeline/kfp-launcher@sha256:80cf120abd125db84fa547640fd6386c4b2a26936e0c2b04a7d3634991a850a4\",\"command\":[\"launcher-v2\",\"--copy\",\"/kfp-launcher/launch\"],\"resources\":{\"limits\":{\"cpu\":\"500m\",\"memory\":\"128Mi\"},\"requests\":{\"cpu\":\"100m\"}},\"volumeMounts\":[{\"name\":\"kfp-launcher\",\"mountPath\":\"/kfp-launcher\"}]}],\"podSpecPatch\":\"{{inputs.parameters.pod-spec-patch}}\"},{\"name\":\"root\",\"inputs\":{\"parameters\":[{\"name\":\"parent-dag-id\"}]},\"outputs\":{},\"metadata\":{\"annotations\":{\"sidecar.istio.io/inject\":\"false\"}},\"dag\":{\"tasks\":[{\"name\":\"preprocess-driver\",\"template\":\"system-container-driver\",\"arguments\":{\"parameters\":[{\"name\":\"component\",\"value\":\"{{workflow.annotations.pipelines.kubeflow.org/components-comp-preprocess}}\"},{\"name\":\"task\",\"value\":\"{\\\"cachingOptions\\\":{\\\"enableCache\\\":true},\\\"componentRef\\\":{\\\"name\\\":\\\"comp-preprocess\\\"},\\\"inputs\\\":{\\\"parameters\\\":{\\\"aws_region\\\":{\\\"componentInputParameter\\\":\\\"AWS_REGION\\\"},\\\"input_s3_uri\\\":{\\\"componentInputParameter\\\":\\\"INPUT_S3_URI\\\"},\\\"output_s3_uri\\\":{\\\"componentInputParameter\\\":\\\"OUTPUT_S3_URI\\\"}}},\\\"taskInfo\\\":{\\\"name\\\":\\\"preprocess\\\"}}\"},{\"name\":\"container\",\"value\":\"{{workflow.annotations.pipelines.kubeflow.org/implementations-comp-preprocess}}\"},{\"name\":\"parent-dag-id\",\"value\":\"{{inputs.parameters.parent-dag-id}}\"}]}},{\"name\":\"preprocess\",\"template\":\"system-container-executor\",\"arguments\":{\"parameters\":[{\"name\":\"pod-spec-patch\",\"value\":\"{{tasks.preprocess-driver.outputs.parameters.pod-spec-patch}}\"},{\"name\":\"cached-decision\",\"default\":\"false\",\"value\":\"{{tasks.preprocess-driver.outputs.parameters.cached-decision}}\"}]},\"depends\":\"preprocess-driver.Succeeded\"},{\"name\":\"train-driver\",\"template\":\"system-container-driver\",\"arguments\":{\"parameters\":[{\"name\":\"component\",\"value\":\"{{workflow.annotations.pipelines.kubeflow.org/components-comp-train}}\"},{\"name\":\"task\",\"value\":\"{\\\"cachingOptions\\\":{\\\"enableCache\\\":true},\\\"componentRef\\\":{\\\"name\\\":\\\"comp-train\\\"},\\\"dependentTasks\\\":[\\\"preprocess\\\"],\\\"inputs\\\":{\\\"parameters\\\":{\\\"aws_region\\\":{\\\"componentInputParameter\\\":\\\"AWS_REGION\\\"},\\\"mlflow_uri\\\":{\\\"componentInputParameter\\\":\\\"MLFLOW_URI\\\"},\\\"model_name\\\":{\\\"componentInputParameter\\\":\\\"MODEL_NAME\\\"},\\\"s3_bucket\\\":{\\\"componentInputParameter\\\":\\\"S3_BUCKET\\\"}}},\\\"taskInfo\\\":{\\\"name\\\":\\\"train\\\"}}\"},{\"name\":\"container\",\"value\":\"{{workflow.annotations.pipelines.kubeflow.org/implementations-comp-train}}\"},{\"name\":\"parent-dag-id\",\"value\":\"{{inputs.parameters.parent-dag-id}}\"}]},\"depends\":\"preprocess.Succeeded\"},{\"name\":\"train\",\"template\":\"system-container-executor\",\"arguments\":{\"parameters\":[{\"name\":\"pod-spec-patch\",\"value\":\"{{tasks.train-driver.outputs.parameters.pod-spec-patch}}\"},{\"name\":\"cached-decision\",\"default\":\"false\",\"value\":\"{{tasks.train-driver.outputs.parameters.cached-decision}}\"}]},\"depends\":\"train-driver.Succeeded\"}]}},{\"name\":\"system-dag-driver\",\"inputs\":{\"parameters\":[{\"name\":\"component\"},{\"name\":\"runtime-config\",\"default\":\"\"},{\"name\":\"task\",\"default\":\"\"},{\"name\":\"parent-dag-id\",\"default\":\"0\"},{\"name\":\"iteration-index\",\"default\":\"-1\"},{\"name\":\"driver-type\",\"default\":\"DAG\"}]},\"outputs\":{\"parameters\":[{\"name\":\"execution-id\",\"valueFrom\":{\"path\":\"/tmp/outputs/execution-id\"}},{\"name\":\"iteration-count\",\"valueFrom\":{\"path\":\"/tmp/outputs/iteration-count\",\"default\":\"0\"}},{\"name\":\"condition\",\"valueFrom\":{\"path\":\"/tmp/outputs/condition\",\"default\":\"true\"}}]},\"metadata\":{\"annotations\":{\"sidecar.istio.io/inject\":\"false\"}},\"container\":{\"name\":\"\",\"image\":\"gcr.io/ml-pipeline/kfp-driver@sha256:0ce9bf20ac9cbb21e84ff0762d5ae508d21e9c85fde2b14b51363bd1b8cd7528\",\"command\":[\"driver\"],\"args\":[\"--type\",\"{{inputs.parameters.driver-type}}\",\"--pipeline_name\",\"yt-sentiment-pipeline-param\",\"--run_id\",\"04129361-35ce-4688-b383-33c39f6b57c0\",\"--dag_execution_id\",\"{{inputs.parameters.parent-dag-id}}\",\"--component\",\"{{inputs.parameters.component}}\",\"--task\",\"{{inputs.parameters.task}}\",\"--runtime_config\",\"{{inputs.parameters.runtime-config}}\",\"--iteration_index\",\"{{inputs.parameters.iteration-index}}\",\"--execution_id_path\",\"{{outputs.parameters.execution-id.path}}\",\"--iteration_count_path\",\"{{outputs.parameters.iteration-count.path}}\",\"--condition_path\",\"{{outputs.parameters.condition.path}}\"],\"resources\":{\"limits\":{\"cpu\":\"500m\",\"memory\":\"512Mi\"},\"requests\":{\"cpu\":\"100m\",\"memory\":\"64Mi\"}}}},{\"name\":\"entrypoint\",\"inputs\":{},\"outputs\":{},\"metadata\":{\"annotations\":{\"sidecar.istio.io/inject\":\"false\"}},\"dag\":{\"tasks\":[{\"name\":\"root-driver\",\"template\":\"system-dag-driver\",\"arguments\":{\"parameters\":[{\"name\":\"component\",\"value\":\"{{workflow.annotations.pipelines.kubeflow.org/components-root}}\"},{\"name\":\"runtime-config\",\"value\":\"{\\\"parameterValues\\\":{\\\"AWS_REGION\\\":\\\"us-east-1\\\",\\\"INPUT_S3_URI\\\":\\\"s3://mlops-yt-artifacts-nandak-1760367211/datasets/raw.csv\\\",\\\"MLFLOW_URI\\\":\\\"http://mlflow-service.mlops.svc.cluster.local:5000\\\",\\\"MODEL_NAME\\\":\\\"distilbert-base-uncased\\\",\\\"OUTPUT_S3_URI\\\":\\\"s3://mlops-yt-artifacts-nandak-1760367211/datasets/cleaned.csv\\\",\\\"S3_BUCKET\\\":\\\"mlops-yt-artifacts-nandak-1760367211\\\"}}\"},{\"name\":\"driver-type\",\"value\":\"ROOT_DAG\"}]}},{\"name\":\"root\",\"template\":\"root\",\"arguments\":{\"parameters\":[{\"name\":\"parent-dag-id\",\"value\":\"{{tasks.root-driver.outputs.parameters.execution-id}}\"},{\"name\":\"condition\",\"value\":\"\"}]},\"depends\":\"root-driver.Succeeded\"}]}}],\"entrypoint\":\"entrypoint\",\"arguments\":{},\"serviceAccountName\":\"pipeline-runner\",\"podMetadata\":{\"annotations\":{\"pipelines.kubeflow.org/v2_component\":\"true\"},\"labels\":{\"pipeline/runid\":\"04129361-35ce-4688-b383-33c39f6b57c0\",\"pipelines.kubeflow.org/v2_component\":\"true\"}}},\"status\":{\"startedAt\":null,\"finishedAt\":null}}','',0,0),('0f47dd3d-5be5-48ac-a8f2-ca0ac3e152ea','Run of youtube analyzer (8727e)','yt-sentiment-pipeline-param-jdp4j','','','73a102cf-474a-4691-a9be-b60ade3d5345','','AVAILABLE','pipeline-runner','fa9ea7ea-6814-4997-8ca3-854aa94cd3f6','db03cb2d-de9e-49c7-a41b-bb6ce4340f95','youtube analyzer','components:\n  comp-preprocess:\n    executorLabel: exec-preprocess\n    inputDefinitions:\n      parameters:\n        aws_region:\n          parameterType: STRING\n        input_s3_uri:\n          parameterType: STRING\n        output_s3_uri:\n          parameterType: STRING\n  comp-train:\n    executorLabel: exec-train\n    inputDefinitions:\n      parameters:\n        aws_region:\n          parameterType: STRING\n        mlflow_uri:\n          parameterType: STRING\n        model_name:\n          parameterType: STRING\n        s3_bucket:\n          parameterType: STRING\ndeploymentSpec:\n  executors:\n    exec-preprocess:\n      container:\n        args:\n        - --executor_input\n        - \'{{$}}\'\n        - --function_to_execute\n        - preprocess\n        command:\n        - sh\n        - -c\n        - |2\n\n          if ! [ -x \"$(command -v pip)\" ]; then\n              python3 -m ensurepip || python3 -m ensurepip --user || apt-get install python3-pip\n          fi\n\n          PIP_DISABLE_PIP_VERSION_CHECK=1 python3 -m pip install --quiet --no-warn-script-location \'kfp==2.14.6\' \'--no-deps\' \'typing-extensions>=3.7.4,<5; python_version<\"3.9\"\' && \"$0\" \"$@\"\n        - sh\n        - -ec\n        - |\n          program_path=$(mktemp -d)\n\n          printf \"%s\" \"$0\" > \"$program_path/ephemeral_component.py\"\n          _KFP_RUNTIME=true python3 -m kfp.dsl.executor_main                         --component_module_path                         \"$program_path/ephemeral_component.py\"                         \"$@\"\n        - |2+\n\n          import kfp\n          from kfp import dsl\n          from kfp.dsl import *\n          from typing import *\n\n          def preprocess(input_s3_uri: str, output_s3_uri: str, aws_region: str):\n              \"\"\"Preprocess YouTube comments and upload cleaned data to S3.\"\"\"\n              import os, subprocess\n              os.environ[\"INPUT_S3_URI\"] = input_s3_uri\n              os.environ[\"OUTPUT_S3_URI\"] = output_s3_uri\n              os.environ[\"AWS_REGION\"] = aws_region\n              print(f\"Preprocessing from {input_s3_uri} → {output_s3_uri}\")\n              subprocess.run([\"python\", \"/app/preprocess/component.py\"], check=True)\n\n        image: 118730128420.dkr.ecr.us-east-1.amazonaws.com/yt-kfp-component:latest\n    exec-train:\n      container:\n        args:\n        - --executor_input\n        - \'{{$}}\'\n        - --function_to_execute\n        - train\n        command:\n        - sh\n        - -c\n        - |2\n\n          if ! [ -x \"$(command -v pip)\" ]; then\n              python3 -m ensurepip || python3 -m ensurepip --user || apt-get install python3-pip\n          fi\n\n          PIP_DISABLE_PIP_VERSION_CHECK=1 python3 -m pip install --quiet --no-warn-script-location \'kfp==2.14.6\' \'--no-deps\' \'typing-extensions>=3.7.4,<5; python_version<\"3.9\"\' && \"$0\" \"$@\"\n        - sh\n        - -ec\n        - |\n          program_path=$(mktemp -d)\n\n          printf \"%s\" \"$0\" > \"$program_path/ephemeral_component.py\"\n          _KFP_RUNTIME=true python3 -m kfp.dsl.executor_main                         --component_module_path                         \"$program_path/ephemeral_component.py\"                         \"$@\"\n        - |2+\n\n          import kfp\n          from kfp import dsl\n          from kfp.dsl import *\n          from typing import *\n\n          def train(mlflow_uri: str, s3_bucket: str, model_name: str, aws_region: str):\n              \"\"\"Train sentiment model and log results to MLflow.\"\"\"\n              import os, subprocess\n              os.environ[\"MLFLOW_URI\"] = mlflow_uri\n              os.environ[\"S3_BUCKET\"] = s3_bucket\n              os.environ[\"MODEL_NAME\"] = model_name\n              os.environ[\"AWS_REGION\"] = aws_region\n              print(f\"Training model {model_name}, logging to {mlflow_uri}\")\n              subprocess.run([\"python\", \"/app/train/component.py\"], check=True)\n\n        image: 118730128420.dkr.ecr.us-east-1.amazonaws.com/yt-kfp-component:latest\npipelineInfo:\n  description: YouTube Sentiment Analyzer pipeline using MLflow + S3 + EKS\n  name: yt-sentiment-pipeline-param\nroot:\n  dag:\n    tasks:\n      preprocess:\n        cachingOptions:\n          enableCache: true\n        componentRef:\n          name: comp-preprocess\n        inputs:\n          parameters:\n            aws_region:\n              componentInputParameter: AWS_REGION\n            input_s3_uri:\n              componentInputParameter: INPUT_S3_URI\n            output_s3_uri:\n              componentInputParameter: OUTPUT_S3_URI\n        taskInfo:\n          name: preprocess\n      train:\n        cachingOptions:\n          enableCache: true\n        componentRef:\n          name: comp-train\n        dependentTasks:\n        - preprocess\n        inputs:\n          parameters:\n            aws_region:\n              componentInputParameter: AWS_REGION\n            mlflow_uri:\n              componentInputParameter: MLFLOW_URI\n            model_name:\n              componentInputParameter: MODEL_NAME\n            s3_bucket:\n              componentInputParameter: S3_BUCKET\n        taskInfo:\n          name: train\n  inputDefinitions:\n    parameters:\n      AWS_REGION:\n        defaultValue: us-east-1\n        isOptional: true\n        parameterType: STRING\n      INPUT_S3_URI:\n        defaultValue: s3://mlops-yt-artifacts-nandak-1760367211/datasets/raw.csv\n        isOptional: true\n        parameterType: STRING\n      MLFLOW_URI:\n        defaultValue: http://mlflow-service.mlops.svc.cluster.local:5000\n        isOptional: true\n        parameterType: STRING\n      MODEL_NAME:\n        defaultValue: distilbert-base-uncased\n        isOptional: true\n        parameterType: STRING\n      OUTPUT_S3_URI:\n        defaultValue: s3://mlops-yt-artifacts-nandak-1760367211/datasets/cleaned.csv\n        isOptional: true\n        parameterType: STRING\n      S3_BUCKET:\n        defaultValue: mlops-yt-artifacts-nandak-1760367211\n        isOptional: true\n        parameterType: STRING\nschemaVersion: 2.1.0\nsdkVersion: kfp-2.14.6\n','','','','',1761135358,1761135358,0,'Pending','PENDING','[{\"UpdateTimeInSec\":1761135358,\"State\":\"PENDING\"}]','{\"metadata\":{\"name\":\"yt-sentiment-pipeline-param-jdp4j\",\"generateName\":\"yt-sentiment-pipeline-param-\",\"namespace\":\"kubeflow\",\"uid\":\"7b83a83b-907e-40b2-87a2-74a7240897ce\",\"resourceVersion\":\"2466236\",\"generation\":1,\"creationTimestamp\":\"2025-10-22T12:15:58Z\",\"labels\":{\"pipeline/runid\":\"0f47dd3d-5be5-48ac-a8f2-ca0ac3e152ea\"},\"annotations\":{\"pipelines.kubeflow.org/components-comp-preprocess\":\"{\\\"executorLabel\\\":\\\"exec-preprocess\\\",\\\"inputDefinitions\\\":{\\\"parameters\\\":{\\\"aws_region\\\":{\\\"parameterType\\\":\\\"STRING\\\"},\\\"input_s3_uri\\\":{\\\"parameterType\\\":\\\"STRING\\\"},\\\"output_s3_uri\\\":{\\\"parameterType\\\":\\\"STRING\\\"}}}}\",\"pipelines.kubeflow.org/components-comp-train\":\"{\\\"executorLabel\\\":\\\"exec-train\\\",\\\"inputDefinitions\\\":{\\\"parameters\\\":{\\\"aws_region\\\":{\\\"parameterType\\\":\\\"STRING\\\"},\\\"mlflow_uri\\\":{\\\"parameterType\\\":\\\"STRING\\\"},\\\"model_name\\\":{\\\"parameterType\\\":\\\"STRING\\\"},\\\"s3_bucket\\\":{\\\"parameterType\\\":\\\"STRING\\\"}}}}\",\"pipelines.kubeflow.org/components-root\":\"{\\\"dag\\\":{\\\"tasks\\\":{\\\"preprocess\\\":{\\\"cachingOptions\\\":{\\\"enableCache\\\":true},\\\"componentRef\\\":{\\\"name\\\":\\\"comp-preprocess\\\"},\\\"inputs\\\":{\\\"parameters\\\":{\\\"aws_region\\\":{\\\"componentInputParameter\\\":\\\"AWS_REGION\\\"},\\\"input_s3_uri\\\":{\\\"componentInputParameter\\\":\\\"INPUT_S3_URI\\\"},\\\"output_s3_uri\\\":{\\\"componentInputParameter\\\":\\\"OUTPUT_S3_URI\\\"}}},\\\"taskInfo\\\":{\\\"name\\\":\\\"preprocess\\\"}},\\\"train\\\":{\\\"cachingOptions\\\":{\\\"enableCache\\\":true},\\\"componentRef\\\":{\\\"name\\\":\\\"comp-train\\\"},\\\"dependentTasks\\\":[\\\"preprocess\\\"],\\\"inputs\\\":{\\\"parameters\\\":{\\\"aws_region\\\":{\\\"componentInputParameter\\\":\\\"AWS_REGION\\\"},\\\"mlflow_uri\\\":{\\\"componentInputParameter\\\":\\\"MLFLOW_URI\\\"},\\\"model_name\\\":{\\\"componentInputParameter\\\":\\\"MODEL_NAME\\\"},\\\"s3_bucket\\\":{\\\"componentInputParameter\\\":\\\"S3_BUCKET\\\"}}},\\\"taskInfo\\\":{\\\"name\\\":\\\"train\\\"}}}},\\\"inputDefinitions\\\":{\\\"parameters\\\":{\\\"AWS_REGION\\\":{\\\"defaultValue\\\":\\\"us-east-1\\\",\\\"isOptional\\\":true,\\\"parameterType\\\":\\\"STRING\\\"},\\\"INPUT_S3_URI\\\":{\\\"defaultValue\\\":\\\"s3://mlops-yt-artifacts-nandak-1760367211/datasets/raw.csv\\\",\\\"isOptional\\\":true,\\\"parameterType\\\":\\\"STRING\\\"},\\\"MLFLOW_URI\\\":{\\\"defaultValue\\\":\\\"http://mlflow-service.mlops.svc.cluster.local:5000\\\",\\\"isOptional\\\":true,\\\"parameterType\\\":\\\"STRING\\\"},\\\"MODEL_NAME\\\":{\\\"defaultValue\\\":\\\"distilbert-base-uncased\\\",\\\"isOptional\\\":true,\\\"parameterType\\\":\\\"STRING\\\"},\\\"OUTPUT_S3_URI\\\":{\\\"defaultValue\\\":\\\"s3://mlops-yt-artifacts-nandak-1760367211/datasets/cleaned.csv\\\",\\\"isOptional\\\":true,\\\"parameterType\\\":\\\"STRING\\\"},\\\"S3_BUCKET\\\":{\\\"defaultValue\\\":\\\"mlops-yt-artifacts-nandak-1760367211\\\",\\\"isOptional\\\":true,\\\"parameterType\\\":\\\"STRING\\\"}}}}\",\"pipelines.kubeflow.org/implementations-comp-preprocess\":\"{\\\"args\\\":[\\\"--executor_input\\\",\\\"{{$}}\\\",\\\"--function_to_execute\\\",\\\"preprocess\\\"],\\\"command\\\":[\\\"sh\\\",\\\"-c\\\",\\\"\\\\nif ! [ -x \\\\\\\"$(command -v pip)\\\\\\\" ]; then\\\\n    python3 -m ensurepip || python3 -m ensurepip --user || apt-get install python3-pip\\\\nfi\\\\n\\\\nPIP_DISABLE_PIP_VERSION_CHECK=1 python3 -m pip install --quiet --no-warn-script-location \'kfp==2.14.6\' \'--no-deps\' \'typing-extensions\\\\u003e=3.7.4,\\\\u003c5; python_version\\\\u003c\\\\\\\"3.9\\\\\\\"\' \\\\u0026\\\\u0026 \\\\\\\"$0\\\\\\\" \\\\\\\"$@\\\\\\\"\\\\n\\\",\\\"sh\\\",\\\"-ec\\\",\\\"program_path=$(mktemp -d)\\\\n\\\\nprintf \\\\\\\"%s\\\\\\\" \\\\\\\"$0\\\\\\\" \\\\u003e \\\\\\\"$program_path/ephemeral_component.py\\\\\\\"\\\\n_KFP_RUNTIME=true python3 -m kfp.dsl.executor_main                         --component_module_path                         \\\\\\\"$program_path/ephemeral_component.py\\\\\\\"                         \\\\\\\"$@\\\\\\\"\\\\n\\\",\\\"\\\\nimport kfp\\\\nfrom kfp import dsl\\\\nfrom kfp.dsl import *\\\\nfrom typing import *\\\\n\\\\ndef preprocess(input_s3_uri: str, output_s3_uri: str, aws_region: str):\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"Preprocess YouTube comments and upload cleaned data to S3.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    import os, subprocess\\\\n    os.environ[\\\\\\\"INPUT_S3_URI\\\\\\\"] = input_s3_uri\\\\n    os.environ[\\\\\\\"OUTPUT_S3_URI\\\\\\\"] = output_s3_uri\\\\n    os.environ[\\\\\\\"AWS_REGION\\\\\\\"] = aws_region\\\\n    print(f\\\\\\\"Preprocessing from {input_s3_uri} → {output_s3_uri}\\\\\\\")\\\\n    subprocess.run([\\\\\\\"python\\\\\\\", \\\\\\\"/app/preprocess/component.py\\\\\\\"], check=True)\\\\n\\\\n\\\"],\\\"image\\\":\\\"118730128420.dkr.ecr.us-east-1.amazonaws.com/yt-kfp-component:latest\\\"}\",\"pipelines.kubeflow.org/implementations-comp-train\":\"{\\\"args\\\":[\\\"--executor_input\\\",\\\"{{$}}\\\",\\\"--function_to_execute\\\",\\\"train\\\"],\\\"command\\\":[\\\"sh\\\",\\\"-c\\\",\\\"\\\\nif ! [ -x \\\\\\\"$(command -v pip)\\\\\\\" ]; then\\\\n    python3 -m ensurepip || python3 -m ensurepip --user || apt-get install python3-pip\\\\nfi\\\\n\\\\nPIP_DISABLE_PIP_VERSION_CHECK=1 python3 -m pip install --quiet --no-warn-script-location \'kfp==2.14.6\' \'--no-deps\' \'typing-extensions\\\\u003e=3.7.4,\\\\u003c5; python_version\\\\u003c\\\\\\\"3.9\\\\\\\"\' \\\\u0026\\\\u0026 \\\\\\\"$0\\\\\\\" \\\\\\\"$@\\\\\\\"\\\\n\\\",\\\"sh\\\",\\\"-ec\\\",\\\"program_path=$(mktemp -d)\\\\n\\\\nprintf \\\\\\\"%s\\\\\\\" \\\\\\\"$0\\\\\\\" \\\\u003e \\\\\\\"$program_path/ephemeral_component.py\\\\\\\"\\\\n_KFP_RUNTIME=true python3 -m kfp.dsl.executor_main                         --component_module_path                         \\\\\\\"$program_path/ephemeral_component.py\\\\\\\"                         \\\\\\\"$@\\\\\\\"\\\\n\\\",\\\"\\\\nimport kfp\\\\nfrom kfp import dsl\\\\nfrom kfp.dsl import *\\\\nfrom typing import *\\\\n\\\\ndef train(mlflow_uri: str, s3_bucket: str, model_name: str, aws_region: str):\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"Train sentiment model and log results to MLflow.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    import os, subprocess\\\\n    os.environ[\\\\\\\"MLFLOW_URI\\\\\\\"] = mlflow_uri\\\\n    os.environ[\\\\\\\"S3_BUCKET\\\\\\\"] = s3_bucket\\\\n    os.environ[\\\\\\\"MODEL_NAME\\\\\\\"] = model_name\\\\n    os.environ[\\\\\\\"AWS_REGION\\\\\\\"] = aws_region\\\\n    print(f\\\\\\\"Training model {model_name}, logging to {mlflow_uri}\\\\\\\")\\\\n    subprocess.run([\\\\\\\"python\\\\\\\", \\\\\\\"/app/train/component.py\\\\\\\"], check=True)\\\\n\\\\n\\\"],\\\"image\\\":\\\"118730128420.dkr.ecr.us-east-1.amazonaws.com/yt-kfp-component:latest\\\"}\",\"pipelines.kubeflow.org/run_name\":\"Run of youtube analyzer (8727e)\"},\"managedFields\":[{\"manager\":\"apiserver\",\"operation\":\"Update\",\"apiVersion\":\"argoproj.io/v1alpha1\",\"time\":\"2025-10-22T12:15:58Z\",\"fieldsType\":\"FieldsV1\",\"fieldsV1\":{\"f:metadata\":{\"f:annotations\":{\".\":{},\"f:pipelines.kubeflow.org/components-comp-preprocess\":{},\"f:pipelines.kubeflow.org/components-comp-train\":{},\"f:pipelines.kubeflow.org/components-root\":{},\"f:pipelines.kubeflow.org/implementations-comp-preprocess\":{},\"f:pipelines.kubeflow.org/implementations-comp-train\":{},\"f:pipelines.kubeflow.org/run_name\":{}},\"f:generateName\":{},\"f:labels\":{\".\":{},\"f:pipeline/runid\":{}}},\"f:spec\":{},\"f:status\":{}}}]},\"spec\":{\"templates\":[{\"name\":\"system-container-driver\",\"inputs\":{\"parameters\":[{\"name\":\"component\"},{\"name\":\"task\"},{\"name\":\"container\"},{\"name\":\"parent-dag-id\"},{\"name\":\"iteration-index\",\"default\":\"-1\"},{\"name\":\"kubernetes-config\",\"default\":\"\"}]},\"outputs\":{\"parameters\":[{\"name\":\"pod-spec-patch\",\"valueFrom\":{\"path\":\"/tmp/outputs/pod-spec-patch\",\"default\":\"\"}},{\"name\":\"cached-decision\",\"default\":\"false\",\"valueFrom\":{\"path\":\"/tmp/outputs/cached-decision\",\"default\":\"false\"}},{\"name\":\"condition\",\"valueFrom\":{\"path\":\"/tmp/outputs/condition\",\"default\":\"true\"}}]},\"metadata\":{\"annotations\":{\"sidecar.istio.io/inject\":\"false\"}},\"container\":{\"name\":\"\",\"image\":\"gcr.io/ml-pipeline/kfp-driver@sha256:0ce9bf20ac9cbb21e84ff0762d5ae508d21e9c85fde2b14b51363bd1b8cd7528\",\"command\":[\"driver\"],\"args\":[\"--type\",\"CONTAINER\",\"--pipeline_name\",\"yt-sentiment-pipeline-param\",\"--run_id\",\"0f47dd3d-5be5-48ac-a8f2-ca0ac3e152ea\",\"--dag_execution_id\",\"{{inputs.parameters.parent-dag-id}}\",\"--component\",\"{{inputs.parameters.component}}\",\"--task\",\"{{inputs.parameters.task}}\",\"--container\",\"{{inputs.parameters.container}}\",\"--iteration_index\",\"{{inputs.parameters.iteration-index}}\",\"--cached_decision_path\",\"{{outputs.parameters.cached-decision.path}}\",\"--pod_spec_patch_path\",\"{{outputs.parameters.pod-spec-patch.path}}\",\"--condition_path\",\"{{outputs.parameters.condition.path}}\",\"--kubernetes_config\",\"{{inputs.parameters.kubernetes-config}}\"],\"resources\":{\"limits\":{\"cpu\":\"500m\",\"memory\":\"512Mi\"},\"requests\":{\"cpu\":\"100m\",\"memory\":\"64Mi\"}}}},{\"name\":\"system-container-executor\",\"inputs\":{\"parameters\":[{\"name\":\"pod-spec-patch\"},{\"name\":\"cached-decision\",\"default\":\"false\"}]},\"outputs\":{},\"metadata\":{\"annotations\":{\"sidecar.istio.io/inject\":\"false\"}},\"dag\":{\"tasks\":[{\"name\":\"executor\",\"template\":\"system-container-impl\",\"arguments\":{\"parameters\":[{\"name\":\"pod-spec-patch\",\"value\":\"{{inputs.parameters.pod-spec-patch}}\"}]},\"when\":\"{{inputs.parameters.cached-decision}} != true\"}]}},{\"name\":\"system-container-impl\",\"inputs\":{\"parameters\":[{\"name\":\"pod-spec-patch\"}]},\"outputs\":{},\"metadata\":{\"annotations\":{\"sidecar.istio.io/inject\":\"false\"}},\"container\":{\"name\":\"\",\"image\":\"gcr.io/ml-pipeline/should-be-overridden-during-runtime\",\"command\":[\"should-be-overridden-during-runtime\"],\"envFrom\":[{\"configMapRef\":{\"name\":\"metadata-grpc-configmap\",\"optional\":true}}],\"env\":[{\"name\":\"KFP_POD_NAME\",\"valueFrom\":{\"fieldRef\":{\"fieldPath\":\"metadata.name\"}}},{\"name\":\"KFP_POD_UID\",\"valueFrom\":{\"fieldRef\":{\"fieldPath\":\"metadata.uid\"}}}],\"resources\":{},\"volumeMounts\":[{\"name\":\"kfp-launcher\",\"mountPath\":\"/kfp-launcher\"}]},\"volumes\":[{\"name\":\"kfp-launcher\",\"emptyDir\":{}}],\"initContainers\":[{\"name\":\"kfp-launcher\",\"image\":\"gcr.io/ml-pipeline/kfp-launcher@sha256:80cf120abd125db84fa547640fd6386c4b2a26936e0c2b04a7d3634991a850a4\",\"command\":[\"launcher-v2\",\"--copy\",\"/kfp-launcher/launch\"],\"resources\":{\"limits\":{\"cpu\":\"500m\",\"memory\":\"128Mi\"},\"requests\":{\"cpu\":\"100m\"}},\"volumeMounts\":[{\"name\":\"kfp-launcher\",\"mountPath\":\"/kfp-launcher\"}]}],\"podSpecPatch\":\"{{inputs.parameters.pod-spec-patch}}\"},{\"name\":\"root\",\"inputs\":{\"parameters\":[{\"name\":\"parent-dag-id\"}]},\"outputs\":{},\"metadata\":{\"annotations\":{\"sidecar.istio.io/inject\":\"false\"}},\"dag\":{\"tasks\":[{\"name\":\"preprocess-driver\",\"template\":\"system-container-driver\",\"arguments\":{\"parameters\":[{\"name\":\"component\",\"value\":\"{{workflow.annotations.pipelines.kubeflow.org/components-comp-preprocess}}\"},{\"name\":\"task\",\"value\":\"{\\\"cachingOptions\\\":{\\\"enableCache\\\":true},\\\"componentRef\\\":{\\\"name\\\":\\\"comp-preprocess\\\"},\\\"inputs\\\":{\\\"parameters\\\":{\\\"aws_region\\\":{\\\"componentInputParameter\\\":\\\"AWS_REGION\\\"},\\\"input_s3_uri\\\":{\\\"componentInputParameter\\\":\\\"INPUT_S3_URI\\\"},\\\"output_s3_uri\\\":{\\\"componentInputParameter\\\":\\\"OUTPUT_S3_URI\\\"}}},\\\"taskInfo\\\":{\\\"name\\\":\\\"preprocess\\\"}}\"},{\"name\":\"container\",\"value\":\"{{workflow.annotations.pipelines.kubeflow.org/implementations-comp-preprocess}}\"},{\"name\":\"parent-dag-id\",\"value\":\"{{inputs.parameters.parent-dag-id}}\"}]}},{\"name\":\"preprocess\",\"template\":\"system-container-executor\",\"arguments\":{\"parameters\":[{\"name\":\"pod-spec-patch\",\"value\":\"{{tasks.preprocess-driver.outputs.parameters.pod-spec-patch}}\"},{\"name\":\"cached-decision\",\"default\":\"false\",\"value\":\"{{tasks.preprocess-driver.outputs.parameters.cached-decision}}\"}]},\"depends\":\"preprocess-driver.Succeeded\"},{\"name\":\"train-driver\",\"template\":\"system-container-driver\",\"arguments\":{\"parameters\":[{\"name\":\"component\",\"value\":\"{{workflow.annotations.pipelines.kubeflow.org/components-comp-train}}\"},{\"name\":\"task\",\"value\":\"{\\\"cachingOptions\\\":{\\\"enableCache\\\":true},\\\"componentRef\\\":{\\\"name\\\":\\\"comp-train\\\"},\\\"dependentTasks\\\":[\\\"preprocess\\\"],\\\"inputs\\\":{\\\"parameters\\\":{\\\"aws_region\\\":{\\\"componentInputParameter\\\":\\\"AWS_REGION\\\"},\\\"mlflow_uri\\\":{\\\"componentInputParameter\\\":\\\"MLFLOW_URI\\\"},\\\"model_name\\\":{\\\"componentInputParameter\\\":\\\"MODEL_NAME\\\"},\\\"s3_bucket\\\":{\\\"componentInputParameter\\\":\\\"S3_BUCKET\\\"}}},\\\"taskInfo\\\":{\\\"name\\\":\\\"train\\\"}}\"},{\"name\":\"container\",\"value\":\"{{workflow.annotations.pipelines.kubeflow.org/implementations-comp-train}}\"},{\"name\":\"parent-dag-id\",\"value\":\"{{inputs.parameters.parent-dag-id}}\"}]},\"depends\":\"preprocess.Succeeded\"},{\"name\":\"train\",\"template\":\"system-container-executor\",\"arguments\":{\"parameters\":[{\"name\":\"pod-spec-patch\",\"value\":\"{{tasks.train-driver.outputs.parameters.pod-spec-patch}}\"},{\"name\":\"cached-decision\",\"default\":\"false\",\"value\":\"{{tasks.train-driver.outputs.parameters.cached-decision}}\"}]},\"depends\":\"train-driver.Succeeded\"}]}},{\"name\":\"system-dag-driver\",\"inputs\":{\"parameters\":[{\"name\":\"component\"},{\"name\":\"runtime-config\",\"default\":\"\"},{\"name\":\"task\",\"default\":\"\"},{\"name\":\"parent-dag-id\",\"default\":\"0\"},{\"name\":\"iteration-index\",\"default\":\"-1\"},{\"name\":\"driver-type\",\"default\":\"DAG\"}]},\"outputs\":{\"parameters\":[{\"name\":\"execution-id\",\"valueFrom\":{\"path\":\"/tmp/outputs/execution-id\"}},{\"name\":\"iteration-count\",\"valueFrom\":{\"path\":\"/tmp/outputs/iteration-count\",\"default\":\"0\"}},{\"name\":\"condition\",\"valueFrom\":{\"path\":\"/tmp/outputs/condition\",\"default\":\"true\"}}]},\"metadata\":{\"annotations\":{\"sidecar.istio.io/inject\":\"false\"}},\"container\":{\"name\":\"\",\"image\":\"gcr.io/ml-pipeline/kfp-driver@sha256:0ce9bf20ac9cbb21e84ff0762d5ae508d21e9c85fde2b14b51363bd1b8cd7528\",\"command\":[\"driver\"],\"args\":[\"--type\",\"{{inputs.parameters.driver-type}}\",\"--pipeline_name\",\"yt-sentiment-pipeline-param\",\"--run_id\",\"0f47dd3d-5be5-48ac-a8f2-ca0ac3e152ea\",\"--dag_execution_id\",\"{{inputs.parameters.parent-dag-id}}\",\"--component\",\"{{inputs.parameters.component}}\",\"--task\",\"{{inputs.parameters.task}}\",\"--runtime_config\",\"{{inputs.parameters.runtime-config}}\",\"--iteration_index\",\"{{inputs.parameters.iteration-index}}\",\"--execution_id_path\",\"{{outputs.parameters.execution-id.path}}\",\"--iteration_count_path\",\"{{outputs.parameters.iteration-count.path}}\",\"--condition_path\",\"{{outputs.parameters.condition.path}}\"],\"resources\":{\"limits\":{\"cpu\":\"500m\",\"memory\":\"512Mi\"},\"requests\":{\"cpu\":\"100m\",\"memory\":\"64Mi\"}}}},{\"name\":\"entrypoint\",\"inputs\":{},\"outputs\":{},\"metadata\":{\"annotations\":{\"sidecar.istio.io/inject\":\"false\"}},\"dag\":{\"tasks\":[{\"name\":\"root-driver\",\"template\":\"system-dag-driver\",\"arguments\":{\"parameters\":[{\"name\":\"component\",\"value\":\"{{workflow.annotations.pipelines.kubeflow.org/components-root}}\"},{\"name\":\"runtime-config\",\"value\":\"{\\\"parameterValues\\\":{\\\"AWS_REGION\\\":\\\"us-east-1\\\",\\\"INPUT_S3_URI\\\":\\\"s3://mlops-yt-artifacts-nandak-1760367211/datasets/raw.csv\\\",\\\"MLFLOW_URI\\\":\\\"http://mlflow-service.mlops.svc.cluster.local:5000\\\",\\\"MODEL_NAME\\\":\\\"distilbert-base-uncased\\\",\\\"OUTPUT_S3_URI\\\":\\\"s3://mlops-yt-artifacts-nandak-1760367211/datasets/cleaned.csv\\\",\\\"S3_BUCKET\\\":\\\"mlops-yt-artifacts-nandak-1760367211\\\"}}\"},{\"name\":\"driver-type\",\"value\":\"ROOT_DAG\"}]}},{\"name\":\"root\",\"template\":\"root\",\"arguments\":{\"parameters\":[{\"name\":\"parent-dag-id\",\"value\":\"{{tasks.root-driver.outputs.parameters.execution-id}}\"},{\"name\":\"condition\",\"value\":\"\"}]},\"depends\":\"root-driver.Succeeded\"}]}}],\"entrypoint\":\"entrypoint\",\"arguments\":{},\"serviceAccountName\":\"pipeline-runner\",\"podMetadata\":{\"annotations\":{\"pipelines.kubeflow.org/v2_component\":\"true\"},\"labels\":{\"pipeline/runid\":\"0f47dd3d-5be5-48ac-a8f2-ca0ac3e152ea\",\"pipelines.kubeflow.org/v2_component\":\"true\"}}},\"status\":{\"startedAt\":null,\"finishedAt\":null}}','',0,0),('30612806-8c6d-476b-91d3-78548981c023','Run of youtube analyzer (98016)','yt-sentiment-pipeline-param-pfw5n','','','73a102cf-474a-4691-a9be-b60ade3d5345','','AVAILABLE','pipeline-runner','fa9ea7ea-6814-4997-8ca3-854aa94cd3f6','db03cb2d-de9e-49c7-a41b-bb6ce4340f95','youtube analyzer','components:\n  comp-preprocess:\n    executorLabel: exec-preprocess\n    inputDefinitions:\n      parameters:\n        aws_region:\n          parameterType: STRING\n        input_s3_uri:\n          parameterType: STRING\n        output_s3_uri:\n          parameterType: STRING\n  comp-train:\n    executorLabel: exec-train\n    inputDefinitions:\n      parameters:\n        aws_region:\n          parameterType: STRING\n        mlflow_uri:\n          parameterType: STRING\n        model_name:\n          parameterType: STRING\n        s3_bucket:\n          parameterType: STRING\ndeploymentSpec:\n  executors:\n    exec-preprocess:\n      container:\n        args:\n        - --executor_input\n        - \'{{$}}\'\n        - --function_to_execute\n        - preprocess\n        command:\n        - sh\n        - -c\n        - |2\n\n          if ! [ -x \"$(command -v pip)\" ]; then\n              python3 -m ensurepip || python3 -m ensurepip --user || apt-get install python3-pip\n          fi\n\n          PIP_DISABLE_PIP_VERSION_CHECK=1 python3 -m pip install --quiet --no-warn-script-location \'kfp==2.14.6\' \'--no-deps\' \'typing-extensions>=3.7.4,<5; python_version<\"3.9\"\' && \"$0\" \"$@\"\n        - sh\n        - -ec\n        - |\n          program_path=$(mktemp -d)\n\n          printf \"%s\" \"$0\" > \"$program_path/ephemeral_component.py\"\n          _KFP_RUNTIME=true python3 -m kfp.dsl.executor_main                         --component_module_path                         \"$program_path/ephemeral_component.py\"                         \"$@\"\n        - |2+\n\n          import kfp\n          from kfp import dsl\n          from kfp.dsl import *\n          from typing import *\n\n          def preprocess(input_s3_uri: str, output_s3_uri: str, aws_region: str):\n              \"\"\"Preprocess YouTube comments and upload cleaned data to S3.\"\"\"\n              import os, subprocess\n              os.environ[\"INPUT_S3_URI\"] = input_s3_uri\n              os.environ[\"OUTPUT_S3_URI\"] = output_s3_uri\n              os.environ[\"AWS_REGION\"] = aws_region\n              print(f\"Preprocessing from {input_s3_uri} → {output_s3_uri}\")\n              subprocess.run([\"python\", \"/app/preprocess/component.py\"], check=True)\n\n        image: 118730128420.dkr.ecr.us-east-1.amazonaws.com/yt-kfp-component:latest\n    exec-train:\n      container:\n        args:\n        - --executor_input\n        - \'{{$}}\'\n        - --function_to_execute\n        - train\n        command:\n        - sh\n        - -c\n        - |2\n\n          if ! [ -x \"$(command -v pip)\" ]; then\n              python3 -m ensurepip || python3 -m ensurepip --user || apt-get install python3-pip\n          fi\n\n          PIP_DISABLE_PIP_VERSION_CHECK=1 python3 -m pip install --quiet --no-warn-script-location \'kfp==2.14.6\' \'--no-deps\' \'typing-extensions>=3.7.4,<5; python_version<\"3.9\"\' && \"$0\" \"$@\"\n        - sh\n        - -ec\n        - |\n          program_path=$(mktemp -d)\n\n          printf \"%s\" \"$0\" > \"$program_path/ephemeral_component.py\"\n          _KFP_RUNTIME=true python3 -m kfp.dsl.executor_main                         --component_module_path                         \"$program_path/ephemeral_component.py\"                         \"$@\"\n        - |2+\n\n          import kfp\n          from kfp import dsl\n          from kfp.dsl import *\n          from typing import *\n\n          def train(mlflow_uri: str, s3_bucket: str, model_name: str, aws_region: str):\n              \"\"\"Train sentiment model and log results to MLflow.\"\"\"\n              import os, subprocess\n              os.environ[\"MLFLOW_URI\"] = mlflow_uri\n              os.environ[\"S3_BUCKET\"] = s3_bucket\n              os.environ[\"MODEL_NAME\"] = model_name\n              os.environ[\"AWS_REGION\"] = aws_region\n              print(f\"Training model {model_name}, logging to {mlflow_uri}\")\n              subprocess.run([\"python\", \"/app/train/component.py\"], check=True)\n\n        image: 118730128420.dkr.ecr.us-east-1.amazonaws.com/yt-kfp-component:latest\npipelineInfo:\n  description: YouTube Sentiment Analyzer pipeline using MLflow + S3 + EKS\n  name: yt-sentiment-pipeline-param\nroot:\n  dag:\n    tasks:\n      preprocess:\n        cachingOptions:\n          enableCache: true\n        componentRef:\n          name: comp-preprocess\n        inputs:\n          parameters:\n            aws_region:\n              componentInputParameter: AWS_REGION\n            input_s3_uri:\n              componentInputParameter: INPUT_S3_URI\n            output_s3_uri:\n              componentInputParameter: OUTPUT_S3_URI\n        taskInfo:\n          name: preprocess\n      train:\n        cachingOptions:\n          enableCache: true\n        componentRef:\n          name: comp-train\n        dependentTasks:\n        - preprocess\n        inputs:\n          parameters:\n            aws_region:\n              componentInputParameter: AWS_REGION\n            mlflow_uri:\n              componentInputParameter: MLFLOW_URI\n            model_name:\n              componentInputParameter: MODEL_NAME\n            s3_bucket:\n              componentInputParameter: S3_BUCKET\n        taskInfo:\n          name: train\n  inputDefinitions:\n    parameters:\n      AWS_REGION:\n        defaultValue: us-east-1\n        isOptional: true\n        parameterType: STRING\n      INPUT_S3_URI:\n        defaultValue: s3://mlops-yt-artifacts-nandak-1760367211/datasets/raw.csv\n        isOptional: true\n        parameterType: STRING\n      MLFLOW_URI:\n        defaultValue: http://mlflow-service.mlops.svc.cluster.local:5000\n        isOptional: true\n        parameterType: STRING\n      MODEL_NAME:\n        defaultValue: distilbert-base-uncased\n        isOptional: true\n        parameterType: STRING\n      OUTPUT_S3_URI:\n        defaultValue: s3://mlops-yt-artifacts-nandak-1760367211/datasets/cleaned.csv\n        isOptional: true\n        parameterType: STRING\n      S3_BUCKET:\n        defaultValue: mlops-yt-artifacts-nandak-1760367211\n        isOptional: true\n        parameterType: STRING\nschemaVersion: 2.1.0\nsdkVersion: kfp-2.14.6\n','','','','',1761135651,1761135651,0,'Pending','PENDING','[{\"UpdateTimeInSec\":1761135651,\"State\":\"PENDING\"}]','{\"metadata\":{\"name\":\"yt-sentiment-pipeline-param-pfw5n\",\"generateName\":\"yt-sentiment-pipeline-param-\",\"namespace\":\"kubeflow\",\"uid\":\"35137641-29e6-414d-bf07-f56363e5afbc\",\"resourceVersion\":\"2467302\",\"generation\":1,\"creationTimestamp\":\"2025-10-22T12:20:51Z\",\"labels\":{\"pipeline/runid\":\"30612806-8c6d-476b-91d3-78548981c023\"},\"annotations\":{\"pipelines.kubeflow.org/components-comp-preprocess\":\"{\\\"executorLabel\\\":\\\"exec-preprocess\\\",\\\"inputDefinitions\\\":{\\\"parameters\\\":{\\\"aws_region\\\":{\\\"parameterType\\\":\\\"STRING\\\"},\\\"input_s3_uri\\\":{\\\"parameterType\\\":\\\"STRING\\\"},\\\"output_s3_uri\\\":{\\\"parameterType\\\":\\\"STRING\\\"}}}}\",\"pipelines.kubeflow.org/components-comp-train\":\"{\\\"executorLabel\\\":\\\"exec-train\\\",\\\"inputDefinitions\\\":{\\\"parameters\\\":{\\\"aws_region\\\":{\\\"parameterType\\\":\\\"STRING\\\"},\\\"mlflow_uri\\\":{\\\"parameterType\\\":\\\"STRING\\\"},\\\"model_name\\\":{\\\"parameterType\\\":\\\"STRING\\\"},\\\"s3_bucket\\\":{\\\"parameterType\\\":\\\"STRING\\\"}}}}\",\"pipelines.kubeflow.org/components-root\":\"{\\\"dag\\\":{\\\"tasks\\\":{\\\"preprocess\\\":{\\\"cachingOptions\\\":{\\\"enableCache\\\":true},\\\"componentRef\\\":{\\\"name\\\":\\\"comp-preprocess\\\"},\\\"inputs\\\":{\\\"parameters\\\":{\\\"aws_region\\\":{\\\"componentInputParameter\\\":\\\"AWS_REGION\\\"},\\\"input_s3_uri\\\":{\\\"componentInputParameter\\\":\\\"INPUT_S3_URI\\\"},\\\"output_s3_uri\\\":{\\\"componentInputParameter\\\":\\\"OUTPUT_S3_URI\\\"}}},\\\"taskInfo\\\":{\\\"name\\\":\\\"preprocess\\\"}},\\\"train\\\":{\\\"cachingOptions\\\":{\\\"enableCache\\\":true},\\\"componentRef\\\":{\\\"name\\\":\\\"comp-train\\\"},\\\"dependentTasks\\\":[\\\"preprocess\\\"],\\\"inputs\\\":{\\\"parameters\\\":{\\\"aws_region\\\":{\\\"componentInputParameter\\\":\\\"AWS_REGION\\\"},\\\"mlflow_uri\\\":{\\\"componentInputParameter\\\":\\\"MLFLOW_URI\\\"},\\\"model_name\\\":{\\\"componentInputParameter\\\":\\\"MODEL_NAME\\\"},\\\"s3_bucket\\\":{\\\"componentInputParameter\\\":\\\"S3_BUCKET\\\"}}},\\\"taskInfo\\\":{\\\"name\\\":\\\"train\\\"}}}},\\\"inputDefinitions\\\":{\\\"parameters\\\":{\\\"AWS_REGION\\\":{\\\"defaultValue\\\":\\\"us-east-1\\\",\\\"isOptional\\\":true,\\\"parameterType\\\":\\\"STRING\\\"},\\\"INPUT_S3_URI\\\":{\\\"defaultValue\\\":\\\"s3://mlops-yt-artifacts-nandak-1760367211/datasets/raw.csv\\\",\\\"isOptional\\\":true,\\\"parameterType\\\":\\\"STRING\\\"},\\\"MLFLOW_URI\\\":{\\\"defaultValue\\\":\\\"http://mlflow-service.mlops.svc.cluster.local:5000\\\",\\\"isOptional\\\":true,\\\"parameterType\\\":\\\"STRING\\\"},\\\"MODEL_NAME\\\":{\\\"defaultValue\\\":\\\"distilbert-base-uncased\\\",\\\"isOptional\\\":true,\\\"parameterType\\\":\\\"STRING\\\"},\\\"OUTPUT_S3_URI\\\":{\\\"defaultValue\\\":\\\"s3://mlops-yt-artifacts-nandak-1760367211/datasets/cleaned.csv\\\",\\\"isOptional\\\":true,\\\"parameterType\\\":\\\"STRING\\\"},\\\"S3_BUCKET\\\":{\\\"defaultValue\\\":\\\"mlops-yt-artifacts-nandak-1760367211\\\",\\\"isOptional\\\":true,\\\"parameterType\\\":\\\"STRING\\\"}}}}\",\"pipelines.kubeflow.org/implementations-comp-preprocess\":\"{\\\"args\\\":[\\\"--executor_input\\\",\\\"{{$}}\\\",\\\"--function_to_execute\\\",\\\"preprocess\\\"],\\\"command\\\":[\\\"sh\\\",\\\"-c\\\",\\\"\\\\nif ! [ -x \\\\\\\"$(command -v pip)\\\\\\\" ]; then\\\\n    python3 -m ensurepip || python3 -m ensurepip --user || apt-get install python3-pip\\\\nfi\\\\n\\\\nPIP_DISABLE_PIP_VERSION_CHECK=1 python3 -m pip install --quiet --no-warn-script-location \'kfp==2.14.6\' \'--no-deps\' \'typing-extensions\\\\u003e=3.7.4,\\\\u003c5; python_version\\\\u003c\\\\\\\"3.9\\\\\\\"\' \\\\u0026\\\\u0026 \\\\\\\"$0\\\\\\\" \\\\\\\"$@\\\\\\\"\\\\n\\\",\\\"sh\\\",\\\"-ec\\\",\\\"program_path=$(mktemp -d)\\\\n\\\\nprintf \\\\\\\"%s\\\\\\\" \\\\\\\"$0\\\\\\\" \\\\u003e \\\\\\\"$program_path/ephemeral_component.py\\\\\\\"\\\\n_KFP_RUNTIME=true python3 -m kfp.dsl.executor_main                         --component_module_path                         \\\\\\\"$program_path/ephemeral_component.py\\\\\\\"                         \\\\\\\"$@\\\\\\\"\\\\n\\\",\\\"\\\\nimport kfp\\\\nfrom kfp import dsl\\\\nfrom kfp.dsl import *\\\\nfrom typing import *\\\\n\\\\ndef preprocess(input_s3_uri: str, output_s3_uri: str, aws_region: str):\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"Preprocess YouTube comments and upload cleaned data to S3.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    import os, subprocess\\\\n    os.environ[\\\\\\\"INPUT_S3_URI\\\\\\\"] = input_s3_uri\\\\n    os.environ[\\\\\\\"OUTPUT_S3_URI\\\\\\\"] = output_s3_uri\\\\n    os.environ[\\\\\\\"AWS_REGION\\\\\\\"] = aws_region\\\\n    print(f\\\\\\\"Preprocessing from {input_s3_uri} → {output_s3_uri}\\\\\\\")\\\\n    subprocess.run([\\\\\\\"python\\\\\\\", \\\\\\\"/app/preprocess/component.py\\\\\\\"], check=True)\\\\n\\\\n\\\"],\\\"image\\\":\\\"118730128420.dkr.ecr.us-east-1.amazonaws.com/yt-kfp-component:latest\\\"}\",\"pipelines.kubeflow.org/implementations-comp-train\":\"{\\\"args\\\":[\\\"--executor_input\\\",\\\"{{$}}\\\",\\\"--function_to_execute\\\",\\\"train\\\"],\\\"command\\\":[\\\"sh\\\",\\\"-c\\\",\\\"\\\\nif ! [ -x \\\\\\\"$(command -v pip)\\\\\\\" ]; then\\\\n    python3 -m ensurepip || python3 -m ensurepip --user || apt-get install python3-pip\\\\nfi\\\\n\\\\nPIP_DISABLE_PIP_VERSION_CHECK=1 python3 -m pip install --quiet --no-warn-script-location \'kfp==2.14.6\' \'--no-deps\' \'typing-extensions\\\\u003e=3.7.4,\\\\u003c5; python_version\\\\u003c\\\\\\\"3.9\\\\\\\"\' \\\\u0026\\\\u0026 \\\\\\\"$0\\\\\\\" \\\\\\\"$@\\\\\\\"\\\\n\\\",\\\"sh\\\",\\\"-ec\\\",\\\"program_path=$(mktemp -d)\\\\n\\\\nprintf \\\\\\\"%s\\\\\\\" \\\\\\\"$0\\\\\\\" \\\\u003e \\\\\\\"$program_path/ephemeral_component.py\\\\\\\"\\\\n_KFP_RUNTIME=true python3 -m kfp.dsl.executor_main                         --component_module_path                         \\\\\\\"$program_path/ephemeral_component.py\\\\\\\"                         \\\\\\\"$@\\\\\\\"\\\\n\\\",\\\"\\\\nimport kfp\\\\nfrom kfp import dsl\\\\nfrom kfp.dsl import *\\\\nfrom typing import *\\\\n\\\\ndef train(mlflow_uri: str, s3_bucket: str, model_name: str, aws_region: str):\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"Train sentiment model and log results to MLflow.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    import os, subprocess\\\\n    os.environ[\\\\\\\"MLFLOW_URI\\\\\\\"] = mlflow_uri\\\\n    os.environ[\\\\\\\"S3_BUCKET\\\\\\\"] = s3_bucket\\\\n    os.environ[\\\\\\\"MODEL_NAME\\\\\\\"] = model_name\\\\n    os.environ[\\\\\\\"AWS_REGION\\\\\\\"] = aws_region\\\\n    print(f\\\\\\\"Training model {model_name}, logging to {mlflow_uri}\\\\\\\")\\\\n    subprocess.run([\\\\\\\"python\\\\\\\", \\\\\\\"/app/train/component.py\\\\\\\"], check=True)\\\\n\\\\n\\\"],\\\"image\\\":\\\"118730128420.dkr.ecr.us-east-1.amazonaws.com/yt-kfp-component:latest\\\"}\",\"pipelines.kubeflow.org/run_name\":\"Run of youtube analyzer (98016)\"},\"managedFields\":[{\"manager\":\"apiserver\",\"operation\":\"Update\",\"apiVersion\":\"argoproj.io/v1alpha1\",\"time\":\"2025-10-22T12:20:51Z\",\"fieldsType\":\"FieldsV1\",\"fieldsV1\":{\"f:metadata\":{\"f:annotations\":{\".\":{},\"f:pipelines.kubeflow.org/components-comp-preprocess\":{},\"f:pipelines.kubeflow.org/components-comp-train\":{},\"f:pipelines.kubeflow.org/components-root\":{},\"f:pipelines.kubeflow.org/implementations-comp-preprocess\":{},\"f:pipelines.kubeflow.org/implementations-comp-train\":{},\"f:pipelines.kubeflow.org/run_name\":{}},\"f:generateName\":{},\"f:labels\":{\".\":{},\"f:pipeline/runid\":{}}},\"f:spec\":{},\"f:status\":{}}}]},\"spec\":{\"templates\":[{\"name\":\"system-container-driver\",\"inputs\":{\"parameters\":[{\"name\":\"component\"},{\"name\":\"task\"},{\"name\":\"container\"},{\"name\":\"parent-dag-id\"},{\"name\":\"iteration-index\",\"default\":\"-1\"},{\"name\":\"kubernetes-config\",\"default\":\"\"}]},\"outputs\":{\"parameters\":[{\"name\":\"pod-spec-patch\",\"valueFrom\":{\"path\":\"/tmp/outputs/pod-spec-patch\",\"default\":\"\"}},{\"name\":\"cached-decision\",\"default\":\"false\",\"valueFrom\":{\"path\":\"/tmp/outputs/cached-decision\",\"default\":\"false\"}},{\"name\":\"condition\",\"valueFrom\":{\"path\":\"/tmp/outputs/condition\",\"default\":\"true\"}}]},\"metadata\":{\"annotations\":{\"sidecar.istio.io/inject\":\"false\"}},\"container\":{\"name\":\"\",\"image\":\"gcr.io/ml-pipeline/kfp-driver@sha256:0ce9bf20ac9cbb21e84ff0762d5ae508d21e9c85fde2b14b51363bd1b8cd7528\",\"command\":[\"driver\"],\"args\":[\"--type\",\"CONTAINER\",\"--pipeline_name\",\"yt-sentiment-pipeline-param\",\"--run_id\",\"30612806-8c6d-476b-91d3-78548981c023\",\"--dag_execution_id\",\"{{inputs.parameters.parent-dag-id}}\",\"--component\",\"{{inputs.parameters.component}}\",\"--task\",\"{{inputs.parameters.task}}\",\"--container\",\"{{inputs.parameters.container}}\",\"--iteration_index\",\"{{inputs.parameters.iteration-index}}\",\"--cached_decision_path\",\"{{outputs.parameters.cached-decision.path}}\",\"--pod_spec_patch_path\",\"{{outputs.parameters.pod-spec-patch.path}}\",\"--condition_path\",\"{{outputs.parameters.condition.path}}\",\"--kubernetes_config\",\"{{inputs.parameters.kubernetes-config}}\"],\"resources\":{\"limits\":{\"cpu\":\"500m\",\"memory\":\"512Mi\"},\"requests\":{\"cpu\":\"100m\",\"memory\":\"64Mi\"}}}},{\"name\":\"system-container-executor\",\"inputs\":{\"parameters\":[{\"name\":\"pod-spec-patch\"},{\"name\":\"cached-decision\",\"default\":\"false\"}]},\"outputs\":{},\"metadata\":{\"annotations\":{\"sidecar.istio.io/inject\":\"false\"}},\"dag\":{\"tasks\":[{\"name\":\"executor\",\"template\":\"system-container-impl\",\"arguments\":{\"parameters\":[{\"name\":\"pod-spec-patch\",\"value\":\"{{inputs.parameters.pod-spec-patch}}\"}]},\"when\":\"{{inputs.parameters.cached-decision}} != true\"}]}},{\"name\":\"system-container-impl\",\"inputs\":{\"parameters\":[{\"name\":\"pod-spec-patch\"}]},\"outputs\":{},\"metadata\":{\"annotations\":{\"sidecar.istio.io/inject\":\"false\"}},\"container\":{\"name\":\"\",\"image\":\"gcr.io/ml-pipeline/should-be-overridden-during-runtime\",\"command\":[\"should-be-overridden-during-runtime\"],\"envFrom\":[{\"configMapRef\":{\"name\":\"metadata-grpc-configmap\",\"optional\":true}}],\"env\":[{\"name\":\"KFP_POD_NAME\",\"valueFrom\":{\"fieldRef\":{\"fieldPath\":\"metadata.name\"}}},{\"name\":\"KFP_POD_UID\",\"valueFrom\":{\"fieldRef\":{\"fieldPath\":\"metadata.uid\"}}}],\"resources\":{},\"volumeMounts\":[{\"name\":\"kfp-launcher\",\"mountPath\":\"/kfp-launcher\"}]},\"volumes\":[{\"name\":\"kfp-launcher\",\"emptyDir\":{}}],\"initContainers\":[{\"name\":\"kfp-launcher\",\"image\":\"gcr.io/ml-pipeline/kfp-launcher@sha256:80cf120abd125db84fa547640fd6386c4b2a26936e0c2b04a7d3634991a850a4\",\"command\":[\"launcher-v2\",\"--copy\",\"/kfp-launcher/launch\"],\"resources\":{\"limits\":{\"cpu\":\"500m\",\"memory\":\"128Mi\"},\"requests\":{\"cpu\":\"100m\"}},\"volumeMounts\":[{\"name\":\"kfp-launcher\",\"mountPath\":\"/kfp-launcher\"}]}],\"podSpecPatch\":\"{{inputs.parameters.pod-spec-patch}}\"},{\"name\":\"root\",\"inputs\":{\"parameters\":[{\"name\":\"parent-dag-id\"}]},\"outputs\":{},\"metadata\":{\"annotations\":{\"sidecar.istio.io/inject\":\"false\"}},\"dag\":{\"tasks\":[{\"name\":\"preprocess-driver\",\"template\":\"system-container-driver\",\"arguments\":{\"parameters\":[{\"name\":\"component\",\"value\":\"{{workflow.annotations.pipelines.kubeflow.org/components-comp-preprocess}}\"},{\"name\":\"task\",\"value\":\"{\\\"cachingOptions\\\":{\\\"enableCache\\\":true},\\\"componentRef\\\":{\\\"name\\\":\\\"comp-preprocess\\\"},\\\"inputs\\\":{\\\"parameters\\\":{\\\"aws_region\\\":{\\\"componentInputParameter\\\":\\\"AWS_REGION\\\"},\\\"input_s3_uri\\\":{\\\"componentInputParameter\\\":\\\"INPUT_S3_URI\\\"},\\\"output_s3_uri\\\":{\\\"componentInputParameter\\\":\\\"OUTPUT_S3_URI\\\"}}},\\\"taskInfo\\\":{\\\"name\\\":\\\"preprocess\\\"}}\"},{\"name\":\"container\",\"value\":\"{{workflow.annotations.pipelines.kubeflow.org/implementations-comp-preprocess}}\"},{\"name\":\"parent-dag-id\",\"value\":\"{{inputs.parameters.parent-dag-id}}\"}]}},{\"name\":\"preprocess\",\"template\":\"system-container-executor\",\"arguments\":{\"parameters\":[{\"name\":\"pod-spec-patch\",\"value\":\"{{tasks.preprocess-driver.outputs.parameters.pod-spec-patch}}\"},{\"name\":\"cached-decision\",\"default\":\"false\",\"value\":\"{{tasks.preprocess-driver.outputs.parameters.cached-decision}}\"}]},\"depends\":\"preprocess-driver.Succeeded\"},{\"name\":\"train-driver\",\"template\":\"system-container-driver\",\"arguments\":{\"parameters\":[{\"name\":\"component\",\"value\":\"{{workflow.annotations.pipelines.kubeflow.org/components-comp-train}}\"},{\"name\":\"task\",\"value\":\"{\\\"cachingOptions\\\":{\\\"enableCache\\\":true},\\\"componentRef\\\":{\\\"name\\\":\\\"comp-train\\\"},\\\"dependentTasks\\\":[\\\"preprocess\\\"],\\\"inputs\\\":{\\\"parameters\\\":{\\\"aws_region\\\":{\\\"componentInputParameter\\\":\\\"AWS_REGION\\\"},\\\"mlflow_uri\\\":{\\\"componentInputParameter\\\":\\\"MLFLOW_URI\\\"},\\\"model_name\\\":{\\\"componentInputParameter\\\":\\\"MODEL_NAME\\\"},\\\"s3_bucket\\\":{\\\"componentInputParameter\\\":\\\"S3_BUCKET\\\"}}},\\\"taskInfo\\\":{\\\"name\\\":\\\"train\\\"}}\"},{\"name\":\"container\",\"value\":\"{{workflow.annotations.pipelines.kubeflow.org/implementations-comp-train}}\"},{\"name\":\"parent-dag-id\",\"value\":\"{{inputs.parameters.parent-dag-id}}\"}]},\"depends\":\"preprocess.Succeeded\"},{\"name\":\"train\",\"template\":\"system-container-executor\",\"arguments\":{\"parameters\":[{\"name\":\"pod-spec-patch\",\"value\":\"{{tasks.train-driver.outputs.parameters.pod-spec-patch}}\"},{\"name\":\"cached-decision\",\"default\":\"false\",\"value\":\"{{tasks.train-driver.outputs.parameters.cached-decision}}\"}]},\"depends\":\"train-driver.Succeeded\"}]}},{\"name\":\"system-dag-driver\",\"inputs\":{\"parameters\":[{\"name\":\"component\"},{\"name\":\"runtime-config\",\"default\":\"\"},{\"name\":\"task\",\"default\":\"\"},{\"name\":\"parent-dag-id\",\"default\":\"0\"},{\"name\":\"iteration-index\",\"default\":\"-1\"},{\"name\":\"driver-type\",\"default\":\"DAG\"}]},\"outputs\":{\"parameters\":[{\"name\":\"execution-id\",\"valueFrom\":{\"path\":\"/tmp/outputs/execution-id\"}},{\"name\":\"iteration-count\",\"valueFrom\":{\"path\":\"/tmp/outputs/iteration-count\",\"default\":\"0\"}},{\"name\":\"condition\",\"valueFrom\":{\"path\":\"/tmp/outputs/condition\",\"default\":\"true\"}}]},\"metadata\":{\"annotations\":{\"sidecar.istio.io/inject\":\"false\"}},\"container\":{\"name\":\"\",\"image\":\"gcr.io/ml-pipeline/kfp-driver@sha256:0ce9bf20ac9cbb21e84ff0762d5ae508d21e9c85fde2b14b51363bd1b8cd7528\",\"command\":[\"driver\"],\"args\":[\"--type\",\"{{inputs.parameters.driver-type}}\",\"--pipeline_name\",\"yt-sentiment-pipeline-param\",\"--run_id\",\"30612806-8c6d-476b-91d3-78548981c023\",\"--dag_execution_id\",\"{{inputs.parameters.parent-dag-id}}\",\"--component\",\"{{inputs.parameters.component}}\",\"--task\",\"{{inputs.parameters.task}}\",\"--runtime_config\",\"{{inputs.parameters.runtime-config}}\",\"--iteration_index\",\"{{inputs.parameters.iteration-index}}\",\"--execution_id_path\",\"{{outputs.parameters.execution-id.path}}\",\"--iteration_count_path\",\"{{outputs.parameters.iteration-count.path}}\",\"--condition_path\",\"{{outputs.parameters.condition.path}}\"],\"resources\":{\"limits\":{\"cpu\":\"500m\",\"memory\":\"512Mi\"},\"requests\":{\"cpu\":\"100m\",\"memory\":\"64Mi\"}}}},{\"name\":\"entrypoint\",\"inputs\":{},\"outputs\":{},\"metadata\":{\"annotations\":{\"sidecar.istio.io/inject\":\"false\"}},\"dag\":{\"tasks\":[{\"name\":\"root-driver\",\"template\":\"system-dag-driver\",\"arguments\":{\"parameters\":[{\"name\":\"component\",\"value\":\"{{workflow.annotations.pipelines.kubeflow.org/components-root}}\"},{\"name\":\"runtime-config\",\"value\":\"{\\\"parameterValues\\\":{\\\"AWS_REGION\\\":\\\"us-east-1\\\",\\\"INPUT_S3_URI\\\":\\\"s3://mlops-yt-artifacts-nandak-1760367211/datasets/raw.csv\\\",\\\"MLFLOW_URI\\\":\\\"http://mlflow-service.mlops.svc.cluster.local:5000\\\",\\\"MODEL_NAME\\\":\\\"distilbert-base-uncased\\\",\\\"OUTPUT_S3_URI\\\":\\\"s3://mlops-yt-artifacts-nandak-1760367211/datasets/cleaned.csv\\\",\\\"S3_BUCKET\\\":\\\"mlops-yt-artifacts-nandak-1760367211\\\"}}\"},{\"name\":\"driver-type\",\"value\":\"ROOT_DAG\"}]}},{\"name\":\"root\",\"template\":\"root\",\"arguments\":{\"parameters\":[{\"name\":\"parent-dag-id\",\"value\":\"{{tasks.root-driver.outputs.parameters.execution-id}}\"},{\"name\":\"condition\",\"value\":\"\"}]},\"depends\":\"root-driver.Succeeded\"}]}}],\"entrypoint\":\"entrypoint\",\"arguments\":{},\"serviceAccountName\":\"pipeline-runner\",\"podMetadata\":{\"annotations\":{\"pipelines.kubeflow.org/v2_component\":\"true\"},\"labels\":{\"pipeline/runid\":\"30612806-8c6d-476b-91d3-78548981c023\",\"pipelines.kubeflow.org/v2_component\":\"true\"}}},\"status\":{\"startedAt\":null,\"finishedAt\":null}}','',0,0),('313620c4-976e-404a-9207-d4941cfdb60d','Run of youtube analyzer (9c7fa)','yt-sentiment-pipeline-param-sg7nj','','','73a102cf-474a-4691-a9be-b60ade3d5345','','AVAILABLE','pipeline-runner','fa9ea7ea-6814-4997-8ca3-854aa94cd3f6','db03cb2d-de9e-49c7-a41b-bb6ce4340f95','youtube analyzer','components:\n  comp-preprocess:\n    executorLabel: exec-preprocess\n    inputDefinitions:\n      parameters:\n        aws_region:\n          parameterType: STRING\n        input_s3_uri:\n          parameterType: STRING\n        output_s3_uri:\n          parameterType: STRING\n  comp-train:\n    executorLabel: exec-train\n    inputDefinitions:\n      parameters:\n        aws_region:\n          parameterType: STRING\n        mlflow_uri:\n          parameterType: STRING\n        model_name:\n          parameterType: STRING\n        s3_bucket:\n          parameterType: STRING\ndeploymentSpec:\n  executors:\n    exec-preprocess:\n      container:\n        args:\n        - --executor_input\n        - \'{{$}}\'\n        - --function_to_execute\n        - preprocess\n        command:\n        - sh\n        - -c\n        - |2\n\n          if ! [ -x \"$(command -v pip)\" ]; then\n              python3 -m ensurepip || python3 -m ensurepip --user || apt-get install python3-pip\n          fi\n\n          PIP_DISABLE_PIP_VERSION_CHECK=1 python3 -m pip install --quiet --no-warn-script-location \'kfp==2.14.6\' \'--no-deps\' \'typing-extensions>=3.7.4,<5; python_version<\"3.9\"\' && \"$0\" \"$@\"\n        - sh\n        - -ec\n        - |\n          program_path=$(mktemp -d)\n\n          printf \"%s\" \"$0\" > \"$program_path/ephemeral_component.py\"\n          _KFP_RUNTIME=true python3 -m kfp.dsl.executor_main                         --component_module_path                         \"$program_path/ephemeral_component.py\"                         \"$@\"\n        - |2+\n\n          import kfp\n          from kfp import dsl\n          from kfp.dsl import *\n          from typing import *\n\n          def preprocess(input_s3_uri: str, output_s3_uri: str, aws_region: str):\n              \"\"\"Preprocess YouTube comments and upload cleaned data to S3.\"\"\"\n              import os, subprocess\n              os.environ[\"INPUT_S3_URI\"] = input_s3_uri\n              os.environ[\"OUTPUT_S3_URI\"] = output_s3_uri\n              os.environ[\"AWS_REGION\"] = aws_region\n              print(f\"Preprocessing from {input_s3_uri} → {output_s3_uri}\")\n              subprocess.run([\"python\", \"/app/preprocess/component.py\"], check=True)\n\n        image: 118730128420.dkr.ecr.us-east-1.amazonaws.com/yt-kfp-component:latest\n    exec-train:\n      container:\n        args:\n        - --executor_input\n        - \'{{$}}\'\n        - --function_to_execute\n        - train\n        command:\n        - sh\n        - -c\n        - |2\n\n          if ! [ -x \"$(command -v pip)\" ]; then\n              python3 -m ensurepip || python3 -m ensurepip --user || apt-get install python3-pip\n          fi\n\n          PIP_DISABLE_PIP_VERSION_CHECK=1 python3 -m pip install --quiet --no-warn-script-location \'kfp==2.14.6\' \'--no-deps\' \'typing-extensions>=3.7.4,<5; python_version<\"3.9\"\' && \"$0\" \"$@\"\n        - sh\n        - -ec\n        - |\n          program_path=$(mktemp -d)\n\n          printf \"%s\" \"$0\" > \"$program_path/ephemeral_component.py\"\n          _KFP_RUNTIME=true python3 -m kfp.dsl.executor_main                         --component_module_path                         \"$program_path/ephemeral_component.py\"                         \"$@\"\n        - |2+\n\n          import kfp\n          from kfp import dsl\n          from kfp.dsl import *\n          from typing import *\n\n          def train(mlflow_uri: str, s3_bucket: str, model_name: str, aws_region: str):\n              \"\"\"Train sentiment model and log results to MLflow.\"\"\"\n              import os, subprocess\n              os.environ[\"MLFLOW_URI\"] = mlflow_uri\n              os.environ[\"S3_BUCKET\"] = s3_bucket\n              os.environ[\"MODEL_NAME\"] = model_name\n              os.environ[\"AWS_REGION\"] = aws_region\n              print(f\"Training model {model_name}, logging to {mlflow_uri}\")\n              subprocess.run([\"python\", \"/app/train/component.py\"], check=True)\n\n        image: 118730128420.dkr.ecr.us-east-1.amazonaws.com/yt-kfp-component:latest\npipelineInfo:\n  description: YouTube Sentiment Analyzer pipeline using MLflow + S3 + EKS\n  name: yt-sentiment-pipeline-param\nroot:\n  dag:\n    tasks:\n      preprocess:\n        cachingOptions:\n          enableCache: true\n        componentRef:\n          name: comp-preprocess\n        inputs:\n          parameters:\n            aws_region:\n              componentInputParameter: AWS_REGION\n            input_s3_uri:\n              componentInputParameter: INPUT_S3_URI\n            output_s3_uri:\n              componentInputParameter: OUTPUT_S3_URI\n        taskInfo:\n          name: preprocess\n      train:\n        cachingOptions:\n          enableCache: true\n        componentRef:\n          name: comp-train\n        dependentTasks:\n        - preprocess\n        inputs:\n          parameters:\n            aws_region:\n              componentInputParameter: AWS_REGION\n            mlflow_uri:\n              componentInputParameter: MLFLOW_URI\n            model_name:\n              componentInputParameter: MODEL_NAME\n            s3_bucket:\n              componentInputParameter: S3_BUCKET\n        taskInfo:\n          name: train\n  inputDefinitions:\n    parameters:\n      AWS_REGION:\n        defaultValue: us-east-1\n        isOptional: true\n        parameterType: STRING\n      INPUT_S3_URI:\n        defaultValue: s3://mlops-yt-artifacts-nandak-1760367211/datasets/raw.csv\n        isOptional: true\n        parameterType: STRING\n      MLFLOW_URI:\n        defaultValue: http://mlflow-service.mlops.svc.cluster.local:5000\n        isOptional: true\n        parameterType: STRING\n      MODEL_NAME:\n        defaultValue: distilbert-base-uncased\n        isOptional: true\n        parameterType: STRING\n      OUTPUT_S3_URI:\n        defaultValue: s3://mlops-yt-artifacts-nandak-1760367211/datasets/cleaned.csv\n        isOptional: true\n        parameterType: STRING\n      S3_BUCKET:\n        defaultValue: mlops-yt-artifacts-nandak-1760367211\n        isOptional: true\n        parameterType: STRING\nschemaVersion: 2.1.0\nsdkVersion: kfp-2.14.6\n','','','','',1761138518,1761138518,0,'Pending','PENDING','[{\"UpdateTimeInSec\":1761138518,\"State\":\"PENDING\"}]','{\"metadata\":{\"name\":\"yt-sentiment-pipeline-param-sg7nj\",\"generateName\":\"yt-sentiment-pipeline-param-\",\"namespace\":\"kubeflow\",\"uid\":\"a2ea8d42-49d3-41b6-b6ac-9de15896c6f3\",\"resourceVersion\":\"2476965\",\"generation\":1,\"creationTimestamp\":\"2025-10-22T13:08:38Z\",\"labels\":{\"pipeline/runid\":\"313620c4-976e-404a-9207-d4941cfdb60d\"},\"annotations\":{\"pipelines.kubeflow.org/components-comp-preprocess\":\"{\\\"executorLabel\\\":\\\"exec-preprocess\\\",\\\"inputDefinitions\\\":{\\\"parameters\\\":{\\\"aws_region\\\":{\\\"parameterType\\\":\\\"STRING\\\"},\\\"input_s3_uri\\\":{\\\"parameterType\\\":\\\"STRING\\\"},\\\"output_s3_uri\\\":{\\\"parameterType\\\":\\\"STRING\\\"}}}}\",\"pipelines.kubeflow.org/components-comp-train\":\"{\\\"executorLabel\\\":\\\"exec-train\\\",\\\"inputDefinitions\\\":{\\\"parameters\\\":{\\\"aws_region\\\":{\\\"parameterType\\\":\\\"STRING\\\"},\\\"mlflow_uri\\\":{\\\"parameterType\\\":\\\"STRING\\\"},\\\"model_name\\\":{\\\"parameterType\\\":\\\"STRING\\\"},\\\"s3_bucket\\\":{\\\"parameterType\\\":\\\"STRING\\\"}}}}\",\"pipelines.kubeflow.org/components-root\":\"{\\\"dag\\\":{\\\"tasks\\\":{\\\"preprocess\\\":{\\\"cachingOptions\\\":{\\\"enableCache\\\":true},\\\"componentRef\\\":{\\\"name\\\":\\\"comp-preprocess\\\"},\\\"inputs\\\":{\\\"parameters\\\":{\\\"aws_region\\\":{\\\"componentInputParameter\\\":\\\"AWS_REGION\\\"},\\\"input_s3_uri\\\":{\\\"componentInputParameter\\\":\\\"INPUT_S3_URI\\\"},\\\"output_s3_uri\\\":{\\\"componentInputParameter\\\":\\\"OUTPUT_S3_URI\\\"}}},\\\"taskInfo\\\":{\\\"name\\\":\\\"preprocess\\\"}},\\\"train\\\":{\\\"cachingOptions\\\":{\\\"enableCache\\\":true},\\\"componentRef\\\":{\\\"name\\\":\\\"comp-train\\\"},\\\"dependentTasks\\\":[\\\"preprocess\\\"],\\\"inputs\\\":{\\\"parameters\\\":{\\\"aws_region\\\":{\\\"componentInputParameter\\\":\\\"AWS_REGION\\\"},\\\"mlflow_uri\\\":{\\\"componentInputParameter\\\":\\\"MLFLOW_URI\\\"},\\\"model_name\\\":{\\\"componentInputParameter\\\":\\\"MODEL_NAME\\\"},\\\"s3_bucket\\\":{\\\"componentInputParameter\\\":\\\"S3_BUCKET\\\"}}},\\\"taskInfo\\\":{\\\"name\\\":\\\"train\\\"}}}},\\\"inputDefinitions\\\":{\\\"parameters\\\":{\\\"AWS_REGION\\\":{\\\"defaultValue\\\":\\\"us-east-1\\\",\\\"isOptional\\\":true,\\\"parameterType\\\":\\\"STRING\\\"},\\\"INPUT_S3_URI\\\":{\\\"defaultValue\\\":\\\"s3://mlops-yt-artifacts-nandak-1760367211/datasets/raw.csv\\\",\\\"isOptional\\\":true,\\\"parameterType\\\":\\\"STRING\\\"},\\\"MLFLOW_URI\\\":{\\\"defaultValue\\\":\\\"http://mlflow-service.mlops.svc.cluster.local:5000\\\",\\\"isOptional\\\":true,\\\"parameterType\\\":\\\"STRING\\\"},\\\"MODEL_NAME\\\":{\\\"defaultValue\\\":\\\"distilbert-base-uncased\\\",\\\"isOptional\\\":true,\\\"parameterType\\\":\\\"STRING\\\"},\\\"OUTPUT_S3_URI\\\":{\\\"defaultValue\\\":\\\"s3://mlops-yt-artifacts-nandak-1760367211/datasets/cleaned.csv\\\",\\\"isOptional\\\":true,\\\"parameterType\\\":\\\"STRING\\\"},\\\"S3_BUCKET\\\":{\\\"defaultValue\\\":\\\"mlops-yt-artifacts-nandak-1760367211\\\",\\\"isOptional\\\":true,\\\"parameterType\\\":\\\"STRING\\\"}}}}\",\"pipelines.kubeflow.org/implementations-comp-preprocess\":\"{\\\"args\\\":[\\\"--executor_input\\\",\\\"{{$}}\\\",\\\"--function_to_execute\\\",\\\"preprocess\\\"],\\\"command\\\":[\\\"sh\\\",\\\"-c\\\",\\\"\\\\nif ! [ -x \\\\\\\"$(command -v pip)\\\\\\\" ]; then\\\\n    python3 -m ensurepip || python3 -m ensurepip --user || apt-get install python3-pip\\\\nfi\\\\n\\\\nPIP_DISABLE_PIP_VERSION_CHECK=1 python3 -m pip install --quiet --no-warn-script-location \'kfp==2.14.6\' \'--no-deps\' \'typing-extensions\\\\u003e=3.7.4,\\\\u003c5; python_version\\\\u003c\\\\\\\"3.9\\\\\\\"\' \\\\u0026\\\\u0026 \\\\\\\"$0\\\\\\\" \\\\\\\"$@\\\\\\\"\\\\n\\\",\\\"sh\\\",\\\"-ec\\\",\\\"program_path=$(mktemp -d)\\\\n\\\\nprintf \\\\\\\"%s\\\\\\\" \\\\\\\"$0\\\\\\\" \\\\u003e \\\\\\\"$program_path/ephemeral_component.py\\\\\\\"\\\\n_KFP_RUNTIME=true python3 -m kfp.dsl.executor_main                         --component_module_path                         \\\\\\\"$program_path/ephemeral_component.py\\\\\\\"                         \\\\\\\"$@\\\\\\\"\\\\n\\\",\\\"\\\\nimport kfp\\\\nfrom kfp import dsl\\\\nfrom kfp.dsl import *\\\\nfrom typing import *\\\\n\\\\ndef preprocess(input_s3_uri: str, output_s3_uri: str, aws_region: str):\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"Preprocess YouTube comments and upload cleaned data to S3.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    import os, subprocess\\\\n    os.environ[\\\\\\\"INPUT_S3_URI\\\\\\\"] = input_s3_uri\\\\n    os.environ[\\\\\\\"OUTPUT_S3_URI\\\\\\\"] = output_s3_uri\\\\n    os.environ[\\\\\\\"AWS_REGION\\\\\\\"] = aws_region\\\\n    print(f\\\\\\\"Preprocessing from {input_s3_uri} → {output_s3_uri}\\\\\\\")\\\\n    subprocess.run([\\\\\\\"python\\\\\\\", \\\\\\\"/app/preprocess/component.py\\\\\\\"], check=True)\\\\n\\\\n\\\"],\\\"image\\\":\\\"118730128420.dkr.ecr.us-east-1.amazonaws.com/yt-kfp-component:latest\\\"}\",\"pipelines.kubeflow.org/implementations-comp-train\":\"{\\\"args\\\":[\\\"--executor_input\\\",\\\"{{$}}\\\",\\\"--function_to_execute\\\",\\\"train\\\"],\\\"command\\\":[\\\"sh\\\",\\\"-c\\\",\\\"\\\\nif ! [ -x \\\\\\\"$(command -v pip)\\\\\\\" ]; then\\\\n    python3 -m ensurepip || python3 -m ensurepip --user || apt-get install python3-pip\\\\nfi\\\\n\\\\nPIP_DISABLE_PIP_VERSION_CHECK=1 python3 -m pip install --quiet --no-warn-script-location \'kfp==2.14.6\' \'--no-deps\' \'typing-extensions\\\\u003e=3.7.4,\\\\u003c5; python_version\\\\u003c\\\\\\\"3.9\\\\\\\"\' \\\\u0026\\\\u0026 \\\\\\\"$0\\\\\\\" \\\\\\\"$@\\\\\\\"\\\\n\\\",\\\"sh\\\",\\\"-ec\\\",\\\"program_path=$(mktemp -d)\\\\n\\\\nprintf \\\\\\\"%s\\\\\\\" \\\\\\\"$0\\\\\\\" \\\\u003e \\\\\\\"$program_path/ephemeral_component.py\\\\\\\"\\\\n_KFP_RUNTIME=true python3 -m kfp.dsl.executor_main                         --component_module_path                         \\\\\\\"$program_path/ephemeral_component.py\\\\\\\"                         \\\\\\\"$@\\\\\\\"\\\\n\\\",\\\"\\\\nimport kfp\\\\nfrom kfp import dsl\\\\nfrom kfp.dsl import *\\\\nfrom typing import *\\\\n\\\\ndef train(mlflow_uri: str, s3_bucket: str, model_name: str, aws_region: str):\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"Train sentiment model and log results to MLflow.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    import os, subprocess\\\\n    os.environ[\\\\\\\"MLFLOW_URI\\\\\\\"] = mlflow_uri\\\\n    os.environ[\\\\\\\"S3_BUCKET\\\\\\\"] = s3_bucket\\\\n    os.environ[\\\\\\\"MODEL_NAME\\\\\\\"] = model_name\\\\n    os.environ[\\\\\\\"AWS_REGION\\\\\\\"] = aws_region\\\\n    print(f\\\\\\\"Training model {model_name}, logging to {mlflow_uri}\\\\\\\")\\\\n    subprocess.run([\\\\\\\"python\\\\\\\", \\\\\\\"/app/train/component.py\\\\\\\"], check=True)\\\\n\\\\n\\\"],\\\"image\\\":\\\"118730128420.dkr.ecr.us-east-1.amazonaws.com/yt-kfp-component:latest\\\"}\",\"pipelines.kubeflow.org/run_name\":\"Run of youtube analyzer (9c7fa)\"},\"managedFields\":[{\"manager\":\"apiserver\",\"operation\":\"Update\",\"apiVersion\":\"argoproj.io/v1alpha1\",\"time\":\"2025-10-22T13:08:38Z\",\"fieldsType\":\"FieldsV1\",\"fieldsV1\":{\"f:metadata\":{\"f:annotations\":{\".\":{},\"f:pipelines.kubeflow.org/components-comp-preprocess\":{},\"f:pipelines.kubeflow.org/components-comp-train\":{},\"f:pipelines.kubeflow.org/components-root\":{},\"f:pipelines.kubeflow.org/implementations-comp-preprocess\":{},\"f:pipelines.kubeflow.org/implementations-comp-train\":{},\"f:pipelines.kubeflow.org/run_name\":{}},\"f:generateName\":{},\"f:labels\":{\".\":{},\"f:pipeline/runid\":{}}},\"f:spec\":{},\"f:status\":{}}}]},\"spec\":{\"templates\":[{\"name\":\"system-container-driver\",\"inputs\":{\"parameters\":[{\"name\":\"component\"},{\"name\":\"task\"},{\"name\":\"container\"},{\"name\":\"parent-dag-id\"},{\"name\":\"iteration-index\",\"default\":\"-1\"},{\"name\":\"kubernetes-config\",\"default\":\"\"}]},\"outputs\":{\"parameters\":[{\"name\":\"pod-spec-patch\",\"valueFrom\":{\"path\":\"/tmp/outputs/pod-spec-patch\",\"default\":\"\"}},{\"name\":\"cached-decision\",\"default\":\"false\",\"valueFrom\":{\"path\":\"/tmp/outputs/cached-decision\",\"default\":\"false\"}},{\"name\":\"condition\",\"valueFrom\":{\"path\":\"/tmp/outputs/condition\",\"default\":\"true\"}}]},\"metadata\":{\"annotations\":{\"sidecar.istio.io/inject\":\"false\"}},\"container\":{\"name\":\"\",\"image\":\"gcr.io/ml-pipeline/kfp-driver@sha256:0ce9bf20ac9cbb21e84ff0762d5ae508d21e9c85fde2b14b51363bd1b8cd7528\",\"command\":[\"driver\"],\"args\":[\"--type\",\"CONTAINER\",\"--pipeline_name\",\"yt-sentiment-pipeline-param\",\"--run_id\",\"313620c4-976e-404a-9207-d4941cfdb60d\",\"--dag_execution_id\",\"{{inputs.parameters.parent-dag-id}}\",\"--component\",\"{{inputs.parameters.component}}\",\"--task\",\"{{inputs.parameters.task}}\",\"--container\",\"{{inputs.parameters.container}}\",\"--iteration_index\",\"{{inputs.parameters.iteration-index}}\",\"--cached_decision_path\",\"{{outputs.parameters.cached-decision.path}}\",\"--pod_spec_patch_path\",\"{{outputs.parameters.pod-spec-patch.path}}\",\"--condition_path\",\"{{outputs.parameters.condition.path}}\",\"--kubernetes_config\",\"{{inputs.parameters.kubernetes-config}}\"],\"resources\":{\"limits\":{\"cpu\":\"500m\",\"memory\":\"512Mi\"},\"requests\":{\"cpu\":\"100m\",\"memory\":\"64Mi\"}}}},{\"name\":\"system-container-executor\",\"inputs\":{\"parameters\":[{\"name\":\"pod-spec-patch\"},{\"name\":\"cached-decision\",\"default\":\"false\"}]},\"outputs\":{},\"metadata\":{\"annotations\":{\"sidecar.istio.io/inject\":\"false\"}},\"dag\":{\"tasks\":[{\"name\":\"executor\",\"template\":\"system-container-impl\",\"arguments\":{\"parameters\":[{\"name\":\"pod-spec-patch\",\"value\":\"{{inputs.parameters.pod-spec-patch}}\"}]},\"when\":\"{{inputs.parameters.cached-decision}} != true\"}]}},{\"name\":\"system-container-impl\",\"inputs\":{\"parameters\":[{\"name\":\"pod-spec-patch\"}]},\"outputs\":{},\"metadata\":{\"annotations\":{\"sidecar.istio.io/inject\":\"false\"}},\"container\":{\"name\":\"\",\"image\":\"gcr.io/ml-pipeline/should-be-overridden-during-runtime\",\"command\":[\"should-be-overridden-during-runtime\"],\"envFrom\":[{\"configMapRef\":{\"name\":\"metadata-grpc-configmap\",\"optional\":true}}],\"env\":[{\"name\":\"KFP_POD_NAME\",\"valueFrom\":{\"fieldRef\":{\"fieldPath\":\"metadata.name\"}}},{\"name\":\"KFP_POD_UID\",\"valueFrom\":{\"fieldRef\":{\"fieldPath\":\"metadata.uid\"}}}],\"resources\":{},\"volumeMounts\":[{\"name\":\"kfp-launcher\",\"mountPath\":\"/kfp-launcher\"}]},\"volumes\":[{\"name\":\"kfp-launcher\",\"emptyDir\":{}}],\"initContainers\":[{\"name\":\"kfp-launcher\",\"image\":\"gcr.io/ml-pipeline/kfp-launcher@sha256:80cf120abd125db84fa547640fd6386c4b2a26936e0c2b04a7d3634991a850a4\",\"command\":[\"launcher-v2\",\"--copy\",\"/kfp-launcher/launch\"],\"resources\":{\"limits\":{\"cpu\":\"500m\",\"memory\":\"128Mi\"},\"requests\":{\"cpu\":\"100m\"}},\"volumeMounts\":[{\"name\":\"kfp-launcher\",\"mountPath\":\"/kfp-launcher\"}]}],\"podSpecPatch\":\"{{inputs.parameters.pod-spec-patch}}\"},{\"name\":\"root\",\"inputs\":{\"parameters\":[{\"name\":\"parent-dag-id\"}]},\"outputs\":{},\"metadata\":{\"annotations\":{\"sidecar.istio.io/inject\":\"false\"}},\"dag\":{\"tasks\":[{\"name\":\"preprocess-driver\",\"template\":\"system-container-driver\",\"arguments\":{\"parameters\":[{\"name\":\"component\",\"value\":\"{{workflow.annotations.pipelines.kubeflow.org/components-comp-preprocess}}\"},{\"name\":\"task\",\"value\":\"{\\\"cachingOptions\\\":{\\\"enableCache\\\":true},\\\"componentRef\\\":{\\\"name\\\":\\\"comp-preprocess\\\"},\\\"inputs\\\":{\\\"parameters\\\":{\\\"aws_region\\\":{\\\"componentInputParameter\\\":\\\"AWS_REGION\\\"},\\\"input_s3_uri\\\":{\\\"componentInputParameter\\\":\\\"INPUT_S3_URI\\\"},\\\"output_s3_uri\\\":{\\\"componentInputParameter\\\":\\\"OUTPUT_S3_URI\\\"}}},\\\"taskInfo\\\":{\\\"name\\\":\\\"preprocess\\\"}}\"},{\"name\":\"container\",\"value\":\"{{workflow.annotations.pipelines.kubeflow.org/implementations-comp-preprocess}}\"},{\"name\":\"parent-dag-id\",\"value\":\"{{inputs.parameters.parent-dag-id}}\"}]}},{\"name\":\"preprocess\",\"template\":\"system-container-executor\",\"arguments\":{\"parameters\":[{\"name\":\"pod-spec-patch\",\"value\":\"{{tasks.preprocess-driver.outputs.parameters.pod-spec-patch}}\"},{\"name\":\"cached-decision\",\"default\":\"false\",\"value\":\"{{tasks.preprocess-driver.outputs.parameters.cached-decision}}\"}]},\"depends\":\"preprocess-driver.Succeeded\"},{\"name\":\"train-driver\",\"template\":\"system-container-driver\",\"arguments\":{\"parameters\":[{\"name\":\"component\",\"value\":\"{{workflow.annotations.pipelines.kubeflow.org/components-comp-train}}\"},{\"name\":\"task\",\"value\":\"{\\\"cachingOptions\\\":{\\\"enableCache\\\":true},\\\"componentRef\\\":{\\\"name\\\":\\\"comp-train\\\"},\\\"dependentTasks\\\":[\\\"preprocess\\\"],\\\"inputs\\\":{\\\"parameters\\\":{\\\"aws_region\\\":{\\\"componentInputParameter\\\":\\\"AWS_REGION\\\"},\\\"mlflow_uri\\\":{\\\"componentInputParameter\\\":\\\"MLFLOW_URI\\\"},\\\"model_name\\\":{\\\"componentInputParameter\\\":\\\"MODEL_NAME\\\"},\\\"s3_bucket\\\":{\\\"componentInputParameter\\\":\\\"S3_BUCKET\\\"}}},\\\"taskInfo\\\":{\\\"name\\\":\\\"train\\\"}}\"},{\"name\":\"container\",\"value\":\"{{workflow.annotations.pipelines.kubeflow.org/implementations-comp-train}}\"},{\"name\":\"parent-dag-id\",\"value\":\"{{inputs.parameters.parent-dag-id}}\"}]},\"depends\":\"preprocess.Succeeded\"},{\"name\":\"train\",\"template\":\"system-container-executor\",\"arguments\":{\"parameters\":[{\"name\":\"pod-spec-patch\",\"value\":\"{{tasks.train-driver.outputs.parameters.pod-spec-patch}}\"},{\"name\":\"cached-decision\",\"default\":\"false\",\"value\":\"{{tasks.train-driver.outputs.parameters.cached-decision}}\"}]},\"depends\":\"train-driver.Succeeded\"}]}},{\"name\":\"system-dag-driver\",\"inputs\":{\"parameters\":[{\"name\":\"component\"},{\"name\":\"runtime-config\",\"default\":\"\"},{\"name\":\"task\",\"default\":\"\"},{\"name\":\"parent-dag-id\",\"default\":\"0\"},{\"name\":\"iteration-index\",\"default\":\"-1\"},{\"name\":\"driver-type\",\"default\":\"DAG\"}]},\"outputs\":{\"parameters\":[{\"name\":\"execution-id\",\"valueFrom\":{\"path\":\"/tmp/outputs/execution-id\"}},{\"name\":\"iteration-count\",\"valueFrom\":{\"path\":\"/tmp/outputs/iteration-count\",\"default\":\"0\"}},{\"name\":\"condition\",\"valueFrom\":{\"path\":\"/tmp/outputs/condition\",\"default\":\"true\"}}]},\"metadata\":{\"annotations\":{\"sidecar.istio.io/inject\":\"false\"}},\"container\":{\"name\":\"\",\"image\":\"gcr.io/ml-pipeline/kfp-driver@sha256:0ce9bf20ac9cbb21e84ff0762d5ae508d21e9c85fde2b14b51363bd1b8cd7528\",\"command\":[\"driver\"],\"args\":[\"--type\",\"{{inputs.parameters.driver-type}}\",\"--pipeline_name\",\"yt-sentiment-pipeline-param\",\"--run_id\",\"313620c4-976e-404a-9207-d4941cfdb60d\",\"--dag_execution_id\",\"{{inputs.parameters.parent-dag-id}}\",\"--component\",\"{{inputs.parameters.component}}\",\"--task\",\"{{inputs.parameters.task}}\",\"--runtime_config\",\"{{inputs.parameters.runtime-config}}\",\"--iteration_index\",\"{{inputs.parameters.iteration-index}}\",\"--execution_id_path\",\"{{outputs.parameters.execution-id.path}}\",\"--iteration_count_path\",\"{{outputs.parameters.iteration-count.path}}\",\"--condition_path\",\"{{outputs.parameters.condition.path}}\"],\"resources\":{\"limits\":{\"cpu\":\"500m\",\"memory\":\"512Mi\"},\"requests\":{\"cpu\":\"100m\",\"memory\":\"64Mi\"}}}},{\"name\":\"entrypoint\",\"inputs\":{},\"outputs\":{},\"metadata\":{\"annotations\":{\"sidecar.istio.io/inject\":\"false\"}},\"dag\":{\"tasks\":[{\"name\":\"root-driver\",\"template\":\"system-dag-driver\",\"arguments\":{\"parameters\":[{\"name\":\"component\",\"value\":\"{{workflow.annotations.pipelines.kubeflow.org/components-root}}\"},{\"name\":\"runtime-config\",\"value\":\"{\\\"parameterValues\\\":{\\\"AWS_REGION\\\":\\\"us-east-1\\\",\\\"INPUT_S3_URI\\\":\\\"s3://mlops-yt-artifacts-nandak-1760367211/datasets/raw.csv\\\",\\\"MLFLOW_URI\\\":\\\"http://mlflow-service.mlops.svc.cluster.local:5000\\\",\\\"MODEL_NAME\\\":\\\"distilbert-base-uncased\\\",\\\"OUTPUT_S3_URI\\\":\\\"s3://mlops-yt-artifacts-nandak-1760367211/datasets/cleaned.csv\\\",\\\"S3_BUCKET\\\":\\\"mlops-yt-artifacts-nandak-1760367211\\\"}}\"},{\"name\":\"driver-type\",\"value\":\"ROOT_DAG\"}]}},{\"name\":\"root\",\"template\":\"root\",\"arguments\":{\"parameters\":[{\"name\":\"parent-dag-id\",\"value\":\"{{tasks.root-driver.outputs.parameters.execution-id}}\"},{\"name\":\"condition\",\"value\":\"\"}]},\"depends\":\"root-driver.Succeeded\"}]}}],\"entrypoint\":\"entrypoint\",\"arguments\":{},\"serviceAccountName\":\"pipeline-runner\",\"podMetadata\":{\"annotations\":{\"pipelines.kubeflow.org/v2_component\":\"true\"},\"labels\":{\"pipeline/runid\":\"313620c4-976e-404a-9207-d4941cfdb60d\",\"pipelines.kubeflow.org/v2_component\":\"true\"}}},\"status\":{\"startedAt\":null,\"finishedAt\":null}}','',0,0),('5858d806-def1-4296-bd6b-59cc78d2ccf1','Run of yt-mlops (1661c)','yt-sentiment-pipeline-param-rltv6','','','4c504879-f007-41d5-9805-f338dcd518a2','','AVAILABLE','pipeline-runner','9dfb0e66-0ba9-45fe-83cb-87237b13d363','fe056a66-7185-47f4-aea9-1813bba65542','yt-mlops','components:\n  comp-preprocess:\n    executorLabel: exec-preprocess\n    inputDefinitions:\n      parameters:\n        aws_region:\n          parameterType: STRING\n        input_s3_uri:\n          parameterType: STRING\n        output_s3_uri:\n          parameterType: STRING\n  comp-train:\n    executorLabel: exec-train\n    inputDefinitions:\n      parameters:\n        aws_region:\n          parameterType: STRING\n        mlflow_uri:\n          parameterType: STRING\n        model_name:\n          parameterType: STRING\n        s3_bucket:\n          parameterType: STRING\ndeploymentSpec:\n  executors:\n    exec-preprocess:\n      container:\n        args:\n        - --executor_input\n        - \'{{$}}\'\n        - --function_to_execute\n        - preprocess\n        command:\n        - sh\n        - -c\n        - |2\n\n          if ! [ -x \"$(command -v pip)\" ]; then\n              python3 -m ensurepip || python3 -m ensurepip --user || apt-get install python3-pip\n          fi\n\n          PIP_DISABLE_PIP_VERSION_CHECK=1 python3 -m pip install --quiet --no-warn-script-location \'kfp==2.14.6\' \'--no-deps\' \'typing-extensions>=3.7.4,<5; python_version<\"3.9\"\' && \"$0\" \"$@\"\n        - sh\n        - -ec\n        - |\n          program_path=$(mktemp -d)\n\n          printf \"%s\" \"$0\" > \"$program_path/ephemeral_component.py\"\n          _KFP_RUNTIME=true python3 -m kfp.dsl.executor_main                         --component_module_path                         \"$program_path/ephemeral_component.py\"                         \"$@\"\n        - |2+\n\n          import kfp\n          from kfp import dsl\n          from kfp.dsl import *\n          from typing import *\n\n          def preprocess(input_s3_uri: str, output_s3_uri: str, aws_region: str):\n              \"\"\"Preprocess YouTube comments and upload cleaned data to S3.\"\"\"\n              import os, subprocess\n              os.environ[\"INPUT_S3_URI\"] = input_s3_uri\n              os.environ[\"OUTPUT_S3_URI\"] = output_s3_uri\n              os.environ[\"AWS_REGION\"] = aws_region\n              print(f\"Preprocessing from {input_s3_uri} → {output_s3_uri}\")\n              subprocess.run([\"python\", \"/app/preprocess/component.py\"], check=True)\n\n        image: 118730128420.dkr.ecr.us-east-1.amazonaws.com/yt-kfp-component:latest\n    exec-train:\n      container:\n        args:\n        - --executor_input\n        - \'{{$}}\'\n        - --function_to_execute\n        - train\n        command:\n        - sh\n        - -c\n        - |2\n\n          if ! [ -x \"$(command -v pip)\" ]; then\n              python3 -m ensurepip || python3 -m ensurepip --user || apt-get install python3-pip\n          fi\n\n          PIP_DISABLE_PIP_VERSION_CHECK=1 python3 -m pip install --quiet --no-warn-script-location \'kfp==2.14.6\' \'--no-deps\' \'typing-extensions>=3.7.4,<5; python_version<\"3.9\"\' && \"$0\" \"$@\"\n        - sh\n        - -ec\n        - |\n          program_path=$(mktemp -d)\n\n          printf \"%s\" \"$0\" > \"$program_path/ephemeral_component.py\"\n          _KFP_RUNTIME=true python3 -m kfp.dsl.executor_main                         --component_module_path                         \"$program_path/ephemeral_component.py\"                         \"$@\"\n        - |2+\n\n          import kfp\n          from kfp import dsl\n          from kfp.dsl import *\n          from typing import *\n\n          def train(mlflow_uri: str, s3_bucket: str, model_name: str, aws_region: str):\n              \"\"\"Train sentiment model and log results to MLflow.\"\"\"\n              import os, subprocess\n              os.environ[\"MLFLOW_URI\"] = mlflow_uri\n              os.environ[\"S3_BUCKET\"] = s3_bucket\n              os.environ[\"MODEL_NAME\"] = model_name\n              os.environ[\"AWS_REGION\"] = aws_region\n              print(f\"Training model {model_name}, logging to {mlflow_uri}\")\n              subprocess.run([\"python\", \"/app/train/component.py\"], check=True)\n\n        image: 118730128420.dkr.ecr.us-east-1.amazonaws.com/yt-kfp-component:latest\npipelineInfo:\n  description: YouTube Sentiment Analyzer pipeline using MLflow + S3 + EKS\n  name: yt-sentiment-pipeline-param\nroot:\n  dag:\n    tasks:\n      preprocess:\n        cachingOptions:\n          enableCache: true\n        componentRef:\n          name: comp-preprocess\n        inputs:\n          parameters:\n            aws_region:\n              componentInputParameter: AWS_REGION\n            input_s3_uri:\n              componentInputParameter: INPUT_S3_URI\n            output_s3_uri:\n              componentInputParameter: OUTPUT_S3_URI\n        taskInfo:\n          name: preprocess\n      train:\n        cachingOptions:\n          enableCache: true\n        componentRef:\n          name: comp-train\n        dependentTasks:\n        - preprocess\n        inputs:\n          parameters:\n            aws_region:\n              componentInputParameter: AWS_REGION\n            mlflow_uri:\n              componentInputParameter: MLFLOW_URI\n            model_name:\n              componentInputParameter: MODEL_NAME\n            s3_bucket:\n              componentInputParameter: S3_BUCKET\n        taskInfo:\n          name: train\n  inputDefinitions:\n    parameters:\n      AWS_REGION:\n        defaultValue: us-east-1\n        isOptional: true\n        parameterType: STRING\n      INPUT_S3_URI:\n        defaultValue: s3://mlops-yt-artifacts-nandak-1760367211/datasets/raw.csv\n        isOptional: true\n        parameterType: STRING\n      MLFLOW_URI:\n        defaultValue: http://mlflow-service.mlops.svc.cluster.local:5000\n        isOptional: true\n        parameterType: STRING\n      MODEL_NAME:\n        defaultValue: distilbert-base-uncased\n        isOptional: true\n        parameterType: STRING\n      OUTPUT_S3_URI:\n        defaultValue: s3://mlops-yt-artifacts-nandak-1760367211/datasets/cleaned.csv\n        isOptional: true\n        parameterType: STRING\n      S3_BUCKET:\n        defaultValue: mlops-yt-artifacts-nandak-1760367211\n        isOptional: true\n        parameterType: STRING\nschemaVersion: 2.1.0\nsdkVersion: kfp-2.14.6\n','','','{\"AWS_REGION\":\"us-east-1\",\"INPUT_S3_URI\":\"s3://mlops-yt-artifacts-nandak-1760367211/datasets/youtube_comments.csv\",\"MLFLOW_URI\":\"http://mlflow-service.mlops.svc.cluster.local:5000\",\"MODEL_NAME\":\"distilbert-base-uncased\",\"OUTPUT_S3_URI\":\"s3://mlops-yt-artifacts-nandak-1760367211/datasets/cleaned.csv\",\"S3_BUCKET\":\"mlops-yt-artifacts-nandak-1760367211\"}','',1761146802,1761146802,0,'Pending','PENDING','[{\"UpdateTimeInSec\":1761146802,\"State\":\"PENDING\"}]','{\"metadata\":{\"name\":\"yt-sentiment-pipeline-param-rltv6\",\"generateName\":\"yt-sentiment-pipeline-param-\",\"namespace\":\"kubeflow\",\"uid\":\"50a85263-8bde-40ed-8ee9-1e8b569f75dd\",\"resourceVersion\":\"2504230\",\"generation\":1,\"creationTimestamp\":\"2025-10-22T15:26:42Z\",\"labels\":{\"pipeline/runid\":\"5858d806-def1-4296-bd6b-59cc78d2ccf1\"},\"annotations\":{\"pipelines.kubeflow.org/components-comp-preprocess\":\"{\\\"executorLabel\\\":\\\"exec-preprocess\\\",\\\"inputDefinitions\\\":{\\\"parameters\\\":{\\\"aws_region\\\":{\\\"parameterType\\\":\\\"STRING\\\"},\\\"input_s3_uri\\\":{\\\"parameterType\\\":\\\"STRING\\\"},\\\"output_s3_uri\\\":{\\\"parameterType\\\":\\\"STRING\\\"}}}}\",\"pipelines.kubeflow.org/components-comp-train\":\"{\\\"executorLabel\\\":\\\"exec-train\\\",\\\"inputDefinitions\\\":{\\\"parameters\\\":{\\\"aws_region\\\":{\\\"parameterType\\\":\\\"STRING\\\"},\\\"mlflow_uri\\\":{\\\"parameterType\\\":\\\"STRING\\\"},\\\"model_name\\\":{\\\"parameterType\\\":\\\"STRING\\\"},\\\"s3_bucket\\\":{\\\"parameterType\\\":\\\"STRING\\\"}}}}\",\"pipelines.kubeflow.org/components-root\":\"{\\\"dag\\\":{\\\"tasks\\\":{\\\"preprocess\\\":{\\\"cachingOptions\\\":{\\\"enableCache\\\":true},\\\"componentRef\\\":{\\\"name\\\":\\\"comp-preprocess\\\"},\\\"inputs\\\":{\\\"parameters\\\":{\\\"aws_region\\\":{\\\"componentInputParameter\\\":\\\"AWS_REGION\\\"},\\\"input_s3_uri\\\":{\\\"componentInputParameter\\\":\\\"INPUT_S3_URI\\\"},\\\"output_s3_uri\\\":{\\\"componentInputParameter\\\":\\\"OUTPUT_S3_URI\\\"}}},\\\"taskInfo\\\":{\\\"name\\\":\\\"preprocess\\\"}},\\\"train\\\":{\\\"cachingOptions\\\":{\\\"enableCache\\\":true},\\\"componentRef\\\":{\\\"name\\\":\\\"comp-train\\\"},\\\"dependentTasks\\\":[\\\"preprocess\\\"],\\\"inputs\\\":{\\\"parameters\\\":{\\\"aws_region\\\":{\\\"componentInputParameter\\\":\\\"AWS_REGION\\\"},\\\"mlflow_uri\\\":{\\\"componentInputParameter\\\":\\\"MLFLOW_URI\\\"},\\\"model_name\\\":{\\\"componentInputParameter\\\":\\\"MODEL_NAME\\\"},\\\"s3_bucket\\\":{\\\"componentInputParameter\\\":\\\"S3_BUCKET\\\"}}},\\\"taskInfo\\\":{\\\"name\\\":\\\"train\\\"}}}},\\\"inputDefinitions\\\":{\\\"parameters\\\":{\\\"AWS_REGION\\\":{\\\"defaultValue\\\":\\\"us-east-1\\\",\\\"isOptional\\\":true,\\\"parameterType\\\":\\\"STRING\\\"},\\\"INPUT_S3_URI\\\":{\\\"defaultValue\\\":\\\"s3://mlops-yt-artifacts-nandak-1760367211/datasets/raw.csv\\\",\\\"isOptional\\\":true,\\\"parameterType\\\":\\\"STRING\\\"},\\\"MLFLOW_URI\\\":{\\\"defaultValue\\\":\\\"http://mlflow-service.mlops.svc.cluster.local:5000\\\",\\\"isOptional\\\":true,\\\"parameterType\\\":\\\"STRING\\\"},\\\"MODEL_NAME\\\":{\\\"defaultValue\\\":\\\"distilbert-base-uncased\\\",\\\"isOptional\\\":true,\\\"parameterType\\\":\\\"STRING\\\"},\\\"OUTPUT_S3_URI\\\":{\\\"defaultValue\\\":\\\"s3://mlops-yt-artifacts-nandak-1760367211/datasets/cleaned.csv\\\",\\\"isOptional\\\":true,\\\"parameterType\\\":\\\"STRING\\\"},\\\"S3_BUCKET\\\":{\\\"defaultValue\\\":\\\"mlops-yt-artifacts-nandak-1760367211\\\",\\\"isOptional\\\":true,\\\"parameterType\\\":\\\"STRING\\\"}}}}\",\"pipelines.kubeflow.org/implementations-comp-preprocess\":\"{\\\"args\\\":[\\\"--executor_input\\\",\\\"{{$}}\\\",\\\"--function_to_execute\\\",\\\"preprocess\\\"],\\\"command\\\":[\\\"sh\\\",\\\"-c\\\",\\\"\\\\nif ! [ -x \\\\\\\"$(command -v pip)\\\\\\\" ]; then\\\\n    python3 -m ensurepip || python3 -m ensurepip --user || apt-get install python3-pip\\\\nfi\\\\n\\\\nPIP_DISABLE_PIP_VERSION_CHECK=1 python3 -m pip install --quiet --no-warn-script-location \'kfp==2.14.6\' \'--no-deps\' \'typing-extensions\\\\u003e=3.7.4,\\\\u003c5; python_version\\\\u003c\\\\\\\"3.9\\\\\\\"\' \\\\u0026\\\\u0026 \\\\\\\"$0\\\\\\\" \\\\\\\"$@\\\\\\\"\\\\n\\\",\\\"sh\\\",\\\"-ec\\\",\\\"program_path=$(mktemp -d)\\\\n\\\\nprintf \\\\\\\"%s\\\\\\\" \\\\\\\"$0\\\\\\\" \\\\u003e \\\\\\\"$program_path/ephemeral_component.py\\\\\\\"\\\\n_KFP_RUNTIME=true python3 -m kfp.dsl.executor_main                         --component_module_path                         \\\\\\\"$program_path/ephemeral_component.py\\\\\\\"                         \\\\\\\"$@\\\\\\\"\\\\n\\\",\\\"\\\\nimport kfp\\\\nfrom kfp import dsl\\\\nfrom kfp.dsl import *\\\\nfrom typing import *\\\\n\\\\ndef preprocess(input_s3_uri: str, output_s3_uri: str, aws_region: str):\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"Preprocess YouTube comments and upload cleaned data to S3.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    import os, subprocess\\\\n    os.environ[\\\\\\\"INPUT_S3_URI\\\\\\\"] = input_s3_uri\\\\n    os.environ[\\\\\\\"OUTPUT_S3_URI\\\\\\\"] = output_s3_uri\\\\n    os.environ[\\\\\\\"AWS_REGION\\\\\\\"] = aws_region\\\\n    print(f\\\\\\\"Preprocessing from {input_s3_uri} → {output_s3_uri}\\\\\\\")\\\\n    subprocess.run([\\\\\\\"python\\\\\\\", \\\\\\\"/app/preprocess/component.py\\\\\\\"], check=True)\\\\n\\\\n\\\"],\\\"image\\\":\\\"118730128420.dkr.ecr.us-east-1.amazonaws.com/yt-kfp-component:latest\\\"}\",\"pipelines.kubeflow.org/implementations-comp-train\":\"{\\\"args\\\":[\\\"--executor_input\\\",\\\"{{$}}\\\",\\\"--function_to_execute\\\",\\\"train\\\"],\\\"command\\\":[\\\"sh\\\",\\\"-c\\\",\\\"\\\\nif ! [ -x \\\\\\\"$(command -v pip)\\\\\\\" ]; then\\\\n    python3 -m ensurepip || python3 -m ensurepip --user || apt-get install python3-pip\\\\nfi\\\\n\\\\nPIP_DISABLE_PIP_VERSION_CHECK=1 python3 -m pip install --quiet --no-warn-script-location \'kfp==2.14.6\' \'--no-deps\' \'typing-extensions\\\\u003e=3.7.4,\\\\u003c5; python_version\\\\u003c\\\\\\\"3.9\\\\\\\"\' \\\\u0026\\\\u0026 \\\\\\\"$0\\\\\\\" \\\\\\\"$@\\\\\\\"\\\\n\\\",\\\"sh\\\",\\\"-ec\\\",\\\"program_path=$(mktemp -d)\\\\n\\\\nprintf \\\\\\\"%s\\\\\\\" \\\\\\\"$0\\\\\\\" \\\\u003e \\\\\\\"$program_path/ephemeral_component.py\\\\\\\"\\\\n_KFP_RUNTIME=true python3 -m kfp.dsl.executor_main                         --component_module_path                         \\\\\\\"$program_path/ephemeral_component.py\\\\\\\"                         \\\\\\\"$@\\\\\\\"\\\\n\\\",\\\"\\\\nimport kfp\\\\nfrom kfp import dsl\\\\nfrom kfp.dsl import *\\\\nfrom typing import *\\\\n\\\\ndef train(mlflow_uri: str, s3_bucket: str, model_name: str, aws_region: str):\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"Train sentiment model and log results to MLflow.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    import os, subprocess\\\\n    os.environ[\\\\\\\"MLFLOW_URI\\\\\\\"] = mlflow_uri\\\\n    os.environ[\\\\\\\"S3_BUCKET\\\\\\\"] = s3_bucket\\\\n    os.environ[\\\\\\\"MODEL_NAME\\\\\\\"] = model_name\\\\n    os.environ[\\\\\\\"AWS_REGION\\\\\\\"] = aws_region\\\\n    print(f\\\\\\\"Training model {model_name}, logging to {mlflow_uri}\\\\\\\")\\\\n    subprocess.run([\\\\\\\"python\\\\\\\", \\\\\\\"/app/train/component.py\\\\\\\"], check=True)\\\\n\\\\n\\\"],\\\"image\\\":\\\"118730128420.dkr.ecr.us-east-1.amazonaws.com/yt-kfp-component:latest\\\"}\",\"pipelines.kubeflow.org/run_name\":\"Run of yt-mlops (1661c)\"},\"managedFields\":[{\"manager\":\"apiserver\",\"operation\":\"Update\",\"apiVersion\":\"argoproj.io/v1alpha1\",\"time\":\"2025-10-22T15:26:42Z\",\"fieldsType\":\"FieldsV1\",\"fieldsV1\":{\"f:metadata\":{\"f:annotations\":{\".\":{},\"f:pipelines.kubeflow.org/components-comp-preprocess\":{},\"f:pipelines.kubeflow.org/components-comp-train\":{},\"f:pipelines.kubeflow.org/components-root\":{},\"f:pipelines.kubeflow.org/implementations-comp-preprocess\":{},\"f:pipelines.kubeflow.org/implementations-comp-train\":{},\"f:pipelines.kubeflow.org/run_name\":{}},\"f:generateName\":{},\"f:labels\":{\".\":{},\"f:pipeline/runid\":{}}},\"f:spec\":{},\"f:status\":{}}}]},\"spec\":{\"templates\":[{\"name\":\"system-container-driver\",\"inputs\":{\"parameters\":[{\"name\":\"component\"},{\"name\":\"task\"},{\"name\":\"container\"},{\"name\":\"parent-dag-id\"},{\"name\":\"iteration-index\",\"default\":\"-1\"},{\"name\":\"kubernetes-config\",\"default\":\"\"}]},\"outputs\":{\"parameters\":[{\"name\":\"pod-spec-patch\",\"valueFrom\":{\"path\":\"/tmp/outputs/pod-spec-patch\",\"default\":\"\"}},{\"name\":\"cached-decision\",\"default\":\"false\",\"valueFrom\":{\"path\":\"/tmp/outputs/cached-decision\",\"default\":\"false\"}},{\"name\":\"condition\",\"valueFrom\":{\"path\":\"/tmp/outputs/condition\",\"default\":\"true\"}}]},\"metadata\":{\"annotations\":{\"sidecar.istio.io/inject\":\"false\"}},\"container\":{\"name\":\"\",\"image\":\"gcr.io/ml-pipeline/kfp-driver@sha256:0ce9bf20ac9cbb21e84ff0762d5ae508d21e9c85fde2b14b51363bd1b8cd7528\",\"command\":[\"driver\"],\"args\":[\"--type\",\"CONTAINER\",\"--pipeline_name\",\"yt-sentiment-pipeline-param\",\"--run_id\",\"5858d806-def1-4296-bd6b-59cc78d2ccf1\",\"--dag_execution_id\",\"{{inputs.parameters.parent-dag-id}}\",\"--component\",\"{{inputs.parameters.component}}\",\"--task\",\"{{inputs.parameters.task}}\",\"--container\",\"{{inputs.parameters.container}}\",\"--iteration_index\",\"{{inputs.parameters.iteration-index}}\",\"--cached_decision_path\",\"{{outputs.parameters.cached-decision.path}}\",\"--pod_spec_patch_path\",\"{{outputs.parameters.pod-spec-patch.path}}\",\"--condition_path\",\"{{outputs.parameters.condition.path}}\",\"--kubernetes_config\",\"{{inputs.parameters.kubernetes-config}}\"],\"resources\":{\"limits\":{\"cpu\":\"500m\",\"memory\":\"512Mi\"},\"requests\":{\"cpu\":\"100m\",\"memory\":\"64Mi\"}}}},{\"name\":\"system-container-executor\",\"inputs\":{\"parameters\":[{\"name\":\"pod-spec-patch\"},{\"name\":\"cached-decision\",\"default\":\"false\"}]},\"outputs\":{},\"metadata\":{\"annotations\":{\"sidecar.istio.io/inject\":\"false\"}},\"dag\":{\"tasks\":[{\"name\":\"executor\",\"template\":\"system-container-impl\",\"arguments\":{\"parameters\":[{\"name\":\"pod-spec-patch\",\"value\":\"{{inputs.parameters.pod-spec-patch}}\"}]},\"when\":\"{{inputs.parameters.cached-decision}} != true\"}]}},{\"name\":\"system-container-impl\",\"inputs\":{\"parameters\":[{\"name\":\"pod-spec-patch\"}]},\"outputs\":{},\"metadata\":{\"annotations\":{\"sidecar.istio.io/inject\":\"false\"}},\"container\":{\"name\":\"\",\"image\":\"gcr.io/ml-pipeline/should-be-overridden-during-runtime\",\"command\":[\"should-be-overridden-during-runtime\"],\"envFrom\":[{\"configMapRef\":{\"name\":\"metadata-grpc-configmap\",\"optional\":true}}],\"env\":[{\"name\":\"KFP_POD_NAME\",\"valueFrom\":{\"fieldRef\":{\"fieldPath\":\"metadata.name\"}}},{\"name\":\"KFP_POD_UID\",\"valueFrom\":{\"fieldRef\":{\"fieldPath\":\"metadata.uid\"}}}],\"resources\":{},\"volumeMounts\":[{\"name\":\"kfp-launcher\",\"mountPath\":\"/kfp-launcher\"}]},\"volumes\":[{\"name\":\"kfp-launcher\",\"emptyDir\":{}}],\"initContainers\":[{\"name\":\"kfp-launcher\",\"image\":\"gcr.io/ml-pipeline/kfp-launcher@sha256:80cf120abd125db84fa547640fd6386c4b2a26936e0c2b04a7d3634991a850a4\",\"command\":[\"launcher-v2\",\"--copy\",\"/kfp-launcher/launch\"],\"resources\":{\"limits\":{\"cpu\":\"500m\",\"memory\":\"128Mi\"},\"requests\":{\"cpu\":\"100m\"}},\"volumeMounts\":[{\"name\":\"kfp-launcher\",\"mountPath\":\"/kfp-launcher\"}]}],\"podSpecPatch\":\"{{inputs.parameters.pod-spec-patch}}\"},{\"name\":\"root\",\"inputs\":{\"parameters\":[{\"name\":\"parent-dag-id\"}]},\"outputs\":{},\"metadata\":{\"annotations\":{\"sidecar.istio.io/inject\":\"false\"}},\"dag\":{\"tasks\":[{\"name\":\"preprocess-driver\",\"template\":\"system-container-driver\",\"arguments\":{\"parameters\":[{\"name\":\"component\",\"value\":\"{{workflow.annotations.pipelines.kubeflow.org/components-comp-preprocess}}\"},{\"name\":\"task\",\"value\":\"{\\\"cachingOptions\\\":{\\\"enableCache\\\":true},\\\"componentRef\\\":{\\\"name\\\":\\\"comp-preprocess\\\"},\\\"inputs\\\":{\\\"parameters\\\":{\\\"aws_region\\\":{\\\"componentInputParameter\\\":\\\"AWS_REGION\\\"},\\\"input_s3_uri\\\":{\\\"componentInputParameter\\\":\\\"INPUT_S3_URI\\\"},\\\"output_s3_uri\\\":{\\\"componentInputParameter\\\":\\\"OUTPUT_S3_URI\\\"}}},\\\"taskInfo\\\":{\\\"name\\\":\\\"preprocess\\\"}}\"},{\"name\":\"container\",\"value\":\"{{workflow.annotations.pipelines.kubeflow.org/implementations-comp-preprocess}}\"},{\"name\":\"parent-dag-id\",\"value\":\"{{inputs.parameters.parent-dag-id}}\"}]}},{\"name\":\"preprocess\",\"template\":\"system-container-executor\",\"arguments\":{\"parameters\":[{\"name\":\"pod-spec-patch\",\"value\":\"{{tasks.preprocess-driver.outputs.parameters.pod-spec-patch}}\"},{\"name\":\"cached-decision\",\"default\":\"false\",\"value\":\"{{tasks.preprocess-driver.outputs.parameters.cached-decision}}\"}]},\"depends\":\"preprocess-driver.Succeeded\"},{\"name\":\"train-driver\",\"template\":\"system-container-driver\",\"arguments\":{\"parameters\":[{\"name\":\"component\",\"value\":\"{{workflow.annotations.pipelines.kubeflow.org/components-comp-train}}\"},{\"name\":\"task\",\"value\":\"{\\\"cachingOptions\\\":{\\\"enableCache\\\":true},\\\"componentRef\\\":{\\\"name\\\":\\\"comp-train\\\"},\\\"dependentTasks\\\":[\\\"preprocess\\\"],\\\"inputs\\\":{\\\"parameters\\\":{\\\"aws_region\\\":{\\\"componentInputParameter\\\":\\\"AWS_REGION\\\"},\\\"mlflow_uri\\\":{\\\"componentInputParameter\\\":\\\"MLFLOW_URI\\\"},\\\"model_name\\\":{\\\"componentInputParameter\\\":\\\"MODEL_NAME\\\"},\\\"s3_bucket\\\":{\\\"componentInputParameter\\\":\\\"S3_BUCKET\\\"}}},\\\"taskInfo\\\":{\\\"name\\\":\\\"train\\\"}}\"},{\"name\":\"container\",\"value\":\"{{workflow.annotations.pipelines.kubeflow.org/implementations-comp-train}}\"},{\"name\":\"parent-dag-id\",\"value\":\"{{inputs.parameters.parent-dag-id}}\"}]},\"depends\":\"preprocess.Succeeded\"},{\"name\":\"train\",\"template\":\"system-container-executor\",\"arguments\":{\"parameters\":[{\"name\":\"pod-spec-patch\",\"value\":\"{{tasks.train-driver.outputs.parameters.pod-spec-patch}}\"},{\"name\":\"cached-decision\",\"default\":\"false\",\"value\":\"{{tasks.train-driver.outputs.parameters.cached-decision}}\"}]},\"depends\":\"train-driver.Succeeded\"}]}},{\"name\":\"system-dag-driver\",\"inputs\":{\"parameters\":[{\"name\":\"component\"},{\"name\":\"runtime-config\",\"default\":\"\"},{\"name\":\"task\",\"default\":\"\"},{\"name\":\"parent-dag-id\",\"default\":\"0\"},{\"name\":\"iteration-index\",\"default\":\"-1\"},{\"name\":\"driver-type\",\"default\":\"DAG\"}]},\"outputs\":{\"parameters\":[{\"name\":\"execution-id\",\"valueFrom\":{\"path\":\"/tmp/outputs/execution-id\"}},{\"name\":\"iteration-count\",\"valueFrom\":{\"path\":\"/tmp/outputs/iteration-count\",\"default\":\"0\"}},{\"name\":\"condition\",\"valueFrom\":{\"path\":\"/tmp/outputs/condition\",\"default\":\"true\"}}]},\"metadata\":{\"annotations\":{\"sidecar.istio.io/inject\":\"false\"}},\"container\":{\"name\":\"\",\"image\":\"gcr.io/ml-pipeline/kfp-driver@sha256:0ce9bf20ac9cbb21e84ff0762d5ae508d21e9c85fde2b14b51363bd1b8cd7528\",\"command\":[\"driver\"],\"args\":[\"--type\",\"{{inputs.parameters.driver-type}}\",\"--pipeline_name\",\"yt-sentiment-pipeline-param\",\"--run_id\",\"5858d806-def1-4296-bd6b-59cc78d2ccf1\",\"--dag_execution_id\",\"{{inputs.parameters.parent-dag-id}}\",\"--component\",\"{{inputs.parameters.component}}\",\"--task\",\"{{inputs.parameters.task}}\",\"--runtime_config\",\"{{inputs.parameters.runtime-config}}\",\"--iteration_index\",\"{{inputs.parameters.iteration-index}}\",\"--execution_id_path\",\"{{outputs.parameters.execution-id.path}}\",\"--iteration_count_path\",\"{{outputs.parameters.iteration-count.path}}\",\"--condition_path\",\"{{outputs.parameters.condition.path}}\"],\"resources\":{\"limits\":{\"cpu\":\"500m\",\"memory\":\"512Mi\"},\"requests\":{\"cpu\":\"100m\",\"memory\":\"64Mi\"}}}},{\"name\":\"entrypoint\",\"inputs\":{},\"outputs\":{},\"metadata\":{\"annotations\":{\"sidecar.istio.io/inject\":\"false\"}},\"dag\":{\"tasks\":[{\"name\":\"root-driver\",\"template\":\"system-dag-driver\",\"arguments\":{\"parameters\":[{\"name\":\"component\",\"value\":\"{{workflow.annotations.pipelines.kubeflow.org/components-root}}\"},{\"name\":\"runtime-config\",\"value\":\"{\\\"parameterValues\\\":{\\\"AWS_REGION\\\":\\\"us-east-1\\\",\\\"INPUT_S3_URI\\\":\\\"s3://mlops-yt-artifacts-nandak-1760367211/datasets/youtube_comments.csv\\\",\\\"MLFLOW_URI\\\":\\\"http://mlflow-service.mlops.svc.cluster.local:5000\\\",\\\"MODEL_NAME\\\":\\\"distilbert-base-uncased\\\",\\\"OUTPUT_S3_URI\\\":\\\"s3://mlops-yt-artifacts-nandak-1760367211/datasets/cleaned.csv\\\",\\\"S3_BUCKET\\\":\\\"mlops-yt-artifacts-nandak-1760367211\\\"}}\"},{\"name\":\"driver-type\",\"value\":\"ROOT_DAG\"}]}},{\"name\":\"root\",\"template\":\"root\",\"arguments\":{\"parameters\":[{\"name\":\"parent-dag-id\",\"value\":\"{{tasks.root-driver.outputs.parameters.execution-id}}\"},{\"name\":\"condition\",\"value\":\"\"}]},\"depends\":\"root-driver.Succeeded\"}]}}],\"entrypoint\":\"entrypoint\",\"arguments\":{},\"serviceAccountName\":\"pipeline-runner\",\"podMetadata\":{\"annotations\":{\"pipelines.kubeflow.org/v2_component\":\"true\"},\"labels\":{\"pipeline/runid\":\"5858d806-def1-4296-bd6b-59cc78d2ccf1\",\"pipelines.kubeflow.org/v2_component\":\"true\"}}},\"status\":{\"startedAt\":null,\"finishedAt\":null}}','',0,0),('62457a64-5880-42de-9456-38b9c5997b8b','Run of youtube analyzer (87a9a)','yt-sentiment-pipeline-param-bwvhx','','','73a102cf-474a-4691-a9be-b60ade3d5345','','AVAILABLE','pipeline-runner','fa9ea7ea-6814-4997-8ca3-854aa94cd3f6','db03cb2d-de9e-49c7-a41b-bb6ce4340f95','youtube analyzer','components:\n  comp-preprocess:\n    executorLabel: exec-preprocess\n    inputDefinitions:\n      parameters:\n        aws_region:\n          parameterType: STRING\n        input_s3_uri:\n          parameterType: STRING\n        output_s3_uri:\n          parameterType: STRING\n  comp-train:\n    executorLabel: exec-train\n    inputDefinitions:\n      parameters:\n        aws_region:\n          parameterType: STRING\n        mlflow_uri:\n          parameterType: STRING\n        model_name:\n          parameterType: STRING\n        s3_bucket:\n          parameterType: STRING\ndeploymentSpec:\n  executors:\n    exec-preprocess:\n      container:\n        args:\n        - --executor_input\n        - \'{{$}}\'\n        - --function_to_execute\n        - preprocess\n        command:\n        - sh\n        - -c\n        - |2\n\n          if ! [ -x \"$(command -v pip)\" ]; then\n              python3 -m ensurepip || python3 -m ensurepip --user || apt-get install python3-pip\n          fi\n\n          PIP_DISABLE_PIP_VERSION_CHECK=1 python3 -m pip install --quiet --no-warn-script-location \'kfp==2.14.6\' \'--no-deps\' \'typing-extensions>=3.7.4,<5; python_version<\"3.9\"\' && \"$0\" \"$@\"\n        - sh\n        - -ec\n        - |\n          program_path=$(mktemp -d)\n\n          printf \"%s\" \"$0\" > \"$program_path/ephemeral_component.py\"\n          _KFP_RUNTIME=true python3 -m kfp.dsl.executor_main                         --component_module_path                         \"$program_path/ephemeral_component.py\"                         \"$@\"\n        - |2+\n\n          import kfp\n          from kfp import dsl\n          from kfp.dsl import *\n          from typing import *\n\n          def preprocess(input_s3_uri: str, output_s3_uri: str, aws_region: str):\n              \"\"\"Preprocess YouTube comments and upload cleaned data to S3.\"\"\"\n              import os, subprocess\n              os.environ[\"INPUT_S3_URI\"] = input_s3_uri\n              os.environ[\"OUTPUT_S3_URI\"] = output_s3_uri\n              os.environ[\"AWS_REGION\"] = aws_region\n              print(f\"Preprocessing from {input_s3_uri} → {output_s3_uri}\")\n              subprocess.run([\"python\", \"/app/preprocess/component.py\"], check=True)\n\n        image: 118730128420.dkr.ecr.us-east-1.amazonaws.com/yt-kfp-component:latest\n    exec-train:\n      container:\n        args:\n        - --executor_input\n        - \'{{$}}\'\n        - --function_to_execute\n        - train\n        command:\n        - sh\n        - -c\n        - |2\n\n          if ! [ -x \"$(command -v pip)\" ]; then\n              python3 -m ensurepip || python3 -m ensurepip --user || apt-get install python3-pip\n          fi\n\n          PIP_DISABLE_PIP_VERSION_CHECK=1 python3 -m pip install --quiet --no-warn-script-location \'kfp==2.14.6\' \'--no-deps\' \'typing-extensions>=3.7.4,<5; python_version<\"3.9\"\' && \"$0\" \"$@\"\n        - sh\n        - -ec\n        - |\n          program_path=$(mktemp -d)\n\n          printf \"%s\" \"$0\" > \"$program_path/ephemeral_component.py\"\n          _KFP_RUNTIME=true python3 -m kfp.dsl.executor_main                         --component_module_path                         \"$program_path/ephemeral_component.py\"                         \"$@\"\n        - |2+\n\n          import kfp\n          from kfp import dsl\n          from kfp.dsl import *\n          from typing import *\n\n          def train(mlflow_uri: str, s3_bucket: str, model_name: str, aws_region: str):\n              \"\"\"Train sentiment model and log results to MLflow.\"\"\"\n              import os, subprocess\n              os.environ[\"MLFLOW_URI\"] = mlflow_uri\n              os.environ[\"S3_BUCKET\"] = s3_bucket\n              os.environ[\"MODEL_NAME\"] = model_name\n              os.environ[\"AWS_REGION\"] = aws_region\n              print(f\"Training model {model_name}, logging to {mlflow_uri}\")\n              subprocess.run([\"python\", \"/app/train/component.py\"], check=True)\n\n        image: 118730128420.dkr.ecr.us-east-1.amazonaws.com/yt-kfp-component:latest\npipelineInfo:\n  description: YouTube Sentiment Analyzer pipeline using MLflow + S3 + EKS\n  name: yt-sentiment-pipeline-param\nroot:\n  dag:\n    tasks:\n      preprocess:\n        cachingOptions:\n          enableCache: true\n        componentRef:\n          name: comp-preprocess\n        inputs:\n          parameters:\n            aws_region:\n              componentInputParameter: AWS_REGION\n            input_s3_uri:\n              componentInputParameter: INPUT_S3_URI\n            output_s3_uri:\n              componentInputParameter: OUTPUT_S3_URI\n        taskInfo:\n          name: preprocess\n      train:\n        cachingOptions:\n          enableCache: true\n        componentRef:\n          name: comp-train\n        dependentTasks:\n        - preprocess\n        inputs:\n          parameters:\n            aws_region:\n              componentInputParameter: AWS_REGION\n            mlflow_uri:\n              componentInputParameter: MLFLOW_URI\n            model_name:\n              componentInputParameter: MODEL_NAME\n            s3_bucket:\n              componentInputParameter: S3_BUCKET\n        taskInfo:\n          name: train\n  inputDefinitions:\n    parameters:\n      AWS_REGION:\n        defaultValue: us-east-1\n        isOptional: true\n        parameterType: STRING\n      INPUT_S3_URI:\n        defaultValue: s3://mlops-yt-artifacts-nandak-1760367211/datasets/raw.csv\n        isOptional: true\n        parameterType: STRING\n      MLFLOW_URI:\n        defaultValue: http://mlflow-service.mlops.svc.cluster.local:5000\n        isOptional: true\n        parameterType: STRING\n      MODEL_NAME:\n        defaultValue: distilbert-base-uncased\n        isOptional: true\n        parameterType: STRING\n      OUTPUT_S3_URI:\n        defaultValue: s3://mlops-yt-artifacts-nandak-1760367211/datasets/cleaned.csv\n        isOptional: true\n        parameterType: STRING\n      S3_BUCKET:\n        defaultValue: mlops-yt-artifacts-nandak-1760367211\n        isOptional: true\n        parameterType: STRING\nschemaVersion: 2.1.0\nsdkVersion: kfp-2.14.6\n','','','','',1761133846,1761133846,0,'Pending','PENDING','[{\"UpdateTimeInSec\":1761133846,\"State\":\"PENDING\"}]','{\"metadata\":{\"name\":\"yt-sentiment-pipeline-param-bwvhx\",\"generateName\":\"yt-sentiment-pipeline-param-\",\"namespace\":\"kubeflow\",\"uid\":\"53159ad7-8ca5-46f2-8a14-12216921d5b8\",\"resourceVersion\":\"2461175\",\"generation\":1,\"creationTimestamp\":\"2025-10-22T11:50:46Z\",\"labels\":{\"pipeline/runid\":\"62457a64-5880-42de-9456-38b9c5997b8b\"},\"annotations\":{\"pipelines.kubeflow.org/components-comp-preprocess\":\"{\\\"executorLabel\\\":\\\"exec-preprocess\\\",\\\"inputDefinitions\\\":{\\\"parameters\\\":{\\\"aws_region\\\":{\\\"parameterType\\\":\\\"STRING\\\"},\\\"input_s3_uri\\\":{\\\"parameterType\\\":\\\"STRING\\\"},\\\"output_s3_uri\\\":{\\\"parameterType\\\":\\\"STRING\\\"}}}}\",\"pipelines.kubeflow.org/components-comp-train\":\"{\\\"executorLabel\\\":\\\"exec-train\\\",\\\"inputDefinitions\\\":{\\\"parameters\\\":{\\\"aws_region\\\":{\\\"parameterType\\\":\\\"STRING\\\"},\\\"mlflow_uri\\\":{\\\"parameterType\\\":\\\"STRING\\\"},\\\"model_name\\\":{\\\"parameterType\\\":\\\"STRING\\\"},\\\"s3_bucket\\\":{\\\"parameterType\\\":\\\"STRING\\\"}}}}\",\"pipelines.kubeflow.org/components-root\":\"{\\\"dag\\\":{\\\"tasks\\\":{\\\"preprocess\\\":{\\\"cachingOptions\\\":{\\\"enableCache\\\":true},\\\"componentRef\\\":{\\\"name\\\":\\\"comp-preprocess\\\"},\\\"inputs\\\":{\\\"parameters\\\":{\\\"aws_region\\\":{\\\"componentInputParameter\\\":\\\"AWS_REGION\\\"},\\\"input_s3_uri\\\":{\\\"componentInputParameter\\\":\\\"INPUT_S3_URI\\\"},\\\"output_s3_uri\\\":{\\\"componentInputParameter\\\":\\\"OUTPUT_S3_URI\\\"}}},\\\"taskInfo\\\":{\\\"name\\\":\\\"preprocess\\\"}},\\\"train\\\":{\\\"cachingOptions\\\":{\\\"enableCache\\\":true},\\\"componentRef\\\":{\\\"name\\\":\\\"comp-train\\\"},\\\"dependentTasks\\\":[\\\"preprocess\\\"],\\\"inputs\\\":{\\\"parameters\\\":{\\\"aws_region\\\":{\\\"componentInputParameter\\\":\\\"AWS_REGION\\\"},\\\"mlflow_uri\\\":{\\\"componentInputParameter\\\":\\\"MLFLOW_URI\\\"},\\\"model_name\\\":{\\\"componentInputParameter\\\":\\\"MODEL_NAME\\\"},\\\"s3_bucket\\\":{\\\"componentInputParameter\\\":\\\"S3_BUCKET\\\"}}},\\\"taskInfo\\\":{\\\"name\\\":\\\"train\\\"}}}},\\\"inputDefinitions\\\":{\\\"parameters\\\":{\\\"AWS_REGION\\\":{\\\"defaultValue\\\":\\\"us-east-1\\\",\\\"isOptional\\\":true,\\\"parameterType\\\":\\\"STRING\\\"},\\\"INPUT_S3_URI\\\":{\\\"defaultValue\\\":\\\"s3://mlops-yt-artifacts-nandak-1760367211/datasets/raw.csv\\\",\\\"isOptional\\\":true,\\\"parameterType\\\":\\\"STRING\\\"},\\\"MLFLOW_URI\\\":{\\\"defaultValue\\\":\\\"http://mlflow-service.mlops.svc.cluster.local:5000\\\",\\\"isOptional\\\":true,\\\"parameterType\\\":\\\"STRING\\\"},\\\"MODEL_NAME\\\":{\\\"defaultValue\\\":\\\"distilbert-base-uncased\\\",\\\"isOptional\\\":true,\\\"parameterType\\\":\\\"STRING\\\"},\\\"OUTPUT_S3_URI\\\":{\\\"defaultValue\\\":\\\"s3://mlops-yt-artifacts-nandak-1760367211/datasets/cleaned.csv\\\",\\\"isOptional\\\":true,\\\"parameterType\\\":\\\"STRING\\\"},\\\"S3_BUCKET\\\":{\\\"defaultValue\\\":\\\"mlops-yt-artifacts-nandak-1760367211\\\",\\\"isOptional\\\":true,\\\"parameterType\\\":\\\"STRING\\\"}}}}\",\"pipelines.kubeflow.org/implementations-comp-preprocess\":\"{\\\"args\\\":[\\\"--executor_input\\\",\\\"{{$}}\\\",\\\"--function_to_execute\\\",\\\"preprocess\\\"],\\\"command\\\":[\\\"sh\\\",\\\"-c\\\",\\\"\\\\nif ! [ -x \\\\\\\"$(command -v pip)\\\\\\\" ]; then\\\\n    python3 -m ensurepip || python3 -m ensurepip --user || apt-get install python3-pip\\\\nfi\\\\n\\\\nPIP_DISABLE_PIP_VERSION_CHECK=1 python3 -m pip install --quiet --no-warn-script-location \'kfp==2.14.6\' \'--no-deps\' \'typing-extensions\\\\u003e=3.7.4,\\\\u003c5; python_version\\\\u003c\\\\\\\"3.9\\\\\\\"\' \\\\u0026\\\\u0026 \\\\\\\"$0\\\\\\\" \\\\\\\"$@\\\\\\\"\\\\n\\\",\\\"sh\\\",\\\"-ec\\\",\\\"program_path=$(mktemp -d)\\\\n\\\\nprintf \\\\\\\"%s\\\\\\\" \\\\\\\"$0\\\\\\\" \\\\u003e \\\\\\\"$program_path/ephemeral_component.py\\\\\\\"\\\\n_KFP_RUNTIME=true python3 -m kfp.dsl.executor_main                         --component_module_path                         \\\\\\\"$program_path/ephemeral_component.py\\\\\\\"                         \\\\\\\"$@\\\\\\\"\\\\n\\\",\\\"\\\\nimport kfp\\\\nfrom kfp import dsl\\\\nfrom kfp.dsl import *\\\\nfrom typing import *\\\\n\\\\ndef preprocess(input_s3_uri: str, output_s3_uri: str, aws_region: str):\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"Preprocess YouTube comments and upload cleaned data to S3.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    import os, subprocess\\\\n    os.environ[\\\\\\\"INPUT_S3_URI\\\\\\\"] = input_s3_uri\\\\n    os.environ[\\\\\\\"OUTPUT_S3_URI\\\\\\\"] = output_s3_uri\\\\n    os.environ[\\\\\\\"AWS_REGION\\\\\\\"] = aws_region\\\\n    print(f\\\\\\\"Preprocessing from {input_s3_uri} → {output_s3_uri}\\\\\\\")\\\\n    subprocess.run([\\\\\\\"python\\\\\\\", \\\\\\\"/app/preprocess/component.py\\\\\\\"], check=True)\\\\n\\\\n\\\"],\\\"image\\\":\\\"118730128420.dkr.ecr.us-east-1.amazonaws.com/yt-kfp-component:latest\\\"}\",\"pipelines.kubeflow.org/implementations-comp-train\":\"{\\\"args\\\":[\\\"--executor_input\\\",\\\"{{$}}\\\",\\\"--function_to_execute\\\",\\\"train\\\"],\\\"command\\\":[\\\"sh\\\",\\\"-c\\\",\\\"\\\\nif ! [ -x \\\\\\\"$(command -v pip)\\\\\\\" ]; then\\\\n    python3 -m ensurepip || python3 -m ensurepip --user || apt-get install python3-pip\\\\nfi\\\\n\\\\nPIP_DISABLE_PIP_VERSION_CHECK=1 python3 -m pip install --quiet --no-warn-script-location \'kfp==2.14.6\' \'--no-deps\' \'typing-extensions\\\\u003e=3.7.4,\\\\u003c5; python_version\\\\u003c\\\\\\\"3.9\\\\\\\"\' \\\\u0026\\\\u0026 \\\\\\\"$0\\\\\\\" \\\\\\\"$@\\\\\\\"\\\\n\\\",\\\"sh\\\",\\\"-ec\\\",\\\"program_path=$(mktemp -d)\\\\n\\\\nprintf \\\\\\\"%s\\\\\\\" \\\\\\\"$0\\\\\\\" \\\\u003e \\\\\\\"$program_path/ephemeral_component.py\\\\\\\"\\\\n_KFP_RUNTIME=true python3 -m kfp.dsl.executor_main                         --component_module_path                         \\\\\\\"$program_path/ephemeral_component.py\\\\\\\"                         \\\\\\\"$@\\\\\\\"\\\\n\\\",\\\"\\\\nimport kfp\\\\nfrom kfp import dsl\\\\nfrom kfp.dsl import *\\\\nfrom typing import *\\\\n\\\\ndef train(mlflow_uri: str, s3_bucket: str, model_name: str, aws_region: str):\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"Train sentiment model and log results to MLflow.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    import os, subprocess\\\\n    os.environ[\\\\\\\"MLFLOW_URI\\\\\\\"] = mlflow_uri\\\\n    os.environ[\\\\\\\"S3_BUCKET\\\\\\\"] = s3_bucket\\\\n    os.environ[\\\\\\\"MODEL_NAME\\\\\\\"] = model_name\\\\n    os.environ[\\\\\\\"AWS_REGION\\\\\\\"] = aws_region\\\\n    print(f\\\\\\\"Training model {model_name}, logging to {mlflow_uri}\\\\\\\")\\\\n    subprocess.run([\\\\\\\"python\\\\\\\", \\\\\\\"/app/train/component.py\\\\\\\"], check=True)\\\\n\\\\n\\\"],\\\"image\\\":\\\"118730128420.dkr.ecr.us-east-1.amazonaws.com/yt-kfp-component:latest\\\"}\",\"pipelines.kubeflow.org/run_name\":\"Run of youtube analyzer (87a9a)\"},\"managedFields\":[{\"manager\":\"apiserver\",\"operation\":\"Update\",\"apiVersion\":\"argoproj.io/v1alpha1\",\"time\":\"2025-10-22T11:50:46Z\",\"fieldsType\":\"FieldsV1\",\"fieldsV1\":{\"f:metadata\":{\"f:annotations\":{\".\":{},\"f:pipelines.kubeflow.org/components-comp-preprocess\":{},\"f:pipelines.kubeflow.org/components-comp-train\":{},\"f:pipelines.kubeflow.org/components-root\":{},\"f:pipelines.kubeflow.org/implementations-comp-preprocess\":{},\"f:pipelines.kubeflow.org/implementations-comp-train\":{},\"f:pipelines.kubeflow.org/run_name\":{}},\"f:generateName\":{},\"f:labels\":{\".\":{},\"f:pipeline/runid\":{}}},\"f:spec\":{},\"f:status\":{}}}]},\"spec\":{\"templates\":[{\"name\":\"system-container-driver\",\"inputs\":{\"parameters\":[{\"name\":\"component\"},{\"name\":\"task\"},{\"name\":\"container\"},{\"name\":\"parent-dag-id\"},{\"name\":\"iteration-index\",\"default\":\"-1\"},{\"name\":\"kubernetes-config\",\"default\":\"\"}]},\"outputs\":{\"parameters\":[{\"name\":\"pod-spec-patch\",\"valueFrom\":{\"path\":\"/tmp/outputs/pod-spec-patch\",\"default\":\"\"}},{\"name\":\"cached-decision\",\"default\":\"false\",\"valueFrom\":{\"path\":\"/tmp/outputs/cached-decision\",\"default\":\"false\"}},{\"name\":\"condition\",\"valueFrom\":{\"path\":\"/tmp/outputs/condition\",\"default\":\"true\"}}]},\"metadata\":{\"annotations\":{\"sidecar.istio.io/inject\":\"false\"}},\"container\":{\"name\":\"\",\"image\":\"gcr.io/ml-pipeline/kfp-driver@sha256:0ce9bf20ac9cbb21e84ff0762d5ae508d21e9c85fde2b14b51363bd1b8cd7528\",\"command\":[\"driver\"],\"args\":[\"--type\",\"CONTAINER\",\"--pipeline_name\",\"yt-sentiment-pipeline-param\",\"--run_id\",\"62457a64-5880-42de-9456-38b9c5997b8b\",\"--dag_execution_id\",\"{{inputs.parameters.parent-dag-id}}\",\"--component\",\"{{inputs.parameters.component}}\",\"--task\",\"{{inputs.parameters.task}}\",\"--container\",\"{{inputs.parameters.container}}\",\"--iteration_index\",\"{{inputs.parameters.iteration-index}}\",\"--cached_decision_path\",\"{{outputs.parameters.cached-decision.path}}\",\"--pod_spec_patch_path\",\"{{outputs.parameters.pod-spec-patch.path}}\",\"--condition_path\",\"{{outputs.parameters.condition.path}}\",\"--kubernetes_config\",\"{{inputs.parameters.kubernetes-config}}\"],\"resources\":{\"limits\":{\"cpu\":\"500m\",\"memory\":\"512Mi\"},\"requests\":{\"cpu\":\"100m\",\"memory\":\"64Mi\"}}}},{\"name\":\"system-container-executor\",\"inputs\":{\"parameters\":[{\"name\":\"pod-spec-patch\"},{\"name\":\"cached-decision\",\"default\":\"false\"}]},\"outputs\":{},\"metadata\":{\"annotations\":{\"sidecar.istio.io/inject\":\"false\"}},\"dag\":{\"tasks\":[{\"name\":\"executor\",\"template\":\"system-container-impl\",\"arguments\":{\"parameters\":[{\"name\":\"pod-spec-patch\",\"value\":\"{{inputs.parameters.pod-spec-patch}}\"}]},\"when\":\"{{inputs.parameters.cached-decision}} != true\"}]}},{\"name\":\"system-container-impl\",\"inputs\":{\"parameters\":[{\"name\":\"pod-spec-patch\"}]},\"outputs\":{},\"metadata\":{\"annotations\":{\"sidecar.istio.io/inject\":\"false\"}},\"container\":{\"name\":\"\",\"image\":\"gcr.io/ml-pipeline/should-be-overridden-during-runtime\",\"command\":[\"should-be-overridden-during-runtime\"],\"envFrom\":[{\"configMapRef\":{\"name\":\"metadata-grpc-configmap\",\"optional\":true}}],\"env\":[{\"name\":\"KFP_POD_NAME\",\"valueFrom\":{\"fieldRef\":{\"fieldPath\":\"metadata.name\"}}},{\"name\":\"KFP_POD_UID\",\"valueFrom\":{\"fieldRef\":{\"fieldPath\":\"metadata.uid\"}}}],\"resources\":{},\"volumeMounts\":[{\"name\":\"kfp-launcher\",\"mountPath\":\"/kfp-launcher\"}]},\"volumes\":[{\"name\":\"kfp-launcher\",\"emptyDir\":{}}],\"initContainers\":[{\"name\":\"kfp-launcher\",\"image\":\"gcr.io/ml-pipeline/kfp-launcher@sha256:80cf120abd125db84fa547640fd6386c4b2a26936e0c2b04a7d3634991a850a4\",\"command\":[\"launcher-v2\",\"--copy\",\"/kfp-launcher/launch\"],\"resources\":{\"limits\":{\"cpu\":\"500m\",\"memory\":\"128Mi\"},\"requests\":{\"cpu\":\"100m\"}},\"volumeMounts\":[{\"name\":\"kfp-launcher\",\"mountPath\":\"/kfp-launcher\"}]}],\"podSpecPatch\":\"{{inputs.parameters.pod-spec-patch}}\"},{\"name\":\"root\",\"inputs\":{\"parameters\":[{\"name\":\"parent-dag-id\"}]},\"outputs\":{},\"metadata\":{\"annotations\":{\"sidecar.istio.io/inject\":\"false\"}},\"dag\":{\"tasks\":[{\"name\":\"preprocess-driver\",\"template\":\"system-container-driver\",\"arguments\":{\"parameters\":[{\"name\":\"component\",\"value\":\"{{workflow.annotations.pipelines.kubeflow.org/components-comp-preprocess}}\"},{\"name\":\"task\",\"value\":\"{\\\"cachingOptions\\\":{\\\"enableCache\\\":true},\\\"componentRef\\\":{\\\"name\\\":\\\"comp-preprocess\\\"},\\\"inputs\\\":{\\\"parameters\\\":{\\\"aws_region\\\":{\\\"componentInputParameter\\\":\\\"AWS_REGION\\\"},\\\"input_s3_uri\\\":{\\\"componentInputParameter\\\":\\\"INPUT_S3_URI\\\"},\\\"output_s3_uri\\\":{\\\"componentInputParameter\\\":\\\"OUTPUT_S3_URI\\\"}}},\\\"taskInfo\\\":{\\\"name\\\":\\\"preprocess\\\"}}\"},{\"name\":\"container\",\"value\":\"{{workflow.annotations.pipelines.kubeflow.org/implementations-comp-preprocess}}\"},{\"name\":\"parent-dag-id\",\"value\":\"{{inputs.parameters.parent-dag-id}}\"}]}},{\"name\":\"preprocess\",\"template\":\"system-container-executor\",\"arguments\":{\"parameters\":[{\"name\":\"pod-spec-patch\",\"value\":\"{{tasks.preprocess-driver.outputs.parameters.pod-spec-patch}}\"},{\"name\":\"cached-decision\",\"default\":\"false\",\"value\":\"{{tasks.preprocess-driver.outputs.parameters.cached-decision}}\"}]},\"depends\":\"preprocess-driver.Succeeded\"},{\"name\":\"train-driver\",\"template\":\"system-container-driver\",\"arguments\":{\"parameters\":[{\"name\":\"component\",\"value\":\"{{workflow.annotations.pipelines.kubeflow.org/components-comp-train}}\"},{\"name\":\"task\",\"value\":\"{\\\"cachingOptions\\\":{\\\"enableCache\\\":true},\\\"componentRef\\\":{\\\"name\\\":\\\"comp-train\\\"},\\\"dependentTasks\\\":[\\\"preprocess\\\"],\\\"inputs\\\":{\\\"parameters\\\":{\\\"aws_region\\\":{\\\"componentInputParameter\\\":\\\"AWS_REGION\\\"},\\\"mlflow_uri\\\":{\\\"componentInputParameter\\\":\\\"MLFLOW_URI\\\"},\\\"model_name\\\":{\\\"componentInputParameter\\\":\\\"MODEL_NAME\\\"},\\\"s3_bucket\\\":{\\\"componentInputParameter\\\":\\\"S3_BUCKET\\\"}}},\\\"taskInfo\\\":{\\\"name\\\":\\\"train\\\"}}\"},{\"name\":\"container\",\"value\":\"{{workflow.annotations.pipelines.kubeflow.org/implementations-comp-train}}\"},{\"name\":\"parent-dag-id\",\"value\":\"{{inputs.parameters.parent-dag-id}}\"}]},\"depends\":\"preprocess.Succeeded\"},{\"name\":\"train\",\"template\":\"system-container-executor\",\"arguments\":{\"parameters\":[{\"name\":\"pod-spec-patch\",\"value\":\"{{tasks.train-driver.outputs.parameters.pod-spec-patch}}\"},{\"name\":\"cached-decision\",\"default\":\"false\",\"value\":\"{{tasks.train-driver.outputs.parameters.cached-decision}}\"}]},\"depends\":\"train-driver.Succeeded\"}]}},{\"name\":\"system-dag-driver\",\"inputs\":{\"parameters\":[{\"name\":\"component\"},{\"name\":\"runtime-config\",\"default\":\"\"},{\"name\":\"task\",\"default\":\"\"},{\"name\":\"parent-dag-id\",\"default\":\"0\"},{\"name\":\"iteration-index\",\"default\":\"-1\"},{\"name\":\"driver-type\",\"default\":\"DAG\"}]},\"outputs\":{\"parameters\":[{\"name\":\"execution-id\",\"valueFrom\":{\"path\":\"/tmp/outputs/execution-id\"}},{\"name\":\"iteration-count\",\"valueFrom\":{\"path\":\"/tmp/outputs/iteration-count\",\"default\":\"0\"}},{\"name\":\"condition\",\"valueFrom\":{\"path\":\"/tmp/outputs/condition\",\"default\":\"true\"}}]},\"metadata\":{\"annotations\":{\"sidecar.istio.io/inject\":\"false\"}},\"container\":{\"name\":\"\",\"image\":\"gcr.io/ml-pipeline/kfp-driver@sha256:0ce9bf20ac9cbb21e84ff0762d5ae508d21e9c85fde2b14b51363bd1b8cd7528\",\"command\":[\"driver\"],\"args\":[\"--type\",\"{{inputs.parameters.driver-type}}\",\"--pipeline_name\",\"yt-sentiment-pipeline-param\",\"--run_id\",\"62457a64-5880-42de-9456-38b9c5997b8b\",\"--dag_execution_id\",\"{{inputs.parameters.parent-dag-id}}\",\"--component\",\"{{inputs.parameters.component}}\",\"--task\",\"{{inputs.parameters.task}}\",\"--runtime_config\",\"{{inputs.parameters.runtime-config}}\",\"--iteration_index\",\"{{inputs.parameters.iteration-index}}\",\"--execution_id_path\",\"{{outputs.parameters.execution-id.path}}\",\"--iteration_count_path\",\"{{outputs.parameters.iteration-count.path}}\",\"--condition_path\",\"{{outputs.parameters.condition.path}}\"],\"resources\":{\"limits\":{\"cpu\":\"500m\",\"memory\":\"512Mi\"},\"requests\":{\"cpu\":\"100m\",\"memory\":\"64Mi\"}}}},{\"name\":\"entrypoint\",\"inputs\":{},\"outputs\":{},\"metadata\":{\"annotations\":{\"sidecar.istio.io/inject\":\"false\"}},\"dag\":{\"tasks\":[{\"name\":\"root-driver\",\"template\":\"system-dag-driver\",\"arguments\":{\"parameters\":[{\"name\":\"component\",\"value\":\"{{workflow.annotations.pipelines.kubeflow.org/components-root}}\"},{\"name\":\"runtime-config\",\"value\":\"{\\\"parameterValues\\\":{\\\"AWS_REGION\\\":\\\"us-east-1\\\",\\\"INPUT_S3_URI\\\":\\\"s3://mlops-yt-artifacts-nandak-1760367211/datasets/raw.csv\\\",\\\"MLFLOW_URI\\\":\\\"http://mlflow-service.mlops.svc.cluster.local:5000\\\",\\\"MODEL_NAME\\\":\\\"distilbert-base-uncased\\\",\\\"OUTPUT_S3_URI\\\":\\\"s3://mlops-yt-artifacts-nandak-1760367211/datasets/cleaned.csv\\\",\\\"S3_BUCKET\\\":\\\"mlops-yt-artifacts-nandak-1760367211\\\"}}\"},{\"name\":\"driver-type\",\"value\":\"ROOT_DAG\"}]}},{\"name\":\"root\",\"template\":\"root\",\"arguments\":{\"parameters\":[{\"name\":\"parent-dag-id\",\"value\":\"{{tasks.root-driver.outputs.parameters.execution-id}}\"},{\"name\":\"condition\",\"value\":\"\"}]},\"depends\":\"root-driver.Succeeded\"}]}}],\"entrypoint\":\"entrypoint\",\"arguments\":{},\"serviceAccountName\":\"pipeline-runner\",\"podMetadata\":{\"annotations\":{\"pipelines.kubeflow.org/v2_component\":\"true\"},\"labels\":{\"pipeline/runid\":\"62457a64-5880-42de-9456-38b9c5997b8b\",\"pipelines.kubeflow.org/v2_component\":\"true\"}}},\"status\":{\"startedAt\":null,\"finishedAt\":null}}','',0,0),('9797994d-4cba-49d4-8ada-c8d04813eb19','Run of yt-mlops_version_at_2025-10-22T15:53:33.015Z (08218)','yt-sentiment-pipeline-param-4h4vj','','','f327d17d-932b-4be6-9984-015c6cb190fc','','AVAILABLE','pipeline-runner','9dfb0e66-0ba9-45fe-83cb-87237b13d363','7195ea09-1910-40e1-a716-7ff566d29a2f','yt-mlops_version_at_2025-10-22T15:53:33.015Z','components:\n  comp-preprocess:\n    executorLabel: exec-preprocess\n    inputDefinitions:\n      parameters:\n        aws_region:\n          parameterType: STRING\n        input_s3_uri:\n          parameterType: STRING\n        output_s3_uri:\n          parameterType: STRING\n    outputDefinitions:\n      parameters:\n        Output:\n          parameterType: STRING\n  comp-train:\n    executorLabel: exec-train\n    inputDefinitions:\n      parameters:\n        aws_region:\n          parameterType: STRING\n        input_s3_uri:\n          parameterType: STRING\n        mlflow_uri:\n          parameterType: STRING\n        model_name:\n          parameterType: STRING\n        output_s3_uri:\n          parameterType: STRING\n        s3_bucket:\n          parameterType: STRING\ndeploymentSpec:\n  executors:\n    exec-preprocess:\n      container:\n        args:\n        - --executor_input\n        - \'{{$}}\'\n        - --function_to_execute\n        - preprocess\n        command:\n        - sh\n        - -c\n        - |2\n\n          if ! [ -x \"$(command -v pip)\" ]; then\n              python3 -m ensurepip || python3 -m ensurepip --user || apt-get install python3-pip\n          fi\n\n          PIP_DISABLE_PIP_VERSION_CHECK=1 python3 -m pip install --quiet --no-warn-script-location \'kfp==2.14.6\' \'--no-deps\' \'typing-extensions>=3.7.4,<5; python_version<\"3.9\"\' && \"$0\" \"$@\"\n        - sh\n        - -ec\n        - |\n          program_path=$(mktemp -d)\n\n          printf \"%s\" \"$0\" > \"$program_path/ephemeral_component.py\"\n          _KFP_RUNTIME=true python3 -m kfp.dsl.executor_main                         --component_module_path                         \"$program_path/ephemeral_component.py\"                         \"$@\"\n        - |2+\n\n          import kfp\n          from kfp import dsl\n          from kfp.dsl import *\n          from typing import *\n\n          def preprocess(input_s3_uri: str, output_s3_uri: str, aws_region: str) -> str:\n              \"\"\"Preprocess YouTube comments and upload cleaned data to S3.\n                 Returns: output_s3_uri (so downstream components can consume it)\n              \"\"\"\n              import os, subprocess\n              os.environ[\"INPUT_S3_URI\"] = input_s3_uri\n              os.environ[\"OUTPUT_S3_URI\"] = output_s3_uri\n              os.environ[\"AWS_REGION\"] = aws_region\n              print(f\"Preprocessing from {input_s3_uri} → {output_s3_uri}\")\n              subprocess.run([\"python\", \"/app/preprocess/component.py\"], check=True)\n              # Return the output path so KFP treats it as a component output\n              return output_s3_uri\n\n        image: 118730128420.dkr.ecr.us-east-1.amazonaws.com/yt-kfp-component:latest\n    exec-train:\n      container:\n        args:\n        - --executor_input\n        - \'{{$}}\'\n        - --function_to_execute\n        - train\n        command:\n        - sh\n        - -c\n        - |2\n\n          if ! [ -x \"$(command -v pip)\" ]; then\n              python3 -m ensurepip || python3 -m ensurepip --user || apt-get install python3-pip\n          fi\n\n          PIP_DISABLE_PIP_VERSION_CHECK=1 python3 -m pip install --quiet --no-warn-script-location \'kfp==2.14.6\' \'--no-deps\' \'typing-extensions>=3.7.4,<5; python_version<\"3.9\"\' && \"$0\" \"$@\"\n        - sh\n        - -ec\n        - |\n          program_path=$(mktemp -d)\n\n          printf \"%s\" \"$0\" > \"$program_path/ephemeral_component.py\"\n          _KFP_RUNTIME=true python3 -m kfp.dsl.executor_main                         --component_module_path                         \"$program_path/ephemeral_component.py\"                         \"$@\"\n        - |2+\n\n          import kfp\n          from kfp import dsl\n          from kfp.dsl import *\n          from typing import *\n\n          def train(input_s3_uri: str, output_s3_uri: str, mlflow_uri: str, s3_bucket: str, model_name: str, aws_region: str):\n              \"\"\"Train sentiment model and log results to MLflow.\"\"\"\n              import os, subprocess\n              os.environ[\"INPUT_S3_URI\"] = input_s3_uri\n              os.environ[\"OUTPUT_S3_URI\"] = output_s3_uri\n              os.environ[\"MLFLOW_URI\"] = mlflow_uri\n              os.environ[\"S3_BUCKET\"] = s3_bucket\n              os.environ[\"MODEL_NAME\"] = model_name\n              os.environ[\"AWS_REGION\"] = aws_region\n              print(f\"Training model {model_name}, logging to {mlflow_uri}\")\n              subprocess.run([\"python\", \"/app/train/component.py\"], check=True)\n\n        image: 118730128420.dkr.ecr.us-east-1.amazonaws.com/yt-kfp-component:latest\npipelineInfo:\n  description: YouTube Sentiment Analyzer pipeline using MLflow + S3 + EKS\n  name: yt-sentiment-pipeline-param\nroot:\n  dag:\n    tasks:\n      preprocess:\n        cachingOptions:\n          enableCache: true\n        componentRef:\n          name: comp-preprocess\n        inputs:\n          parameters:\n            aws_region:\n              componentInputParameter: AWS_REGION\n            input_s3_uri:\n              componentInputParameter: INPUT_S3_URI\n            output_s3_uri:\n              componentInputParameter: OUTPUT_S3_URI\n        taskInfo:\n          name: preprocess\n      train:\n        cachingOptions:\n          enableCache: true\n        componentRef:\n          name: comp-train\n        dependentTasks:\n        - preprocess\n        inputs:\n          parameters:\n            aws_region:\n              componentInputParameter: AWS_REGION\n            input_s3_uri:\n              taskOutputParameter:\n                outputParameterKey: Output\n                producerTask: preprocess\n            mlflow_uri:\n              componentInputParameter: MLFLOW_URI\n            model_name:\n              componentInputParameter: MODEL_NAME\n            output_s3_uri:\n              runtimeValue:\n                constant: s3://mlops-yt-artifacts-nandak-1760367211/datasets/train_metrics.txt\n            s3_bucket:\n              componentInputParameter: S3_BUCKET\n        taskInfo:\n          name: train\n  inputDefinitions:\n    parameters:\n      AWS_REGION:\n        defaultValue: us-east-1\n        isOptional: true\n        parameterType: STRING\n      INPUT_S3_URI:\n        defaultValue: s3://mlops-yt-artifacts-nandak-1760367211/datasets/raw.csv\n        isOptional: true\n        parameterType: STRING\n      MLFLOW_URI:\n        defaultValue: http://mlflow-service.mlops.svc.cluster.local:5000\n        isOptional: true\n        parameterType: STRING\n      MODEL_NAME:\n        defaultValue: distilbert-base-uncased\n        isOptional: true\n        parameterType: STRING\n      OUTPUT_S3_URI:\n        defaultValue: s3://mlops-yt-artifacts-nandak-1760367211/datasets/cleaned.csv\n        isOptional: true\n        parameterType: STRING\n      S3_BUCKET:\n        defaultValue: mlops-yt-artifacts-nandak-1760367211\n        isOptional: true\n        parameterType: STRING\nschemaVersion: 2.1.0\nsdkVersion: kfp-2.14.6\n','','','{\"AWS_REGION\":\"us-east-1\",\"INPUT_S3_URI\":\"s3://mlops-yt-artifacts-nandak-1760367211/datasets/youtube_comments.csv\",\"MLFLOW_URI\":\"http://mlflow-service.mlops.svc.cluster.local:5000\",\"MODEL_NAME\":\"distilbert-base-uncased\",\"OUTPUT_S3_URI\":\"s3://mlops-yt-artifacts-nandak-1760367211/datasets/cleaned.csv\",\"S3_BUCKET\":\"mlops-yt-artifacts-nandak-1760367211\"}','',1761148466,1761148466,0,'Pending','PENDING','[{\"UpdateTimeInSec\":1761148466,\"State\":\"PENDING\"}]','{\"metadata\":{\"name\":\"yt-sentiment-pipeline-param-4h4vj\",\"generateName\":\"yt-sentiment-pipeline-param-\",\"namespace\":\"kubeflow\",\"uid\":\"0265a836-02ee-4d70-898d-03148760966a\",\"resourceVersion\":\"2509775\",\"generation\":1,\"creationTimestamp\":\"2025-10-22T15:54:26Z\",\"labels\":{\"pipeline/runid\":\"9797994d-4cba-49d4-8ada-c8d04813eb19\"},\"annotations\":{\"pipelines.kubeflow.org/components-comp-preprocess\":\"{\\\"executorLabel\\\":\\\"exec-preprocess\\\",\\\"inputDefinitions\\\":{\\\"parameters\\\":{\\\"aws_region\\\":{\\\"parameterType\\\":\\\"STRING\\\"},\\\"input_s3_uri\\\":{\\\"parameterType\\\":\\\"STRING\\\"},\\\"output_s3_uri\\\":{\\\"parameterType\\\":\\\"STRING\\\"}}},\\\"outputDefinitions\\\":{\\\"parameters\\\":{\\\"Output\\\":{\\\"parameterType\\\":\\\"STRING\\\"}}}}\",\"pipelines.kubeflow.org/components-comp-train\":\"{\\\"executorLabel\\\":\\\"exec-train\\\",\\\"inputDefinitions\\\":{\\\"parameters\\\":{\\\"aws_region\\\":{\\\"parameterType\\\":\\\"STRING\\\"},\\\"input_s3_uri\\\":{\\\"parameterType\\\":\\\"STRING\\\"},\\\"mlflow_uri\\\":{\\\"parameterType\\\":\\\"STRING\\\"},\\\"model_name\\\":{\\\"parameterType\\\":\\\"STRING\\\"},\\\"output_s3_uri\\\":{\\\"parameterType\\\":\\\"STRING\\\"},\\\"s3_bucket\\\":{\\\"parameterType\\\":\\\"STRING\\\"}}}}\",\"pipelines.kubeflow.org/components-root\":\"{\\\"dag\\\":{\\\"tasks\\\":{\\\"preprocess\\\":{\\\"cachingOptions\\\":{\\\"enableCache\\\":true},\\\"componentRef\\\":{\\\"name\\\":\\\"comp-preprocess\\\"},\\\"inputs\\\":{\\\"parameters\\\":{\\\"aws_region\\\":{\\\"componentInputParameter\\\":\\\"AWS_REGION\\\"},\\\"input_s3_uri\\\":{\\\"componentInputParameter\\\":\\\"INPUT_S3_URI\\\"},\\\"output_s3_uri\\\":{\\\"componentInputParameter\\\":\\\"OUTPUT_S3_URI\\\"}}},\\\"taskInfo\\\":{\\\"name\\\":\\\"preprocess\\\"}},\\\"train\\\":{\\\"cachingOptions\\\":{\\\"enableCache\\\":true},\\\"componentRef\\\":{\\\"name\\\":\\\"comp-train\\\"},\\\"dependentTasks\\\":[\\\"preprocess\\\"],\\\"inputs\\\":{\\\"parameters\\\":{\\\"aws_region\\\":{\\\"componentInputParameter\\\":\\\"AWS_REGION\\\"},\\\"input_s3_uri\\\":{\\\"taskOutputParameter\\\":{\\\"outputParameterKey\\\":\\\"Output\\\",\\\"producerTask\\\":\\\"preprocess\\\"}},\\\"mlflow_uri\\\":{\\\"componentInputParameter\\\":\\\"MLFLOW_URI\\\"},\\\"model_name\\\":{\\\"componentInputParameter\\\":\\\"MODEL_NAME\\\"},\\\"output_s3_uri\\\":{\\\"runtimeValue\\\":{\\\"constant\\\":\\\"s3://mlops-yt-artifacts-nandak-1760367211/datasets/train_metrics.txt\\\"}},\\\"s3_bucket\\\":{\\\"componentInputParameter\\\":\\\"S3_BUCKET\\\"}}},\\\"taskInfo\\\":{\\\"name\\\":\\\"train\\\"}}}},\\\"inputDefinitions\\\":{\\\"parameters\\\":{\\\"AWS_REGION\\\":{\\\"defaultValue\\\":\\\"us-east-1\\\",\\\"isOptional\\\":true,\\\"parameterType\\\":\\\"STRING\\\"},\\\"INPUT_S3_URI\\\":{\\\"defaultValue\\\":\\\"s3://mlops-yt-artifacts-nandak-1760367211/datasets/raw.csv\\\",\\\"isOptional\\\":true,\\\"parameterType\\\":\\\"STRING\\\"},\\\"MLFLOW_URI\\\":{\\\"defaultValue\\\":\\\"http://mlflow-service.mlops.svc.cluster.local:5000\\\",\\\"isOptional\\\":true,\\\"parameterType\\\":\\\"STRING\\\"},\\\"MODEL_NAME\\\":{\\\"defaultValue\\\":\\\"distilbert-base-uncased\\\",\\\"isOptional\\\":true,\\\"parameterType\\\":\\\"STRING\\\"},\\\"OUTPUT_S3_URI\\\":{\\\"defaultValue\\\":\\\"s3://mlops-yt-artifacts-nandak-1760367211/datasets/cleaned.csv\\\",\\\"isOptional\\\":true,\\\"parameterType\\\":\\\"STRING\\\"},\\\"S3_BUCKET\\\":{\\\"defaultValue\\\":\\\"mlops-yt-artifacts-nandak-1760367211\\\",\\\"isOptional\\\":true,\\\"parameterType\\\":\\\"STRING\\\"}}}}\",\"pipelines.kubeflow.org/implementations-comp-preprocess\":\"{\\\"args\\\":[\\\"--executor_input\\\",\\\"{{$}}\\\",\\\"--function_to_execute\\\",\\\"preprocess\\\"],\\\"command\\\":[\\\"sh\\\",\\\"-c\\\",\\\"\\\\nif ! [ -x \\\\\\\"$(command -v pip)\\\\\\\" ]; then\\\\n    python3 -m ensurepip || python3 -m ensurepip --user || apt-get install python3-pip\\\\nfi\\\\n\\\\nPIP_DISABLE_PIP_VERSION_CHECK=1 python3 -m pip install --quiet --no-warn-script-location \'kfp==2.14.6\' \'--no-deps\' \'typing-extensions\\\\u003e=3.7.4,\\\\u003c5; python_version\\\\u003c\\\\\\\"3.9\\\\\\\"\' \\\\u0026\\\\u0026 \\\\\\\"$0\\\\\\\" \\\\\\\"$@\\\\\\\"\\\\n\\\",\\\"sh\\\",\\\"-ec\\\",\\\"program_path=$(mktemp -d)\\\\n\\\\nprintf \\\\\\\"%s\\\\\\\" \\\\\\\"$0\\\\\\\" \\\\u003e \\\\\\\"$program_path/ephemeral_component.py\\\\\\\"\\\\n_KFP_RUNTIME=true python3 -m kfp.dsl.executor_main                         --component_module_path                         \\\\\\\"$program_path/ephemeral_component.py\\\\\\\"                         \\\\\\\"$@\\\\\\\"\\\\n\\\",\\\"\\\\nimport kfp\\\\nfrom kfp import dsl\\\\nfrom kfp.dsl import *\\\\nfrom typing import *\\\\n\\\\ndef preprocess(input_s3_uri: str, output_s3_uri: str, aws_region: str) -\\\\u003e str:\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"Preprocess YouTube comments and upload cleaned data to S3.\\\\n       Returns: output_s3_uri (so downstream components can consume it)\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"\\\\n    import os, subprocess\\\\n    os.environ[\\\\\\\"INPUT_S3_URI\\\\\\\"] = input_s3_uri\\\\n    os.environ[\\\\\\\"OUTPUT_S3_URI\\\\\\\"] = output_s3_uri\\\\n    os.environ[\\\\\\\"AWS_REGION\\\\\\\"] = aws_region\\\\n    print(f\\\\\\\"Preprocessing from {input_s3_uri} → {output_s3_uri}\\\\\\\")\\\\n    subprocess.run([\\\\\\\"python\\\\\\\", \\\\\\\"/app/preprocess/component.py\\\\\\\"], check=True)\\\\n    # Return the output path so KFP treats it as a component output\\\\n    return output_s3_uri\\\\n\\\\n\\\"],\\\"image\\\":\\\"118730128420.dkr.ecr.us-east-1.amazonaws.com/yt-kfp-component:latest\\\"}\",\"pipelines.kubeflow.org/implementations-comp-train\":\"{\\\"args\\\":[\\\"--executor_input\\\",\\\"{{$}}\\\",\\\"--function_to_execute\\\",\\\"train\\\"],\\\"command\\\":[\\\"sh\\\",\\\"-c\\\",\\\"\\\\nif ! [ -x \\\\\\\"$(command -v pip)\\\\\\\" ]; then\\\\n    python3 -m ensurepip || python3 -m ensurepip --user || apt-get install python3-pip\\\\nfi\\\\n\\\\nPIP_DISABLE_PIP_VERSION_CHECK=1 python3 -m pip install --quiet --no-warn-script-location \'kfp==2.14.6\' \'--no-deps\' \'typing-extensions\\\\u003e=3.7.4,\\\\u003c5; python_version\\\\u003c\\\\\\\"3.9\\\\\\\"\' \\\\u0026\\\\u0026 \\\\\\\"$0\\\\\\\" \\\\\\\"$@\\\\\\\"\\\\n\\\",\\\"sh\\\",\\\"-ec\\\",\\\"program_path=$(mktemp -d)\\\\n\\\\nprintf \\\\\\\"%s\\\\\\\" \\\\\\\"$0\\\\\\\" \\\\u003e \\\\\\\"$program_path/ephemeral_component.py\\\\\\\"\\\\n_KFP_RUNTIME=true python3 -m kfp.dsl.executor_main                         --component_module_path                         \\\\\\\"$program_path/ephemeral_component.py\\\\\\\"                         \\\\\\\"$@\\\\\\\"\\\\n\\\",\\\"\\\\nimport kfp\\\\nfrom kfp import dsl\\\\nfrom kfp.dsl import *\\\\nfrom typing import *\\\\n\\\\ndef train(input_s3_uri: str, output_s3_uri: str, mlflow_uri: str, s3_bucket: str, model_name: str, aws_region: str):\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"Train sentiment model and log results to MLflow.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    import os, subprocess\\\\n    os.environ[\\\\\\\"INPUT_S3_URI\\\\\\\"] = input_s3_uri\\\\n    os.environ[\\\\\\\"OUTPUT_S3_URI\\\\\\\"] = output_s3_uri\\\\n    os.environ[\\\\\\\"MLFLOW_URI\\\\\\\"] = mlflow_uri\\\\n    os.environ[\\\\\\\"S3_BUCKET\\\\\\\"] = s3_bucket\\\\n    os.environ[\\\\\\\"MODEL_NAME\\\\\\\"] = model_name\\\\n    os.environ[\\\\\\\"AWS_REGION\\\\\\\"] = aws_region\\\\n    print(f\\\\\\\"Training model {model_name}, logging to {mlflow_uri}\\\\\\\")\\\\n    subprocess.run([\\\\\\\"python\\\\\\\", \\\\\\\"/app/train/component.py\\\\\\\"], check=True)\\\\n\\\\n\\\"],\\\"image\\\":\\\"118730128420.dkr.ecr.us-east-1.amazonaws.com/yt-kfp-component:latest\\\"}\",\"pipelines.kubeflow.org/run_name\":\"Run of yt-mlops_version_at_2025-10-22T15:53:33.015Z (08218)\"},\"managedFields\":[{\"manager\":\"apiserver\",\"operation\":\"Update\",\"apiVersion\":\"argoproj.io/v1alpha1\",\"time\":\"2025-10-22T15:54:26Z\",\"fieldsType\":\"FieldsV1\",\"fieldsV1\":{\"f:metadata\":{\"f:annotations\":{\".\":{},\"f:pipelines.kubeflow.org/components-comp-preprocess\":{},\"f:pipelines.kubeflow.org/components-comp-train\":{},\"f:pipelines.kubeflow.org/components-root\":{},\"f:pipelines.kubeflow.org/implementations-comp-preprocess\":{},\"f:pipelines.kubeflow.org/implementations-comp-train\":{},\"f:pipelines.kubeflow.org/run_name\":{}},\"f:generateName\":{},\"f:labels\":{\".\":{},\"f:pipeline/runid\":{}}},\"f:spec\":{},\"f:status\":{}}}]},\"spec\":{\"templates\":[{\"name\":\"system-container-driver\",\"inputs\":{\"parameters\":[{\"name\":\"component\"},{\"name\":\"task\"},{\"name\":\"container\"},{\"name\":\"parent-dag-id\"},{\"name\":\"iteration-index\",\"default\":\"-1\"},{\"name\":\"kubernetes-config\",\"default\":\"\"}]},\"outputs\":{\"parameters\":[{\"name\":\"pod-spec-patch\",\"valueFrom\":{\"path\":\"/tmp/outputs/pod-spec-patch\",\"default\":\"\"}},{\"name\":\"cached-decision\",\"default\":\"false\",\"valueFrom\":{\"path\":\"/tmp/outputs/cached-decision\",\"default\":\"false\"}},{\"name\":\"condition\",\"valueFrom\":{\"path\":\"/tmp/outputs/condition\",\"default\":\"true\"}}]},\"metadata\":{\"annotations\":{\"sidecar.istio.io/inject\":\"false\"}},\"container\":{\"name\":\"\",\"image\":\"gcr.io/ml-pipeline/kfp-driver@sha256:0ce9bf20ac9cbb21e84ff0762d5ae508d21e9c85fde2b14b51363bd1b8cd7528\",\"command\":[\"driver\"],\"args\":[\"--type\",\"CONTAINER\",\"--pipeline_name\",\"yt-sentiment-pipeline-param\",\"--run_id\",\"9797994d-4cba-49d4-8ada-c8d04813eb19\",\"--dag_execution_id\",\"{{inputs.parameters.parent-dag-id}}\",\"--component\",\"{{inputs.parameters.component}}\",\"--task\",\"{{inputs.parameters.task}}\",\"--container\",\"{{inputs.parameters.container}}\",\"--iteration_index\",\"{{inputs.parameters.iteration-index}}\",\"--cached_decision_path\",\"{{outputs.parameters.cached-decision.path}}\",\"--pod_spec_patch_path\",\"{{outputs.parameters.pod-spec-patch.path}}\",\"--condition_path\",\"{{outputs.parameters.condition.path}}\",\"--kubernetes_config\",\"{{inputs.parameters.kubernetes-config}}\"],\"resources\":{\"limits\":{\"cpu\":\"500m\",\"memory\":\"512Mi\"},\"requests\":{\"cpu\":\"100m\",\"memory\":\"64Mi\"}}}},{\"name\":\"system-container-executor\",\"inputs\":{\"parameters\":[{\"name\":\"pod-spec-patch\"},{\"name\":\"cached-decision\",\"default\":\"false\"}]},\"outputs\":{},\"metadata\":{\"annotations\":{\"sidecar.istio.io/inject\":\"false\"}},\"dag\":{\"tasks\":[{\"name\":\"executor\",\"template\":\"system-container-impl\",\"arguments\":{\"parameters\":[{\"name\":\"pod-spec-patch\",\"value\":\"{{inputs.parameters.pod-spec-patch}}\"}]},\"when\":\"{{inputs.parameters.cached-decision}} != true\"}]}},{\"name\":\"system-container-impl\",\"inputs\":{\"parameters\":[{\"name\":\"pod-spec-patch\"}]},\"outputs\":{},\"metadata\":{\"annotations\":{\"sidecar.istio.io/inject\":\"false\"}},\"container\":{\"name\":\"\",\"image\":\"gcr.io/ml-pipeline/should-be-overridden-during-runtime\",\"command\":[\"should-be-overridden-during-runtime\"],\"envFrom\":[{\"configMapRef\":{\"name\":\"metadata-grpc-configmap\",\"optional\":true}}],\"env\":[{\"name\":\"KFP_POD_NAME\",\"valueFrom\":{\"fieldRef\":{\"fieldPath\":\"metadata.name\"}}},{\"name\":\"KFP_POD_UID\",\"valueFrom\":{\"fieldRef\":{\"fieldPath\":\"metadata.uid\"}}}],\"resources\":{},\"volumeMounts\":[{\"name\":\"kfp-launcher\",\"mountPath\":\"/kfp-launcher\"}]},\"volumes\":[{\"name\":\"kfp-launcher\",\"emptyDir\":{}}],\"initContainers\":[{\"name\":\"kfp-launcher\",\"image\":\"gcr.io/ml-pipeline/kfp-launcher@sha256:80cf120abd125db84fa547640fd6386c4b2a26936e0c2b04a7d3634991a850a4\",\"command\":[\"launcher-v2\",\"--copy\",\"/kfp-launcher/launch\"],\"resources\":{\"limits\":{\"cpu\":\"500m\",\"memory\":\"128Mi\"},\"requests\":{\"cpu\":\"100m\"}},\"volumeMounts\":[{\"name\":\"kfp-launcher\",\"mountPath\":\"/kfp-launcher\"}]}],\"podSpecPatch\":\"{{inputs.parameters.pod-spec-patch}}\"},{\"name\":\"root\",\"inputs\":{\"parameters\":[{\"name\":\"parent-dag-id\"}]},\"outputs\":{},\"metadata\":{\"annotations\":{\"sidecar.istio.io/inject\":\"false\"}},\"dag\":{\"tasks\":[{\"name\":\"preprocess-driver\",\"template\":\"system-container-driver\",\"arguments\":{\"parameters\":[{\"name\":\"component\",\"value\":\"{{workflow.annotations.pipelines.kubeflow.org/components-comp-preprocess}}\"},{\"name\":\"task\",\"value\":\"{\\\"cachingOptions\\\":{\\\"enableCache\\\":true},\\\"componentRef\\\":{\\\"name\\\":\\\"comp-preprocess\\\"},\\\"inputs\\\":{\\\"parameters\\\":{\\\"aws_region\\\":{\\\"componentInputParameter\\\":\\\"AWS_REGION\\\"},\\\"input_s3_uri\\\":{\\\"componentInputParameter\\\":\\\"INPUT_S3_URI\\\"},\\\"output_s3_uri\\\":{\\\"componentInputParameter\\\":\\\"OUTPUT_S3_URI\\\"}}},\\\"taskInfo\\\":{\\\"name\\\":\\\"preprocess\\\"}}\"},{\"name\":\"container\",\"value\":\"{{workflow.annotations.pipelines.kubeflow.org/implementations-comp-preprocess}}\"},{\"name\":\"parent-dag-id\",\"value\":\"{{inputs.parameters.parent-dag-id}}\"}]}},{\"name\":\"preprocess\",\"template\":\"system-container-executor\",\"arguments\":{\"parameters\":[{\"name\":\"pod-spec-patch\",\"value\":\"{{tasks.preprocess-driver.outputs.parameters.pod-spec-patch}}\"},{\"name\":\"cached-decision\",\"default\":\"false\",\"value\":\"{{tasks.preprocess-driver.outputs.parameters.cached-decision}}\"}]},\"depends\":\"preprocess-driver.Succeeded\"},{\"name\":\"train-driver\",\"template\":\"system-container-driver\",\"arguments\":{\"parameters\":[{\"name\":\"component\",\"value\":\"{{workflow.annotations.pipelines.kubeflow.org/components-comp-train}}\"},{\"name\":\"task\",\"value\":\"{\\\"cachingOptions\\\":{\\\"enableCache\\\":true},\\\"componentRef\\\":{\\\"name\\\":\\\"comp-train\\\"},\\\"dependentTasks\\\":[\\\"preprocess\\\"],\\\"inputs\\\":{\\\"parameters\\\":{\\\"aws_region\\\":{\\\"componentInputParameter\\\":\\\"AWS_REGION\\\"},\\\"input_s3_uri\\\":{\\\"taskOutputParameter\\\":{\\\"outputParameterKey\\\":\\\"Output\\\",\\\"producerTask\\\":\\\"preprocess\\\"}},\\\"mlflow_uri\\\":{\\\"componentInputParameter\\\":\\\"MLFLOW_URI\\\"},\\\"model_name\\\":{\\\"componentInputParameter\\\":\\\"MODEL_NAME\\\"},\\\"output_s3_uri\\\":{\\\"runtimeValue\\\":{\\\"constant\\\":\\\"s3://mlops-yt-artifacts-nandak-1760367211/datasets/train_metrics.txt\\\"}},\\\"s3_bucket\\\":{\\\"componentInputParameter\\\":\\\"S3_BUCKET\\\"}}},\\\"taskInfo\\\":{\\\"name\\\":\\\"train\\\"}}\"},{\"name\":\"container\",\"value\":\"{{workflow.annotations.pipelines.kubeflow.org/implementations-comp-train}}\"},{\"name\":\"parent-dag-id\",\"value\":\"{{inputs.parameters.parent-dag-id}}\"}]},\"depends\":\"preprocess.Succeeded\"},{\"name\":\"train\",\"template\":\"system-container-executor\",\"arguments\":{\"parameters\":[{\"name\":\"pod-spec-patch\",\"value\":\"{{tasks.train-driver.outputs.parameters.pod-spec-patch}}\"},{\"name\":\"cached-decision\",\"default\":\"false\",\"value\":\"{{tasks.train-driver.outputs.parameters.cached-decision}}\"}]},\"depends\":\"train-driver.Succeeded\"}]}},{\"name\":\"system-dag-driver\",\"inputs\":{\"parameters\":[{\"name\":\"component\"},{\"name\":\"runtime-config\",\"default\":\"\"},{\"name\":\"task\",\"default\":\"\"},{\"name\":\"parent-dag-id\",\"default\":\"0\"},{\"name\":\"iteration-index\",\"default\":\"-1\"},{\"name\":\"driver-type\",\"default\":\"DAG\"}]},\"outputs\":{\"parameters\":[{\"name\":\"execution-id\",\"valueFrom\":{\"path\":\"/tmp/outputs/execution-id\"}},{\"name\":\"iteration-count\",\"valueFrom\":{\"path\":\"/tmp/outputs/iteration-count\",\"default\":\"0\"}},{\"name\":\"condition\",\"valueFrom\":{\"path\":\"/tmp/outputs/condition\",\"default\":\"true\"}}]},\"metadata\":{\"annotations\":{\"sidecar.istio.io/inject\":\"false\"}},\"container\":{\"name\":\"\",\"image\":\"gcr.io/ml-pipeline/kfp-driver@sha256:0ce9bf20ac9cbb21e84ff0762d5ae508d21e9c85fde2b14b51363bd1b8cd7528\",\"command\":[\"driver\"],\"args\":[\"--type\",\"{{inputs.parameters.driver-type}}\",\"--pipeline_name\",\"yt-sentiment-pipeline-param\",\"--run_id\",\"9797994d-4cba-49d4-8ada-c8d04813eb19\",\"--dag_execution_id\",\"{{inputs.parameters.parent-dag-id}}\",\"--component\",\"{{inputs.parameters.component}}\",\"--task\",\"{{inputs.parameters.task}}\",\"--runtime_config\",\"{{inputs.parameters.runtime-config}}\",\"--iteration_index\",\"{{inputs.parameters.iteration-index}}\",\"--execution_id_path\",\"{{outputs.parameters.execution-id.path}}\",\"--iteration_count_path\",\"{{outputs.parameters.iteration-count.path}}\",\"--condition_path\",\"{{outputs.parameters.condition.path}}\"],\"resources\":{\"limits\":{\"cpu\":\"500m\",\"memory\":\"512Mi\"},\"requests\":{\"cpu\":\"100m\",\"memory\":\"64Mi\"}}}},{\"name\":\"entrypoint\",\"inputs\":{},\"outputs\":{},\"metadata\":{\"annotations\":{\"sidecar.istio.io/inject\":\"false\"}},\"dag\":{\"tasks\":[{\"name\":\"root-driver\",\"template\":\"system-dag-driver\",\"arguments\":{\"parameters\":[{\"name\":\"component\",\"value\":\"{{workflow.annotations.pipelines.kubeflow.org/components-root}}\"},{\"name\":\"runtime-config\",\"value\":\"{\\\"parameterValues\\\":{\\\"AWS_REGION\\\":\\\"us-east-1\\\",\\\"INPUT_S3_URI\\\":\\\"s3://mlops-yt-artifacts-nandak-1760367211/datasets/youtube_comments.csv\\\",\\\"MLFLOW_URI\\\":\\\"http://mlflow-service.mlops.svc.cluster.local:5000\\\",\\\"MODEL_NAME\\\":\\\"distilbert-base-uncased\\\",\\\"OUTPUT_S3_URI\\\":\\\"s3://mlops-yt-artifacts-nandak-1760367211/datasets/cleaned.csv\\\",\\\"S3_BUCKET\\\":\\\"mlops-yt-artifacts-nandak-1760367211\\\"}}\"},{\"name\":\"driver-type\",\"value\":\"ROOT_DAG\"}]}},{\"name\":\"root\",\"template\":\"root\",\"arguments\":{\"parameters\":[{\"name\":\"parent-dag-id\",\"value\":\"{{tasks.root-driver.outputs.parameters.execution-id}}\"},{\"name\":\"condition\",\"value\":\"\"}]},\"depends\":\"root-driver.Succeeded\"}]}}],\"entrypoint\":\"entrypoint\",\"arguments\":{},\"serviceAccountName\":\"pipeline-runner\",\"podMetadata\":{\"annotations\":{\"pipelines.kubeflow.org/v2_component\":\"true\"},\"labels\":{\"pipeline/runid\":\"9797994d-4cba-49d4-8ada-c8d04813eb19\",\"pipelines.kubeflow.org/v2_component\":\"true\"}}},\"status\":{\"startedAt\":null,\"finishedAt\":null}}','',0,0),('9e97467b-dae1-4730-a746-34745180b3e4','Run of youtube analyzer_version_at_2025-10-17T05:56:40.890Z (d1f7b)','yt-sentiment-pipeline-param-bltkv','','','73a102cf-474a-4691-a9be-b60ade3d5345','','AVAILABLE','pipeline-runner','fa9ea7ea-6814-4997-8ca3-854aa94cd3f6','a30643fe-c1fa-4459-a798-8f64968cc3f4','youtube analyzer_version_at_2025-10-17T05:56:40.890Z','components:\n  comp-preprocess:\n    executorLabel: exec-preprocess\n    inputDefinitions:\n      parameters:\n        aws_region:\n          parameterType: STRING\n        input_s3_uri:\n          parameterType: STRING\n        output_s3_uri:\n          parameterType: STRING\n  comp-train:\n    executorLabel: exec-train\n    inputDefinitions:\n      parameters:\n        aws_region:\n          parameterType: STRING\n        mlflow_uri:\n          parameterType: STRING\n        model_name:\n          parameterType: STRING\n        s3_bucket:\n          parameterType: STRING\ndeploymentSpec:\n  executors:\n    exec-preprocess:\n      container:\n        args:\n        - --executor_input\n        - \'{{$}}\'\n        - --function_to_execute\n        - preprocess\n        command:\n        - sh\n        - -c\n        - |2\n\n          if ! [ -x \"$(command -v pip)\" ]; then\n              python3 -m ensurepip || python3 -m ensurepip --user || apt-get install python3-pip\n          fi\n\n          PIP_DISABLE_PIP_VERSION_CHECK=1 python3 -m pip install --quiet --no-warn-script-location \'kfp==2.14.6\' \'--no-deps\' \'typing-extensions>=3.7.4,<5; python_version<\"3.9\"\' && \"$0\" \"$@\"\n        - sh\n        - -ec\n        - |\n          program_path=$(mktemp -d)\n\n          printf \"%s\" \"$0\" > \"$program_path/ephemeral_component.py\"\n          _KFP_RUNTIME=true python3 -m kfp.dsl.executor_main                         --component_module_path                         \"$program_path/ephemeral_component.py\"                         \"$@\"\n        - |2+\n\n          import kfp\n          from kfp import dsl\n          from kfp.dsl import *\n          from typing import *\n\n          def preprocess(input_s3_uri: str, output_s3_uri: str, aws_region: str):\n              \"\"\"Preprocess YouTube comments and upload cleaned data to S3.\"\"\"\n              import os, subprocess\n              os.environ[\"INPUT_S3_URI\"] = input_s3_uri\n              os.environ[\"OUTPUT_S3_URI\"] = output_s3_uri\n              os.environ[\"AWS_REGION\"] = aws_region\n              print(f\"Preprocessing from {input_s3_uri} → {output_s3_uri}\")\n              subprocess.run([\"python\", \"/app/preprocess/component.py\"], check=True)\n\n        image: 118730128420.dkr.ecr.us-east-1.amazonaws.com/yt-kfp-component:latest\n    exec-train:\n      container:\n        args:\n        - --executor_input\n        - \'{{$}}\'\n        - --function_to_execute\n        - train\n        command:\n        - sh\n        - -c\n        - |2\n\n          if ! [ -x \"$(command -v pip)\" ]; then\n              python3 -m ensurepip || python3 -m ensurepip --user || apt-get install python3-pip\n          fi\n\n          PIP_DISABLE_PIP_VERSION_CHECK=1 python3 -m pip install --quiet --no-warn-script-location \'kfp==2.14.6\' \'--no-deps\' \'typing-extensions>=3.7.4,<5; python_version<\"3.9\"\' && \"$0\" \"$@\"\n        - sh\n        - -ec\n        - |\n          program_path=$(mktemp -d)\n\n          printf \"%s\" \"$0\" > \"$program_path/ephemeral_component.py\"\n          _KFP_RUNTIME=true python3 -m kfp.dsl.executor_main                         --component_module_path                         \"$program_path/ephemeral_component.py\"                         \"$@\"\n        - |2+\n\n          import kfp\n          from kfp import dsl\n          from kfp.dsl import *\n          from typing import *\n\n          def train(mlflow_uri: str, s3_bucket: str, model_name: str, aws_region: str):\n              \"\"\"Train sentiment model and log results to MLflow.\"\"\"\n              import os, subprocess\n              os.environ[\"MLFLOW_URI\"] = mlflow_uri\n              os.environ[\"S3_BUCKET\"] = s3_bucket\n              os.environ[\"MODEL_NAME\"] = model_name\n              os.environ[\"AWS_REGION\"] = aws_region\n              print(f\"Training model {model_name}, logging to {mlflow_uri}\")\n              subprocess.run([\"python\", \"/app/train/component.py\"], check=True)\n\n        image: 118730128420.dkr.ecr.us-east-1.amazonaws.com/yt-kfp-component:latest\npipelineInfo:\n  description: YouTube Sentiment Analyzer pipeline using MLflow + S3 + EKS\n  name: yt-sentiment-pipeline-param\nroot:\n  dag:\n    tasks:\n      preprocess:\n        cachingOptions:\n          enableCache: true\n        componentRef:\n          name: comp-preprocess\n        inputs:\n          parameters:\n            aws_region:\n              componentInputParameter: AWS_REGION\n            input_s3_uri:\n              componentInputParameter: INPUT_S3_URI\n            output_s3_uri:\n              componentInputParameter: OUTPUT_S3_URI\n        taskInfo:\n          name: preprocess\n      train:\n        cachingOptions:\n          enableCache: true\n        componentRef:\n          name: comp-train\n        dependentTasks:\n        - preprocess\n        inputs:\n          parameters:\n            aws_region:\n              componentInputParameter: AWS_REGION\n            mlflow_uri:\n              componentInputParameter: MLFLOW_URI\n            model_name:\n              componentInputParameter: MODEL_NAME\n            s3_bucket:\n              componentInputParameter: S3_BUCKET\n        taskInfo:\n          name: train\n  inputDefinitions:\n    parameters:\n      AWS_REGION:\n        defaultValue: us-east-1\n        isOptional: true\n        parameterType: STRING\n      INPUT_S3_URI:\n        defaultValue: s3://mlops-yt-artifacts-nandak-1760367211/datasets/raw.csv\n        isOptional: true\n        parameterType: STRING\n      MLFLOW_URI:\n        defaultValue: http://mlflow-service.mlops.svc.cluster.local:5000\n        isOptional: true\n        parameterType: STRING\n      MODEL_NAME:\n        defaultValue: distilbert-base-uncased\n        isOptional: true\n        parameterType: STRING\n      OUTPUT_S3_URI:\n        defaultValue: s3://mlops-yt-artifacts-nandak-1760367211/datasets/cleaned.csv\n        isOptional: true\n        parameterType: STRING\n      S3_BUCKET:\n        defaultValue: mlops-yt-artifacts-nandak-1760367211\n        isOptional: true\n        parameterType: STRING\nschemaVersion: 2.1.0\nsdkVersion: kfp-2.14.6\n','','','','',1760680645,1760680645,0,'Pending','PENDING','[{\"UpdateTimeInSec\":1760680645,\"State\":\"PENDING\"}]','{\"metadata\":{\"name\":\"yt-sentiment-pipeline-param-bltkv\",\"generateName\":\"yt-sentiment-pipeline-param-\",\"namespace\":\"kubeflow\",\"uid\":\"567c2653-ff44-4fe5-8b9c-d9e3a4a06936\",\"resourceVersion\":\"981352\",\"generation\":1,\"creationTimestamp\":\"2025-10-17T05:57:25Z\",\"labels\":{\"pipeline/runid\":\"9e97467b-dae1-4730-a746-34745180b3e4\"},\"annotations\":{\"pipelines.kubeflow.org/components-comp-preprocess\":\"{\\\"executorLabel\\\":\\\"exec-preprocess\\\",\\\"inputDefinitions\\\":{\\\"parameters\\\":{\\\"aws_region\\\":{\\\"parameterType\\\":\\\"STRING\\\"},\\\"input_s3_uri\\\":{\\\"parameterType\\\":\\\"STRING\\\"},\\\"output_s3_uri\\\":{\\\"parameterType\\\":\\\"STRING\\\"}}}}\",\"pipelines.kubeflow.org/components-comp-train\":\"{\\\"executorLabel\\\":\\\"exec-train\\\",\\\"inputDefinitions\\\":{\\\"parameters\\\":{\\\"aws_region\\\":{\\\"parameterType\\\":\\\"STRING\\\"},\\\"mlflow_uri\\\":{\\\"parameterType\\\":\\\"STRING\\\"},\\\"model_name\\\":{\\\"parameterType\\\":\\\"STRING\\\"},\\\"s3_bucket\\\":{\\\"parameterType\\\":\\\"STRING\\\"}}}}\",\"pipelines.kubeflow.org/components-root\":\"{\\\"dag\\\":{\\\"tasks\\\":{\\\"preprocess\\\":{\\\"cachingOptions\\\":{\\\"enableCache\\\":true},\\\"componentRef\\\":{\\\"name\\\":\\\"comp-preprocess\\\"},\\\"inputs\\\":{\\\"parameters\\\":{\\\"aws_region\\\":{\\\"componentInputParameter\\\":\\\"AWS_REGION\\\"},\\\"input_s3_uri\\\":{\\\"componentInputParameter\\\":\\\"INPUT_S3_URI\\\"},\\\"output_s3_uri\\\":{\\\"componentInputParameter\\\":\\\"OUTPUT_S3_URI\\\"}}},\\\"taskInfo\\\":{\\\"name\\\":\\\"preprocess\\\"}},\\\"train\\\":{\\\"cachingOptions\\\":{\\\"enableCache\\\":true},\\\"componentRef\\\":{\\\"name\\\":\\\"comp-train\\\"},\\\"dependentTasks\\\":[\\\"preprocess\\\"],\\\"inputs\\\":{\\\"parameters\\\":{\\\"aws_region\\\":{\\\"componentInputParameter\\\":\\\"AWS_REGION\\\"},\\\"mlflow_uri\\\":{\\\"componentInputParameter\\\":\\\"MLFLOW_URI\\\"},\\\"model_name\\\":{\\\"componentInputParameter\\\":\\\"MODEL_NAME\\\"},\\\"s3_bucket\\\":{\\\"componentInputParameter\\\":\\\"S3_BUCKET\\\"}}},\\\"taskInfo\\\":{\\\"name\\\":\\\"train\\\"}}}},\\\"inputDefinitions\\\":{\\\"parameters\\\":{\\\"AWS_REGION\\\":{\\\"defaultValue\\\":\\\"us-east-1\\\",\\\"isOptional\\\":true,\\\"parameterType\\\":\\\"STRING\\\"},\\\"INPUT_S3_URI\\\":{\\\"defaultValue\\\":\\\"s3://mlops-yt-artifacts-nandak-1760367211/datasets/raw.csv\\\",\\\"isOptional\\\":true,\\\"parameterType\\\":\\\"STRING\\\"},\\\"MLFLOW_URI\\\":{\\\"defaultValue\\\":\\\"http://mlflow-service.mlops.svc.cluster.local:5000\\\",\\\"isOptional\\\":true,\\\"parameterType\\\":\\\"STRING\\\"},\\\"MODEL_NAME\\\":{\\\"defaultValue\\\":\\\"distilbert-base-uncased\\\",\\\"isOptional\\\":true,\\\"parameterType\\\":\\\"STRING\\\"},\\\"OUTPUT_S3_URI\\\":{\\\"defaultValue\\\":\\\"s3://mlops-yt-artifacts-nandak-1760367211/datasets/cleaned.csv\\\",\\\"isOptional\\\":true,\\\"parameterType\\\":\\\"STRING\\\"},\\\"S3_BUCKET\\\":{\\\"defaultValue\\\":\\\"mlops-yt-artifacts-nandak-1760367211\\\",\\\"isOptional\\\":true,\\\"parameterType\\\":\\\"STRING\\\"}}}}\",\"pipelines.kubeflow.org/implementations-comp-preprocess\":\"{\\\"args\\\":[\\\"--executor_input\\\",\\\"{{$}}\\\",\\\"--function_to_execute\\\",\\\"preprocess\\\"],\\\"command\\\":[\\\"sh\\\",\\\"-c\\\",\\\"\\\\nif ! [ -x \\\\\\\"$(command -v pip)\\\\\\\" ]; then\\\\n    python3 -m ensurepip || python3 -m ensurepip --user || apt-get install python3-pip\\\\nfi\\\\n\\\\nPIP_DISABLE_PIP_VERSION_CHECK=1 python3 -m pip install --quiet --no-warn-script-location \'kfp==2.14.6\' \'--no-deps\' \'typing-extensions\\\\u003e=3.7.4,\\\\u003c5; python_version\\\\u003c\\\\\\\"3.9\\\\\\\"\' \\\\u0026\\\\u0026 \\\\\\\"$0\\\\\\\" \\\\\\\"$@\\\\\\\"\\\\n\\\",\\\"sh\\\",\\\"-ec\\\",\\\"program_path=$(mktemp -d)\\\\n\\\\nprintf \\\\\\\"%s\\\\\\\" \\\\\\\"$0\\\\\\\" \\\\u003e \\\\\\\"$program_path/ephemeral_component.py\\\\\\\"\\\\n_KFP_RUNTIME=true python3 -m kfp.dsl.executor_main                         --component_module_path                         \\\\\\\"$program_path/ephemeral_component.py\\\\\\\"                         \\\\\\\"$@\\\\\\\"\\\\n\\\",\\\"\\\\nimport kfp\\\\nfrom kfp import dsl\\\\nfrom kfp.dsl import *\\\\nfrom typing import *\\\\n\\\\ndef preprocess(input_s3_uri: str, output_s3_uri: str, aws_region: str):\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"Preprocess YouTube comments and upload cleaned data to S3.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    import os, subprocess\\\\n    os.environ[\\\\\\\"INPUT_S3_URI\\\\\\\"] = input_s3_uri\\\\n    os.environ[\\\\\\\"OUTPUT_S3_URI\\\\\\\"] = output_s3_uri\\\\n    os.environ[\\\\\\\"AWS_REGION\\\\\\\"] = aws_region\\\\n    print(f\\\\\\\"Preprocessing from {input_s3_uri} → {output_s3_uri}\\\\\\\")\\\\n    subprocess.run([\\\\\\\"python\\\\\\\", \\\\\\\"/app/preprocess/component.py\\\\\\\"], check=True)\\\\n\\\\n\\\"],\\\"image\\\":\\\"118730128420.dkr.ecr.us-east-1.amazonaws.com/yt-kfp-component:latest\\\"}\",\"pipelines.kubeflow.org/implementations-comp-train\":\"{\\\"args\\\":[\\\"--executor_input\\\",\\\"{{$}}\\\",\\\"--function_to_execute\\\",\\\"train\\\"],\\\"command\\\":[\\\"sh\\\",\\\"-c\\\",\\\"\\\\nif ! [ -x \\\\\\\"$(command -v pip)\\\\\\\" ]; then\\\\n    python3 -m ensurepip || python3 -m ensurepip --user || apt-get install python3-pip\\\\nfi\\\\n\\\\nPIP_DISABLE_PIP_VERSION_CHECK=1 python3 -m pip install --quiet --no-warn-script-location \'kfp==2.14.6\' \'--no-deps\' \'typing-extensions\\\\u003e=3.7.4,\\\\u003c5; python_version\\\\u003c\\\\\\\"3.9\\\\\\\"\' \\\\u0026\\\\u0026 \\\\\\\"$0\\\\\\\" \\\\\\\"$@\\\\\\\"\\\\n\\\",\\\"sh\\\",\\\"-ec\\\",\\\"program_path=$(mktemp -d)\\\\n\\\\nprintf \\\\\\\"%s\\\\\\\" \\\\\\\"$0\\\\\\\" \\\\u003e \\\\\\\"$program_path/ephemeral_component.py\\\\\\\"\\\\n_KFP_RUNTIME=true python3 -m kfp.dsl.executor_main                         --component_module_path                         \\\\\\\"$program_path/ephemeral_component.py\\\\\\\"                         \\\\\\\"$@\\\\\\\"\\\\n\\\",\\\"\\\\nimport kfp\\\\nfrom kfp import dsl\\\\nfrom kfp.dsl import *\\\\nfrom typing import *\\\\n\\\\ndef train(mlflow_uri: str, s3_bucket: str, model_name: str, aws_region: str):\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"Train sentiment model and log results to MLflow.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    import os, subprocess\\\\n    os.environ[\\\\\\\"MLFLOW_URI\\\\\\\"] = mlflow_uri\\\\n    os.environ[\\\\\\\"S3_BUCKET\\\\\\\"] = s3_bucket\\\\n    os.environ[\\\\\\\"MODEL_NAME\\\\\\\"] = model_name\\\\n    os.environ[\\\\\\\"AWS_REGION\\\\\\\"] = aws_region\\\\n    print(f\\\\\\\"Training model {model_name}, logging to {mlflow_uri}\\\\\\\")\\\\n    subprocess.run([\\\\\\\"python\\\\\\\", \\\\\\\"/app/train/component.py\\\\\\\"], check=True)\\\\n\\\\n\\\"],\\\"image\\\":\\\"118730128420.dkr.ecr.us-east-1.amazonaws.com/yt-kfp-component:latest\\\"}\",\"pipelines.kubeflow.org/run_name\":\"Run of youtube analyzer_version_at_2025-10-17T05:56:40.890Z (d1f7b)\"},\"managedFields\":[{\"manager\":\"apiserver\",\"operation\":\"Update\",\"apiVersion\":\"argoproj.io/v1alpha1\",\"time\":\"2025-10-17T05:57:25Z\",\"fieldsType\":\"FieldsV1\",\"fieldsV1\":{\"f:metadata\":{\"f:annotations\":{\".\":{},\"f:pipelines.kubeflow.org/components-comp-preprocess\":{},\"f:pipelines.kubeflow.org/components-comp-train\":{},\"f:pipelines.kubeflow.org/components-root\":{},\"f:pipelines.kubeflow.org/implementations-comp-preprocess\":{},\"f:pipelines.kubeflow.org/implementations-comp-train\":{},\"f:pipelines.kubeflow.org/run_name\":{}},\"f:generateName\":{},\"f:labels\":{\".\":{},\"f:pipeline/runid\":{}}},\"f:spec\":{},\"f:status\":{}}}]},\"spec\":{\"templates\":[{\"name\":\"system-container-driver\",\"inputs\":{\"parameters\":[{\"name\":\"component\"},{\"name\":\"task\"},{\"name\":\"container\"},{\"name\":\"parent-dag-id\"},{\"name\":\"iteration-index\",\"default\":\"-1\"},{\"name\":\"kubernetes-config\",\"default\":\"\"}]},\"outputs\":{\"parameters\":[{\"name\":\"pod-spec-patch\",\"valueFrom\":{\"path\":\"/tmp/outputs/pod-spec-patch\",\"default\":\"\"}},{\"name\":\"cached-decision\",\"default\":\"false\",\"valueFrom\":{\"path\":\"/tmp/outputs/cached-decision\",\"default\":\"false\"}},{\"name\":\"condition\",\"valueFrom\":{\"path\":\"/tmp/outputs/condition\",\"default\":\"true\"}}]},\"metadata\":{\"annotations\":{\"sidecar.istio.io/inject\":\"false\"}},\"container\":{\"name\":\"\",\"image\":\"gcr.io/ml-pipeline/kfp-driver@sha256:0ce9bf20ac9cbb21e84ff0762d5ae508d21e9c85fde2b14b51363bd1b8cd7528\",\"command\":[\"driver\"],\"args\":[\"--type\",\"CONTAINER\",\"--pipeline_name\",\"yt-sentiment-pipeline-param\",\"--run_id\",\"9e97467b-dae1-4730-a746-34745180b3e4\",\"--dag_execution_id\",\"{{inputs.parameters.parent-dag-id}}\",\"--component\",\"{{inputs.parameters.component}}\",\"--task\",\"{{inputs.parameters.task}}\",\"--container\",\"{{inputs.parameters.container}}\",\"--iteration_index\",\"{{inputs.parameters.iteration-index}}\",\"--cached_decision_path\",\"{{outputs.parameters.cached-decision.path}}\",\"--pod_spec_patch_path\",\"{{outputs.parameters.pod-spec-patch.path}}\",\"--condition_path\",\"{{outputs.parameters.condition.path}}\",\"--kubernetes_config\",\"{{inputs.parameters.kubernetes-config}}\"],\"resources\":{\"limits\":{\"cpu\":\"500m\",\"memory\":\"512Mi\"},\"requests\":{\"cpu\":\"100m\",\"memory\":\"64Mi\"}}}},{\"name\":\"system-container-executor\",\"inputs\":{\"parameters\":[{\"name\":\"pod-spec-patch\"},{\"name\":\"cached-decision\",\"default\":\"false\"}]},\"outputs\":{},\"metadata\":{\"annotations\":{\"sidecar.istio.io/inject\":\"false\"}},\"dag\":{\"tasks\":[{\"name\":\"executor\",\"template\":\"system-container-impl\",\"arguments\":{\"parameters\":[{\"name\":\"pod-spec-patch\",\"value\":\"{{inputs.parameters.pod-spec-patch}}\"}]},\"when\":\"{{inputs.parameters.cached-decision}} != true\"}]}},{\"name\":\"system-container-impl\",\"inputs\":{\"parameters\":[{\"name\":\"pod-spec-patch\"}]},\"outputs\":{},\"metadata\":{\"annotations\":{\"sidecar.istio.io/inject\":\"false\"}},\"container\":{\"name\":\"\",\"image\":\"gcr.io/ml-pipeline/should-be-overridden-during-runtime\",\"command\":[\"should-be-overridden-during-runtime\"],\"envFrom\":[{\"configMapRef\":{\"name\":\"metadata-grpc-configmap\",\"optional\":true}}],\"env\":[{\"name\":\"KFP_POD_NAME\",\"valueFrom\":{\"fieldRef\":{\"fieldPath\":\"metadata.name\"}}},{\"name\":\"KFP_POD_UID\",\"valueFrom\":{\"fieldRef\":{\"fieldPath\":\"metadata.uid\"}}}],\"resources\":{},\"volumeMounts\":[{\"name\":\"kfp-launcher\",\"mountPath\":\"/kfp-launcher\"}]},\"volumes\":[{\"name\":\"kfp-launcher\",\"emptyDir\":{}}],\"initContainers\":[{\"name\":\"kfp-launcher\",\"image\":\"gcr.io/ml-pipeline/kfp-launcher@sha256:80cf120abd125db84fa547640fd6386c4b2a26936e0c2b04a7d3634991a850a4\",\"command\":[\"launcher-v2\",\"--copy\",\"/kfp-launcher/launch\"],\"resources\":{\"limits\":{\"cpu\":\"500m\",\"memory\":\"128Mi\"},\"requests\":{\"cpu\":\"100m\"}},\"volumeMounts\":[{\"name\":\"kfp-launcher\",\"mountPath\":\"/kfp-launcher\"}]}],\"podSpecPatch\":\"{{inputs.parameters.pod-spec-patch}}\"},{\"name\":\"root\",\"inputs\":{\"parameters\":[{\"name\":\"parent-dag-id\"}]},\"outputs\":{},\"metadata\":{\"annotations\":{\"sidecar.istio.io/inject\":\"false\"}},\"dag\":{\"tasks\":[{\"name\":\"preprocess-driver\",\"template\":\"system-container-driver\",\"arguments\":{\"parameters\":[{\"name\":\"component\",\"value\":\"{{workflow.annotations.pipelines.kubeflow.org/components-comp-preprocess}}\"},{\"name\":\"task\",\"value\":\"{\\\"cachingOptions\\\":{\\\"enableCache\\\":true},\\\"componentRef\\\":{\\\"name\\\":\\\"comp-preprocess\\\"},\\\"inputs\\\":{\\\"parameters\\\":{\\\"aws_region\\\":{\\\"componentInputParameter\\\":\\\"AWS_REGION\\\"},\\\"input_s3_uri\\\":{\\\"componentInputParameter\\\":\\\"INPUT_S3_URI\\\"},\\\"output_s3_uri\\\":{\\\"componentInputParameter\\\":\\\"OUTPUT_S3_URI\\\"}}},\\\"taskInfo\\\":{\\\"name\\\":\\\"preprocess\\\"}}\"},{\"name\":\"container\",\"value\":\"{{workflow.annotations.pipelines.kubeflow.org/implementations-comp-preprocess}}\"},{\"name\":\"parent-dag-id\",\"value\":\"{{inputs.parameters.parent-dag-id}}\"}]}},{\"name\":\"preprocess\",\"template\":\"system-container-executor\",\"arguments\":{\"parameters\":[{\"name\":\"pod-spec-patch\",\"value\":\"{{tasks.preprocess-driver.outputs.parameters.pod-spec-patch}}\"},{\"name\":\"cached-decision\",\"default\":\"false\",\"value\":\"{{tasks.preprocess-driver.outputs.parameters.cached-decision}}\"}]},\"depends\":\"preprocess-driver.Succeeded\"},{\"name\":\"train-driver\",\"template\":\"system-container-driver\",\"arguments\":{\"parameters\":[{\"name\":\"component\",\"value\":\"{{workflow.annotations.pipelines.kubeflow.org/components-comp-train}}\"},{\"name\":\"task\",\"value\":\"{\\\"cachingOptions\\\":{\\\"enableCache\\\":true},\\\"componentRef\\\":{\\\"name\\\":\\\"comp-train\\\"},\\\"dependentTasks\\\":[\\\"preprocess\\\"],\\\"inputs\\\":{\\\"parameters\\\":{\\\"aws_region\\\":{\\\"componentInputParameter\\\":\\\"AWS_REGION\\\"},\\\"mlflow_uri\\\":{\\\"componentInputParameter\\\":\\\"MLFLOW_URI\\\"},\\\"model_name\\\":{\\\"componentInputParameter\\\":\\\"MODEL_NAME\\\"},\\\"s3_bucket\\\":{\\\"componentInputParameter\\\":\\\"S3_BUCKET\\\"}}},\\\"taskInfo\\\":{\\\"name\\\":\\\"train\\\"}}\"},{\"name\":\"container\",\"value\":\"{{workflow.annotations.pipelines.kubeflow.org/implementations-comp-train}}\"},{\"name\":\"parent-dag-id\",\"value\":\"{{inputs.parameters.parent-dag-id}}\"}]},\"depends\":\"preprocess.Succeeded\"},{\"name\":\"train\",\"template\":\"system-container-executor\",\"arguments\":{\"parameters\":[{\"name\":\"pod-spec-patch\",\"value\":\"{{tasks.train-driver.outputs.parameters.pod-spec-patch}}\"},{\"name\":\"cached-decision\",\"default\":\"false\",\"value\":\"{{tasks.train-driver.outputs.parameters.cached-decision}}\"}]},\"depends\":\"train-driver.Succeeded\"}]}},{\"name\":\"system-dag-driver\",\"inputs\":{\"parameters\":[{\"name\":\"component\"},{\"name\":\"runtime-config\",\"default\":\"\"},{\"name\":\"task\",\"default\":\"\"},{\"name\":\"parent-dag-id\",\"default\":\"0\"},{\"name\":\"iteration-index\",\"default\":\"-1\"},{\"name\":\"driver-type\",\"default\":\"DAG\"}]},\"outputs\":{\"parameters\":[{\"name\":\"execution-id\",\"valueFrom\":{\"path\":\"/tmp/outputs/execution-id\"}},{\"name\":\"iteration-count\",\"valueFrom\":{\"path\":\"/tmp/outputs/iteration-count\",\"default\":\"0\"}},{\"name\":\"condition\",\"valueFrom\":{\"path\":\"/tmp/outputs/condition\",\"default\":\"true\"}}]},\"metadata\":{\"annotations\":{\"sidecar.istio.io/inject\":\"false\"}},\"container\":{\"name\":\"\",\"image\":\"gcr.io/ml-pipeline/kfp-driver@sha256:0ce9bf20ac9cbb21e84ff0762d5ae508d21e9c85fde2b14b51363bd1b8cd7528\",\"command\":[\"driver\"],\"args\":[\"--type\",\"{{inputs.parameters.driver-type}}\",\"--pipeline_name\",\"yt-sentiment-pipeline-param\",\"--run_id\",\"9e97467b-dae1-4730-a746-34745180b3e4\",\"--dag_execution_id\",\"{{inputs.parameters.parent-dag-id}}\",\"--component\",\"{{inputs.parameters.component}}\",\"--task\",\"{{inputs.parameters.task}}\",\"--runtime_config\",\"{{inputs.parameters.runtime-config}}\",\"--iteration_index\",\"{{inputs.parameters.iteration-index}}\",\"--execution_id_path\",\"{{outputs.parameters.execution-id.path}}\",\"--iteration_count_path\",\"{{outputs.parameters.iteration-count.path}}\",\"--condition_path\",\"{{outputs.parameters.condition.path}}\"],\"resources\":{\"limits\":{\"cpu\":\"500m\",\"memory\":\"512Mi\"},\"requests\":{\"cpu\":\"100m\",\"memory\":\"64Mi\"}}}},{\"name\":\"entrypoint\",\"inputs\":{},\"outputs\":{},\"metadata\":{\"annotations\":{\"sidecar.istio.io/inject\":\"false\"}},\"dag\":{\"tasks\":[{\"name\":\"root-driver\",\"template\":\"system-dag-driver\",\"arguments\":{\"parameters\":[{\"name\":\"component\",\"value\":\"{{workflow.annotations.pipelines.kubeflow.org/components-root}}\"},{\"name\":\"runtime-config\",\"value\":\"{\\\"parameterValues\\\":{\\\"AWS_REGION\\\":\\\"us-east-1\\\",\\\"INPUT_S3_URI\\\":\\\"s3://mlops-yt-artifacts-nandak-1760367211/datasets/raw.csv\\\",\\\"MLFLOW_URI\\\":\\\"http://mlflow-service.mlops.svc.cluster.local:5000\\\",\\\"MODEL_NAME\\\":\\\"distilbert-base-uncased\\\",\\\"OUTPUT_S3_URI\\\":\\\"s3://mlops-yt-artifacts-nandak-1760367211/datasets/cleaned.csv\\\",\\\"S3_BUCKET\\\":\\\"mlops-yt-artifacts-nandak-1760367211\\\"}}\"},{\"name\":\"driver-type\",\"value\":\"ROOT_DAG\"}]}},{\"name\":\"root\",\"template\":\"root\",\"arguments\":{\"parameters\":[{\"name\":\"parent-dag-id\",\"value\":\"{{tasks.root-driver.outputs.parameters.execution-id}}\"},{\"name\":\"condition\",\"value\":\"\"}]},\"depends\":\"root-driver.Succeeded\"}]}}],\"entrypoint\":\"entrypoint\",\"arguments\":{},\"serviceAccountName\":\"pipeline-runner\",\"podMetadata\":{\"annotations\":{\"pipelines.kubeflow.org/v2_component\":\"true\"},\"labels\":{\"pipeline/runid\":\"9e97467b-dae1-4730-a746-34745180b3e4\",\"pipelines.kubeflow.org/v2_component\":\"true\"}}},\"status\":{\"startedAt\":null,\"finishedAt\":null}}','',0,0),('a5dab52f-d267-44bb-8397-42780748fb1b','Run of youtube analyzer (d4ab6)','yt-sentiment-pipeline-param-xtvr6','','','73a102cf-474a-4691-a9be-b60ade3d5345','','AVAILABLE','pipeline-runner','fa9ea7ea-6814-4997-8ca3-854aa94cd3f6','db03cb2d-de9e-49c7-a41b-bb6ce4340f95','youtube analyzer','components:\n  comp-preprocess:\n    executorLabel: exec-preprocess\n    inputDefinitions:\n      parameters:\n        aws_region:\n          parameterType: STRING\n        input_s3_uri:\n          parameterType: STRING\n        output_s3_uri:\n          parameterType: STRING\n  comp-train:\n    executorLabel: exec-train\n    inputDefinitions:\n      parameters:\n        aws_region:\n          parameterType: STRING\n        mlflow_uri:\n          parameterType: STRING\n        model_name:\n          parameterType: STRING\n        s3_bucket:\n          parameterType: STRING\ndeploymentSpec:\n  executors:\n    exec-preprocess:\n      container:\n        args:\n        - --executor_input\n        - \'{{$}}\'\n        - --function_to_execute\n        - preprocess\n        command:\n        - sh\n        - -c\n        - |2\n\n          if ! [ -x \"$(command -v pip)\" ]; then\n              python3 -m ensurepip || python3 -m ensurepip --user || apt-get install python3-pip\n          fi\n\n          PIP_DISABLE_PIP_VERSION_CHECK=1 python3 -m pip install --quiet --no-warn-script-location \'kfp==2.14.6\' \'--no-deps\' \'typing-extensions>=3.7.4,<5; python_version<\"3.9\"\' && \"$0\" \"$@\"\n        - sh\n        - -ec\n        - |\n          program_path=$(mktemp -d)\n\n          printf \"%s\" \"$0\" > \"$program_path/ephemeral_component.py\"\n          _KFP_RUNTIME=true python3 -m kfp.dsl.executor_main                         --component_module_path                         \"$program_path/ephemeral_component.py\"                         \"$@\"\n        - |2+\n\n          import kfp\n          from kfp import dsl\n          from kfp.dsl import *\n          from typing import *\n\n          def preprocess(input_s3_uri: str, output_s3_uri: str, aws_region: str):\n              \"\"\"Preprocess YouTube comments and upload cleaned data to S3.\"\"\"\n              import os, subprocess\n              os.environ[\"INPUT_S3_URI\"] = input_s3_uri\n              os.environ[\"OUTPUT_S3_URI\"] = output_s3_uri\n              os.environ[\"AWS_REGION\"] = aws_region\n              print(f\"Preprocessing from {input_s3_uri} → {output_s3_uri}\")\n              subprocess.run([\"python\", \"/app/preprocess/component.py\"], check=True)\n\n        image: 118730128420.dkr.ecr.us-east-1.amazonaws.com/yt-kfp-component:latest\n    exec-train:\n      container:\n        args:\n        - --executor_input\n        - \'{{$}}\'\n        - --function_to_execute\n        - train\n        command:\n        - sh\n        - -c\n        - |2\n\n          if ! [ -x \"$(command -v pip)\" ]; then\n              python3 -m ensurepip || python3 -m ensurepip --user || apt-get install python3-pip\n          fi\n\n          PIP_DISABLE_PIP_VERSION_CHECK=1 python3 -m pip install --quiet --no-warn-script-location \'kfp==2.14.6\' \'--no-deps\' \'typing-extensions>=3.7.4,<5; python_version<\"3.9\"\' && \"$0\" \"$@\"\n        - sh\n        - -ec\n        - |\n          program_path=$(mktemp -d)\n\n          printf \"%s\" \"$0\" > \"$program_path/ephemeral_component.py\"\n          _KFP_RUNTIME=true python3 -m kfp.dsl.executor_main                         --component_module_path                         \"$program_path/ephemeral_component.py\"                         \"$@\"\n        - |2+\n\n          import kfp\n          from kfp import dsl\n          from kfp.dsl import *\n          from typing import *\n\n          def train(mlflow_uri: str, s3_bucket: str, model_name: str, aws_region: str):\n              \"\"\"Train sentiment model and log results to MLflow.\"\"\"\n              import os, subprocess\n              os.environ[\"MLFLOW_URI\"] = mlflow_uri\n              os.environ[\"S3_BUCKET\"] = s3_bucket\n              os.environ[\"MODEL_NAME\"] = model_name\n              os.environ[\"AWS_REGION\"] = aws_region\n              print(f\"Training model {model_name}, logging to {mlflow_uri}\")\n              subprocess.run([\"python\", \"/app/train/component.py\"], check=True)\n\n        image: 118730128420.dkr.ecr.us-east-1.amazonaws.com/yt-kfp-component:latest\npipelineInfo:\n  description: YouTube Sentiment Analyzer pipeline using MLflow + S3 + EKS\n  name: yt-sentiment-pipeline-param\nroot:\n  dag:\n    tasks:\n      preprocess:\n        cachingOptions:\n          enableCache: true\n        componentRef:\n          name: comp-preprocess\n        inputs:\n          parameters:\n            aws_region:\n              componentInputParameter: AWS_REGION\n            input_s3_uri:\n              componentInputParameter: INPUT_S3_URI\n            output_s3_uri:\n              componentInputParameter: OUTPUT_S3_URI\n        taskInfo:\n          name: preprocess\n      train:\n        cachingOptions:\n          enableCache: true\n        componentRef:\n          name: comp-train\n        dependentTasks:\n        - preprocess\n        inputs:\n          parameters:\n            aws_region:\n              componentInputParameter: AWS_REGION\n            mlflow_uri:\n              componentInputParameter: MLFLOW_URI\n            model_name:\n              componentInputParameter: MODEL_NAME\n            s3_bucket:\n              componentInputParameter: S3_BUCKET\n        taskInfo:\n          name: train\n  inputDefinitions:\n    parameters:\n      AWS_REGION:\n        defaultValue: us-east-1\n        isOptional: true\n        parameterType: STRING\n      INPUT_S3_URI:\n        defaultValue: s3://mlops-yt-artifacts-nandak-1760367211/datasets/raw.csv\n        isOptional: true\n        parameterType: STRING\n      MLFLOW_URI:\n        defaultValue: http://mlflow-service.mlops.svc.cluster.local:5000\n        isOptional: true\n        parameterType: STRING\n      MODEL_NAME:\n        defaultValue: distilbert-base-uncased\n        isOptional: true\n        parameterType: STRING\n      OUTPUT_S3_URI:\n        defaultValue: s3://mlops-yt-artifacts-nandak-1760367211/datasets/cleaned.csv\n        isOptional: true\n        parameterType: STRING\n      S3_BUCKET:\n        defaultValue: mlops-yt-artifacts-nandak-1760367211\n        isOptional: true\n        parameterType: STRING\nschemaVersion: 2.1.0\nsdkVersion: kfp-2.14.6\n','','','','',1761131958,1761131958,0,'Pending','PENDING','[{\"UpdateTimeInSec\":1761131958,\"State\":\"PENDING\"}]','{\"metadata\":{\"name\":\"yt-sentiment-pipeline-param-xtvr6\",\"generateName\":\"yt-sentiment-pipeline-param-\",\"namespace\":\"kubeflow\",\"uid\":\"59c1ae0d-29e1-4118-9215-a851157e1ecf\",\"resourceVersion\":\"2454914\",\"generation\":1,\"creationTimestamp\":\"2025-10-22T11:19:18Z\",\"labels\":{\"pipeline/runid\":\"a5dab52f-d267-44bb-8397-42780748fb1b\"},\"annotations\":{\"pipelines.kubeflow.org/components-comp-preprocess\":\"{\\\"executorLabel\\\":\\\"exec-preprocess\\\",\\\"inputDefinitions\\\":{\\\"parameters\\\":{\\\"aws_region\\\":{\\\"parameterType\\\":\\\"STRING\\\"},\\\"input_s3_uri\\\":{\\\"parameterType\\\":\\\"STRING\\\"},\\\"output_s3_uri\\\":{\\\"parameterType\\\":\\\"STRING\\\"}}}}\",\"pipelines.kubeflow.org/components-comp-train\":\"{\\\"executorLabel\\\":\\\"exec-train\\\",\\\"inputDefinitions\\\":{\\\"parameters\\\":{\\\"aws_region\\\":{\\\"parameterType\\\":\\\"STRING\\\"},\\\"mlflow_uri\\\":{\\\"parameterType\\\":\\\"STRING\\\"},\\\"model_name\\\":{\\\"parameterType\\\":\\\"STRING\\\"},\\\"s3_bucket\\\":{\\\"parameterType\\\":\\\"STRING\\\"}}}}\",\"pipelines.kubeflow.org/components-root\":\"{\\\"dag\\\":{\\\"tasks\\\":{\\\"preprocess\\\":{\\\"cachingOptions\\\":{\\\"enableCache\\\":true},\\\"componentRef\\\":{\\\"name\\\":\\\"comp-preprocess\\\"},\\\"inputs\\\":{\\\"parameters\\\":{\\\"aws_region\\\":{\\\"componentInputParameter\\\":\\\"AWS_REGION\\\"},\\\"input_s3_uri\\\":{\\\"componentInputParameter\\\":\\\"INPUT_S3_URI\\\"},\\\"output_s3_uri\\\":{\\\"componentInputParameter\\\":\\\"OUTPUT_S3_URI\\\"}}},\\\"taskInfo\\\":{\\\"name\\\":\\\"preprocess\\\"}},\\\"train\\\":{\\\"cachingOptions\\\":{\\\"enableCache\\\":true},\\\"componentRef\\\":{\\\"name\\\":\\\"comp-train\\\"},\\\"dependentTasks\\\":[\\\"preprocess\\\"],\\\"inputs\\\":{\\\"parameters\\\":{\\\"aws_region\\\":{\\\"componentInputParameter\\\":\\\"AWS_REGION\\\"},\\\"mlflow_uri\\\":{\\\"componentInputParameter\\\":\\\"MLFLOW_URI\\\"},\\\"model_name\\\":{\\\"componentInputParameter\\\":\\\"MODEL_NAME\\\"},\\\"s3_bucket\\\":{\\\"componentInputParameter\\\":\\\"S3_BUCKET\\\"}}},\\\"taskInfo\\\":{\\\"name\\\":\\\"train\\\"}}}},\\\"inputDefinitions\\\":{\\\"parameters\\\":{\\\"AWS_REGION\\\":{\\\"defaultValue\\\":\\\"us-east-1\\\",\\\"isOptional\\\":true,\\\"parameterType\\\":\\\"STRING\\\"},\\\"INPUT_S3_URI\\\":{\\\"defaultValue\\\":\\\"s3://mlops-yt-artifacts-nandak-1760367211/datasets/raw.csv\\\",\\\"isOptional\\\":true,\\\"parameterType\\\":\\\"STRING\\\"},\\\"MLFLOW_URI\\\":{\\\"defaultValue\\\":\\\"http://mlflow-service.mlops.svc.cluster.local:5000\\\",\\\"isOptional\\\":true,\\\"parameterType\\\":\\\"STRING\\\"},\\\"MODEL_NAME\\\":{\\\"defaultValue\\\":\\\"distilbert-base-uncased\\\",\\\"isOptional\\\":true,\\\"parameterType\\\":\\\"STRING\\\"},\\\"OUTPUT_S3_URI\\\":{\\\"defaultValue\\\":\\\"s3://mlops-yt-artifacts-nandak-1760367211/datasets/cleaned.csv\\\",\\\"isOptional\\\":true,\\\"parameterType\\\":\\\"STRING\\\"},\\\"S3_BUCKET\\\":{\\\"defaultValue\\\":\\\"mlops-yt-artifacts-nandak-1760367211\\\",\\\"isOptional\\\":true,\\\"parameterType\\\":\\\"STRING\\\"}}}}\",\"pipelines.kubeflow.org/implementations-comp-preprocess\":\"{\\\"args\\\":[\\\"--executor_input\\\",\\\"{{$}}\\\",\\\"--function_to_execute\\\",\\\"preprocess\\\"],\\\"command\\\":[\\\"sh\\\",\\\"-c\\\",\\\"\\\\nif ! [ -x \\\\\\\"$(command -v pip)\\\\\\\" ]; then\\\\n    python3 -m ensurepip || python3 -m ensurepip --user || apt-get install python3-pip\\\\nfi\\\\n\\\\nPIP_DISABLE_PIP_VERSION_CHECK=1 python3 -m pip install --quiet --no-warn-script-location \'kfp==2.14.6\' \'--no-deps\' \'typing-extensions\\\\u003e=3.7.4,\\\\u003c5; python_version\\\\u003c\\\\\\\"3.9\\\\\\\"\' \\\\u0026\\\\u0026 \\\\\\\"$0\\\\\\\" \\\\\\\"$@\\\\\\\"\\\\n\\\",\\\"sh\\\",\\\"-ec\\\",\\\"program_path=$(mktemp -d)\\\\n\\\\nprintf \\\\\\\"%s\\\\\\\" \\\\\\\"$0\\\\\\\" \\\\u003e \\\\\\\"$program_path/ephemeral_component.py\\\\\\\"\\\\n_KFP_RUNTIME=true python3 -m kfp.dsl.executor_main                         --component_module_path                         \\\\\\\"$program_path/ephemeral_component.py\\\\\\\"                         \\\\\\\"$@\\\\\\\"\\\\n\\\",\\\"\\\\nimport kfp\\\\nfrom kfp import dsl\\\\nfrom kfp.dsl import *\\\\nfrom typing import *\\\\n\\\\ndef preprocess(input_s3_uri: str, output_s3_uri: str, aws_region: str):\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"Preprocess YouTube comments and upload cleaned data to S3.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    import os, subprocess\\\\n    os.environ[\\\\\\\"INPUT_S3_URI\\\\\\\"] = input_s3_uri\\\\n    os.environ[\\\\\\\"OUTPUT_S3_URI\\\\\\\"] = output_s3_uri\\\\n    os.environ[\\\\\\\"AWS_REGION\\\\\\\"] = aws_region\\\\n    print(f\\\\\\\"Preprocessing from {input_s3_uri} → {output_s3_uri}\\\\\\\")\\\\n    subprocess.run([\\\\\\\"python\\\\\\\", \\\\\\\"/app/preprocess/component.py\\\\\\\"], check=True)\\\\n\\\\n\\\"],\\\"image\\\":\\\"118730128420.dkr.ecr.us-east-1.amazonaws.com/yt-kfp-component:latest\\\"}\",\"pipelines.kubeflow.org/implementations-comp-train\":\"{\\\"args\\\":[\\\"--executor_input\\\",\\\"{{$}}\\\",\\\"--function_to_execute\\\",\\\"train\\\"],\\\"command\\\":[\\\"sh\\\",\\\"-c\\\",\\\"\\\\nif ! [ -x \\\\\\\"$(command -v pip)\\\\\\\" ]; then\\\\n    python3 -m ensurepip || python3 -m ensurepip --user || apt-get install python3-pip\\\\nfi\\\\n\\\\nPIP_DISABLE_PIP_VERSION_CHECK=1 python3 -m pip install --quiet --no-warn-script-location \'kfp==2.14.6\' \'--no-deps\' \'typing-extensions\\\\u003e=3.7.4,\\\\u003c5; python_version\\\\u003c\\\\\\\"3.9\\\\\\\"\' \\\\u0026\\\\u0026 \\\\\\\"$0\\\\\\\" \\\\\\\"$@\\\\\\\"\\\\n\\\",\\\"sh\\\",\\\"-ec\\\",\\\"program_path=$(mktemp -d)\\\\n\\\\nprintf \\\\\\\"%s\\\\\\\" \\\\\\\"$0\\\\\\\" \\\\u003e \\\\\\\"$program_path/ephemeral_component.py\\\\\\\"\\\\n_KFP_RUNTIME=true python3 -m kfp.dsl.executor_main                         --component_module_path                         \\\\\\\"$program_path/ephemeral_component.py\\\\\\\"                         \\\\\\\"$@\\\\\\\"\\\\n\\\",\\\"\\\\nimport kfp\\\\nfrom kfp import dsl\\\\nfrom kfp.dsl import *\\\\nfrom typing import *\\\\n\\\\ndef train(mlflow_uri: str, s3_bucket: str, model_name: str, aws_region: str):\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"Train sentiment model and log results to MLflow.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    import os, subprocess\\\\n    os.environ[\\\\\\\"MLFLOW_URI\\\\\\\"] = mlflow_uri\\\\n    os.environ[\\\\\\\"S3_BUCKET\\\\\\\"] = s3_bucket\\\\n    os.environ[\\\\\\\"MODEL_NAME\\\\\\\"] = model_name\\\\n    os.environ[\\\\\\\"AWS_REGION\\\\\\\"] = aws_region\\\\n    print(f\\\\\\\"Training model {model_name}, logging to {mlflow_uri}\\\\\\\")\\\\n    subprocess.run([\\\\\\\"python\\\\\\\", \\\\\\\"/app/train/component.py\\\\\\\"], check=True)\\\\n\\\\n\\\"],\\\"image\\\":\\\"118730128420.dkr.ecr.us-east-1.amazonaws.com/yt-kfp-component:latest\\\"}\",\"pipelines.kubeflow.org/run_name\":\"Run of youtube analyzer (d4ab6)\"},\"managedFields\":[{\"manager\":\"apiserver\",\"operation\":\"Update\",\"apiVersion\":\"argoproj.io/v1alpha1\",\"time\":\"2025-10-22T11:19:18Z\",\"fieldsType\":\"FieldsV1\",\"fieldsV1\":{\"f:metadata\":{\"f:annotations\":{\".\":{},\"f:pipelines.kubeflow.org/components-comp-preprocess\":{},\"f:pipelines.kubeflow.org/components-comp-train\":{},\"f:pipelines.kubeflow.org/components-root\":{},\"f:pipelines.kubeflow.org/implementations-comp-preprocess\":{},\"f:pipelines.kubeflow.org/implementations-comp-train\":{},\"f:pipelines.kubeflow.org/run_name\":{}},\"f:generateName\":{},\"f:labels\":{\".\":{},\"f:pipeline/runid\":{}}},\"f:spec\":{},\"f:status\":{}}}]},\"spec\":{\"templates\":[{\"name\":\"system-container-driver\",\"inputs\":{\"parameters\":[{\"name\":\"component\"},{\"name\":\"task\"},{\"name\":\"container\"},{\"name\":\"parent-dag-id\"},{\"name\":\"iteration-index\",\"default\":\"-1\"},{\"name\":\"kubernetes-config\",\"default\":\"\"}]},\"outputs\":{\"parameters\":[{\"name\":\"pod-spec-patch\",\"valueFrom\":{\"path\":\"/tmp/outputs/pod-spec-patch\",\"default\":\"\"}},{\"name\":\"cached-decision\",\"default\":\"false\",\"valueFrom\":{\"path\":\"/tmp/outputs/cached-decision\",\"default\":\"false\"}},{\"name\":\"condition\",\"valueFrom\":{\"path\":\"/tmp/outputs/condition\",\"default\":\"true\"}}]},\"metadata\":{\"annotations\":{\"sidecar.istio.io/inject\":\"false\"}},\"container\":{\"name\":\"\",\"image\":\"gcr.io/ml-pipeline/kfp-driver@sha256:0ce9bf20ac9cbb21e84ff0762d5ae508d21e9c85fde2b14b51363bd1b8cd7528\",\"command\":[\"driver\"],\"args\":[\"--type\",\"CONTAINER\",\"--pipeline_name\",\"yt-sentiment-pipeline-param\",\"--run_id\",\"a5dab52f-d267-44bb-8397-42780748fb1b\",\"--dag_execution_id\",\"{{inputs.parameters.parent-dag-id}}\",\"--component\",\"{{inputs.parameters.component}}\",\"--task\",\"{{inputs.parameters.task}}\",\"--container\",\"{{inputs.parameters.container}}\",\"--iteration_index\",\"{{inputs.parameters.iteration-index}}\",\"--cached_decision_path\",\"{{outputs.parameters.cached-decision.path}}\",\"--pod_spec_patch_path\",\"{{outputs.parameters.pod-spec-patch.path}}\",\"--condition_path\",\"{{outputs.parameters.condition.path}}\",\"--kubernetes_config\",\"{{inputs.parameters.kubernetes-config}}\"],\"resources\":{\"limits\":{\"cpu\":\"500m\",\"memory\":\"512Mi\"},\"requests\":{\"cpu\":\"100m\",\"memory\":\"64Mi\"}}}},{\"name\":\"system-container-executor\",\"inputs\":{\"parameters\":[{\"name\":\"pod-spec-patch\"},{\"name\":\"cached-decision\",\"default\":\"false\"}]},\"outputs\":{},\"metadata\":{\"annotations\":{\"sidecar.istio.io/inject\":\"false\"}},\"dag\":{\"tasks\":[{\"name\":\"executor\",\"template\":\"system-container-impl\",\"arguments\":{\"parameters\":[{\"name\":\"pod-spec-patch\",\"value\":\"{{inputs.parameters.pod-spec-patch}}\"}]},\"when\":\"{{inputs.parameters.cached-decision}} != true\"}]}},{\"name\":\"system-container-impl\",\"inputs\":{\"parameters\":[{\"name\":\"pod-spec-patch\"}]},\"outputs\":{},\"metadata\":{\"annotations\":{\"sidecar.istio.io/inject\":\"false\"}},\"container\":{\"name\":\"\",\"image\":\"gcr.io/ml-pipeline/should-be-overridden-during-runtime\",\"command\":[\"should-be-overridden-during-runtime\"],\"envFrom\":[{\"configMapRef\":{\"name\":\"metadata-grpc-configmap\",\"optional\":true}}],\"env\":[{\"name\":\"KFP_POD_NAME\",\"valueFrom\":{\"fieldRef\":{\"fieldPath\":\"metadata.name\"}}},{\"name\":\"KFP_POD_UID\",\"valueFrom\":{\"fieldRef\":{\"fieldPath\":\"metadata.uid\"}}}],\"resources\":{},\"volumeMounts\":[{\"name\":\"kfp-launcher\",\"mountPath\":\"/kfp-launcher\"}]},\"volumes\":[{\"name\":\"kfp-launcher\",\"emptyDir\":{}}],\"initContainers\":[{\"name\":\"kfp-launcher\",\"image\":\"gcr.io/ml-pipeline/kfp-launcher@sha256:80cf120abd125db84fa547640fd6386c4b2a26936e0c2b04a7d3634991a850a4\",\"command\":[\"launcher-v2\",\"--copy\",\"/kfp-launcher/launch\"],\"resources\":{\"limits\":{\"cpu\":\"500m\",\"memory\":\"128Mi\"},\"requests\":{\"cpu\":\"100m\"}},\"volumeMounts\":[{\"name\":\"kfp-launcher\",\"mountPath\":\"/kfp-launcher\"}]}],\"podSpecPatch\":\"{{inputs.parameters.pod-spec-patch}}\"},{\"name\":\"root\",\"inputs\":{\"parameters\":[{\"name\":\"parent-dag-id\"}]},\"outputs\":{},\"metadata\":{\"annotations\":{\"sidecar.istio.io/inject\":\"false\"}},\"dag\":{\"tasks\":[{\"name\":\"preprocess-driver\",\"template\":\"system-container-driver\",\"arguments\":{\"parameters\":[{\"name\":\"component\",\"value\":\"{{workflow.annotations.pipelines.kubeflow.org/components-comp-preprocess}}\"},{\"name\":\"task\",\"value\":\"{\\\"cachingOptions\\\":{\\\"enableCache\\\":true},\\\"componentRef\\\":{\\\"name\\\":\\\"comp-preprocess\\\"},\\\"inputs\\\":{\\\"parameters\\\":{\\\"aws_region\\\":{\\\"componentInputParameter\\\":\\\"AWS_REGION\\\"},\\\"input_s3_uri\\\":{\\\"componentInputParameter\\\":\\\"INPUT_S3_URI\\\"},\\\"output_s3_uri\\\":{\\\"componentInputParameter\\\":\\\"OUTPUT_S3_URI\\\"}}},\\\"taskInfo\\\":{\\\"name\\\":\\\"preprocess\\\"}}\"},{\"name\":\"container\",\"value\":\"{{workflow.annotations.pipelines.kubeflow.org/implementations-comp-preprocess}}\"},{\"name\":\"parent-dag-id\",\"value\":\"{{inputs.parameters.parent-dag-id}}\"}]}},{\"name\":\"preprocess\",\"template\":\"system-container-executor\",\"arguments\":{\"parameters\":[{\"name\":\"pod-spec-patch\",\"value\":\"{{tasks.preprocess-driver.outputs.parameters.pod-spec-patch}}\"},{\"name\":\"cached-decision\",\"default\":\"false\",\"value\":\"{{tasks.preprocess-driver.outputs.parameters.cached-decision}}\"}]},\"depends\":\"preprocess-driver.Succeeded\"},{\"name\":\"train-driver\",\"template\":\"system-container-driver\",\"arguments\":{\"parameters\":[{\"name\":\"component\",\"value\":\"{{workflow.annotations.pipelines.kubeflow.org/components-comp-train}}\"},{\"name\":\"task\",\"value\":\"{\\\"cachingOptions\\\":{\\\"enableCache\\\":true},\\\"componentRef\\\":{\\\"name\\\":\\\"comp-train\\\"},\\\"dependentTasks\\\":[\\\"preprocess\\\"],\\\"inputs\\\":{\\\"parameters\\\":{\\\"aws_region\\\":{\\\"componentInputParameter\\\":\\\"AWS_REGION\\\"},\\\"mlflow_uri\\\":{\\\"componentInputParameter\\\":\\\"MLFLOW_URI\\\"},\\\"model_name\\\":{\\\"componentInputParameter\\\":\\\"MODEL_NAME\\\"},\\\"s3_bucket\\\":{\\\"componentInputParameter\\\":\\\"S3_BUCKET\\\"}}},\\\"taskInfo\\\":{\\\"name\\\":\\\"train\\\"}}\"},{\"name\":\"container\",\"value\":\"{{workflow.annotations.pipelines.kubeflow.org/implementations-comp-train}}\"},{\"name\":\"parent-dag-id\",\"value\":\"{{inputs.parameters.parent-dag-id}}\"}]},\"depends\":\"preprocess.Succeeded\"},{\"name\":\"train\",\"template\":\"system-container-executor\",\"arguments\":{\"parameters\":[{\"name\":\"pod-spec-patch\",\"value\":\"{{tasks.train-driver.outputs.parameters.pod-spec-patch}}\"},{\"name\":\"cached-decision\",\"default\":\"false\",\"value\":\"{{tasks.train-driver.outputs.parameters.cached-decision}}\"}]},\"depends\":\"train-driver.Succeeded\"}]}},{\"name\":\"system-dag-driver\",\"inputs\":{\"parameters\":[{\"name\":\"component\"},{\"name\":\"runtime-config\",\"default\":\"\"},{\"name\":\"task\",\"default\":\"\"},{\"name\":\"parent-dag-id\",\"default\":\"0\"},{\"name\":\"iteration-index\",\"default\":\"-1\"},{\"name\":\"driver-type\",\"default\":\"DAG\"}]},\"outputs\":{\"parameters\":[{\"name\":\"execution-id\",\"valueFrom\":{\"path\":\"/tmp/outputs/execution-id\"}},{\"name\":\"iteration-count\",\"valueFrom\":{\"path\":\"/tmp/outputs/iteration-count\",\"default\":\"0\"}},{\"name\":\"condition\",\"valueFrom\":{\"path\":\"/tmp/outputs/condition\",\"default\":\"true\"}}]},\"metadata\":{\"annotations\":{\"sidecar.istio.io/inject\":\"false\"}},\"container\":{\"name\":\"\",\"image\":\"gcr.io/ml-pipeline/kfp-driver@sha256:0ce9bf20ac9cbb21e84ff0762d5ae508d21e9c85fde2b14b51363bd1b8cd7528\",\"command\":[\"driver\"],\"args\":[\"--type\",\"{{inputs.parameters.driver-type}}\",\"--pipeline_name\",\"yt-sentiment-pipeline-param\",\"--run_id\",\"a5dab52f-d267-44bb-8397-42780748fb1b\",\"--dag_execution_id\",\"{{inputs.parameters.parent-dag-id}}\",\"--component\",\"{{inputs.parameters.component}}\",\"--task\",\"{{inputs.parameters.task}}\",\"--runtime_config\",\"{{inputs.parameters.runtime-config}}\",\"--iteration_index\",\"{{inputs.parameters.iteration-index}}\",\"--execution_id_path\",\"{{outputs.parameters.execution-id.path}}\",\"--iteration_count_path\",\"{{outputs.parameters.iteration-count.path}}\",\"--condition_path\",\"{{outputs.parameters.condition.path}}\"],\"resources\":{\"limits\":{\"cpu\":\"500m\",\"memory\":\"512Mi\"},\"requests\":{\"cpu\":\"100m\",\"memory\":\"64Mi\"}}}},{\"name\":\"entrypoint\",\"inputs\":{},\"outputs\":{},\"metadata\":{\"annotations\":{\"sidecar.istio.io/inject\":\"false\"}},\"dag\":{\"tasks\":[{\"name\":\"root-driver\",\"template\":\"system-dag-driver\",\"arguments\":{\"parameters\":[{\"name\":\"component\",\"value\":\"{{workflow.annotations.pipelines.kubeflow.org/components-root}}\"},{\"name\":\"runtime-config\",\"value\":\"{\\\"parameterValues\\\":{\\\"AWS_REGION\\\":\\\"us-east-1\\\",\\\"INPUT_S3_URI\\\":\\\"s3://mlops-yt-artifacts-nandak-1760367211/datasets/raw.csv\\\",\\\"MLFLOW_URI\\\":\\\"http://mlflow-service.mlops.svc.cluster.local:5000\\\",\\\"MODEL_NAME\\\":\\\"distilbert-base-uncased\\\",\\\"OUTPUT_S3_URI\\\":\\\"s3://mlops-yt-artifacts-nandak-1760367211/datasets/cleaned.csv\\\",\\\"S3_BUCKET\\\":\\\"mlops-yt-artifacts-nandak-1760367211\\\"}}\"},{\"name\":\"driver-type\",\"value\":\"ROOT_DAG\"}]}},{\"name\":\"root\",\"template\":\"root\",\"arguments\":{\"parameters\":[{\"name\":\"parent-dag-id\",\"value\":\"{{tasks.root-driver.outputs.parameters.execution-id}}\"},{\"name\":\"condition\",\"value\":\"\"}]},\"depends\":\"root-driver.Succeeded\"}]}}],\"entrypoint\":\"entrypoint\",\"arguments\":{},\"serviceAccountName\":\"pipeline-runner\",\"podMetadata\":{\"annotations\":{\"pipelines.kubeflow.org/v2_component\":\"true\"},\"labels\":{\"pipeline/runid\":\"a5dab52f-d267-44bb-8397-42780748fb1b\",\"pipelines.kubeflow.org/v2_component\":\"true\"}}},\"status\":{\"startedAt\":null,\"finishedAt\":null}}','',0,0),('ae452c7b-5688-4685-bb54-48056b5d498a','Run of youtube analyzer (69f0b)','yt-sentiment-pipeline-param-xsbq6','','','73a102cf-474a-4691-a9be-b60ade3d5345','','AVAILABLE','pipeline-runner','fa9ea7ea-6814-4997-8ca3-854aa94cd3f6','db03cb2d-de9e-49c7-a41b-bb6ce4340f95','youtube analyzer','components:\n  comp-preprocess:\n    executorLabel: exec-preprocess\n    inputDefinitions:\n      parameters:\n        aws_region:\n          parameterType: STRING\n        input_s3_uri:\n          parameterType: STRING\n        output_s3_uri:\n          parameterType: STRING\n  comp-train:\n    executorLabel: exec-train\n    inputDefinitions:\n      parameters:\n        aws_region:\n          parameterType: STRING\n        mlflow_uri:\n          parameterType: STRING\n        model_name:\n          parameterType: STRING\n        s3_bucket:\n          parameterType: STRING\ndeploymentSpec:\n  executors:\n    exec-preprocess:\n      container:\n        args:\n        - --executor_input\n        - \'{{$}}\'\n        - --function_to_execute\n        - preprocess\n        command:\n        - sh\n        - -c\n        - |2\n\n          if ! [ -x \"$(command -v pip)\" ]; then\n              python3 -m ensurepip || python3 -m ensurepip --user || apt-get install python3-pip\n          fi\n\n          PIP_DISABLE_PIP_VERSION_CHECK=1 python3 -m pip install --quiet --no-warn-script-location \'kfp==2.14.6\' \'--no-deps\' \'typing-extensions>=3.7.4,<5; python_version<\"3.9\"\' && \"$0\" \"$@\"\n        - sh\n        - -ec\n        - |\n          program_path=$(mktemp -d)\n\n          printf \"%s\" \"$0\" > \"$program_path/ephemeral_component.py\"\n          _KFP_RUNTIME=true python3 -m kfp.dsl.executor_main                         --component_module_path                         \"$program_path/ephemeral_component.py\"                         \"$@\"\n        - |2+\n\n          import kfp\n          from kfp import dsl\n          from kfp.dsl import *\n          from typing import *\n\n          def preprocess(input_s3_uri: str, output_s3_uri: str, aws_region: str):\n              \"\"\"Preprocess YouTube comments and upload cleaned data to S3.\"\"\"\n              import os, subprocess\n              os.environ[\"INPUT_S3_URI\"] = input_s3_uri\n              os.environ[\"OUTPUT_S3_URI\"] = output_s3_uri\n              os.environ[\"AWS_REGION\"] = aws_region\n              print(f\"Preprocessing from {input_s3_uri} → {output_s3_uri}\")\n              subprocess.run([\"python\", \"/app/preprocess/component.py\"], check=True)\n\n        image: 118730128420.dkr.ecr.us-east-1.amazonaws.com/yt-kfp-component:latest\n    exec-train:\n      container:\n        args:\n        - --executor_input\n        - \'{{$}}\'\n        - --function_to_execute\n        - train\n        command:\n        - sh\n        - -c\n        - |2\n\n          if ! [ -x \"$(command -v pip)\" ]; then\n              python3 -m ensurepip || python3 -m ensurepip --user || apt-get install python3-pip\n          fi\n\n          PIP_DISABLE_PIP_VERSION_CHECK=1 python3 -m pip install --quiet --no-warn-script-location \'kfp==2.14.6\' \'--no-deps\' \'typing-extensions>=3.7.4,<5; python_version<\"3.9\"\' && \"$0\" \"$@\"\n        - sh\n        - -ec\n        - |\n          program_path=$(mktemp -d)\n\n          printf \"%s\" \"$0\" > \"$program_path/ephemeral_component.py\"\n          _KFP_RUNTIME=true python3 -m kfp.dsl.executor_main                         --component_module_path                         \"$program_path/ephemeral_component.py\"                         \"$@\"\n        - |2+\n\n          import kfp\n          from kfp import dsl\n          from kfp.dsl import *\n          from typing import *\n\n          def train(mlflow_uri: str, s3_bucket: str, model_name: str, aws_region: str):\n              \"\"\"Train sentiment model and log results to MLflow.\"\"\"\n              import os, subprocess\n              os.environ[\"MLFLOW_URI\"] = mlflow_uri\n              os.environ[\"S3_BUCKET\"] = s3_bucket\n              os.environ[\"MODEL_NAME\"] = model_name\n              os.environ[\"AWS_REGION\"] = aws_region\n              print(f\"Training model {model_name}, logging to {mlflow_uri}\")\n              subprocess.run([\"python\", \"/app/train/component.py\"], check=True)\n\n        image: 118730128420.dkr.ecr.us-east-1.amazonaws.com/yt-kfp-component:latest\npipelineInfo:\n  description: YouTube Sentiment Analyzer pipeline using MLflow + S3 + EKS\n  name: yt-sentiment-pipeline-param\nroot:\n  dag:\n    tasks:\n      preprocess:\n        cachingOptions:\n          enableCache: true\n        componentRef:\n          name: comp-preprocess\n        inputs:\n          parameters:\n            aws_region:\n              componentInputParameter: AWS_REGION\n            input_s3_uri:\n              componentInputParameter: INPUT_S3_URI\n            output_s3_uri:\n              componentInputParameter: OUTPUT_S3_URI\n        taskInfo:\n          name: preprocess\n      train:\n        cachingOptions:\n          enableCache: true\n        componentRef:\n          name: comp-train\n        dependentTasks:\n        - preprocess\n        inputs:\n          parameters:\n            aws_region:\n              componentInputParameter: AWS_REGION\n            mlflow_uri:\n              componentInputParameter: MLFLOW_URI\n            model_name:\n              componentInputParameter: MODEL_NAME\n            s3_bucket:\n              componentInputParameter: S3_BUCKET\n        taskInfo:\n          name: train\n  inputDefinitions:\n    parameters:\n      AWS_REGION:\n        defaultValue: us-east-1\n        isOptional: true\n        parameterType: STRING\n      INPUT_S3_URI:\n        defaultValue: s3://mlops-yt-artifacts-nandak-1760367211/datasets/raw.csv\n        isOptional: true\n        parameterType: STRING\n      MLFLOW_URI:\n        defaultValue: http://mlflow-service.mlops.svc.cluster.local:5000\n        isOptional: true\n        parameterType: STRING\n      MODEL_NAME:\n        defaultValue: distilbert-base-uncased\n        isOptional: true\n        parameterType: STRING\n      OUTPUT_S3_URI:\n        defaultValue: s3://mlops-yt-artifacts-nandak-1760367211/datasets/cleaned.csv\n        isOptional: true\n        parameterType: STRING\n      S3_BUCKET:\n        defaultValue: mlops-yt-artifacts-nandak-1760367211\n        isOptional: true\n        parameterType: STRING\nschemaVersion: 2.1.0\nsdkVersion: kfp-2.14.6\n','','','{\"AWS_REGION\":\"us-east-1\",\"INPUT_S3_URI\":\"s3://mlops-yt-artifacts-nandak-1760367211/datasets/youtube_comments_X29X1BnAppM_20251014T134602Z.csv\",\"MLFLOW_URI\":\"http://mlflow-service.mlops.svc.cluster.local:5000\",\"MODEL_NAME\":\"distilbert-base-uncased\",\"OUTPUT_S3_URI\":\"s3://mlops-yt-artifacts-nandak-1760367211/datasets/cleaned.csv\",\"S3_BUCKET\":\"mlops-yt-artifacts-nandak-1760367211\"}','',1761139089,1761139089,0,'Pending','PENDING','[{\"UpdateTimeInSec\":1761139089,\"State\":\"PENDING\"}]','{\"metadata\":{\"name\":\"yt-sentiment-pipeline-param-xsbq6\",\"generateName\":\"yt-sentiment-pipeline-param-\",\"namespace\":\"kubeflow\",\"uid\":\"58d46dfb-22f7-4087-bf71-6bdd3ee9bc26\",\"resourceVersion\":\"2478908\",\"generation\":1,\"creationTimestamp\":\"2025-10-22T13:18:09Z\",\"labels\":{\"pipeline/runid\":\"ae452c7b-5688-4685-bb54-48056b5d498a\"},\"annotations\":{\"pipelines.kubeflow.org/components-comp-preprocess\":\"{\\\"executorLabel\\\":\\\"exec-preprocess\\\",\\\"inputDefinitions\\\":{\\\"parameters\\\":{\\\"aws_region\\\":{\\\"parameterType\\\":\\\"STRING\\\"},\\\"input_s3_uri\\\":{\\\"parameterType\\\":\\\"STRING\\\"},\\\"output_s3_uri\\\":{\\\"parameterType\\\":\\\"STRING\\\"}}}}\",\"pipelines.kubeflow.org/components-comp-train\":\"{\\\"executorLabel\\\":\\\"exec-train\\\",\\\"inputDefinitions\\\":{\\\"parameters\\\":{\\\"aws_region\\\":{\\\"parameterType\\\":\\\"STRING\\\"},\\\"mlflow_uri\\\":{\\\"parameterType\\\":\\\"STRING\\\"},\\\"model_name\\\":{\\\"parameterType\\\":\\\"STRING\\\"},\\\"s3_bucket\\\":{\\\"parameterType\\\":\\\"STRING\\\"}}}}\",\"pipelines.kubeflow.org/components-root\":\"{\\\"dag\\\":{\\\"tasks\\\":{\\\"preprocess\\\":{\\\"cachingOptions\\\":{\\\"enableCache\\\":true},\\\"componentRef\\\":{\\\"name\\\":\\\"comp-preprocess\\\"},\\\"inputs\\\":{\\\"parameters\\\":{\\\"aws_region\\\":{\\\"componentInputParameter\\\":\\\"AWS_REGION\\\"},\\\"input_s3_uri\\\":{\\\"componentInputParameter\\\":\\\"INPUT_S3_URI\\\"},\\\"output_s3_uri\\\":{\\\"componentInputParameter\\\":\\\"OUTPUT_S3_URI\\\"}}},\\\"taskInfo\\\":{\\\"name\\\":\\\"preprocess\\\"}},\\\"train\\\":{\\\"cachingOptions\\\":{\\\"enableCache\\\":true},\\\"componentRef\\\":{\\\"name\\\":\\\"comp-train\\\"},\\\"dependentTasks\\\":[\\\"preprocess\\\"],\\\"inputs\\\":{\\\"parameters\\\":{\\\"aws_region\\\":{\\\"componentInputParameter\\\":\\\"AWS_REGION\\\"},\\\"mlflow_uri\\\":{\\\"componentInputParameter\\\":\\\"MLFLOW_URI\\\"},\\\"model_name\\\":{\\\"componentInputParameter\\\":\\\"MODEL_NAME\\\"},\\\"s3_bucket\\\":{\\\"componentInputParameter\\\":\\\"S3_BUCKET\\\"}}},\\\"taskInfo\\\":{\\\"name\\\":\\\"train\\\"}}}},\\\"inputDefinitions\\\":{\\\"parameters\\\":{\\\"AWS_REGION\\\":{\\\"defaultValue\\\":\\\"us-east-1\\\",\\\"isOptional\\\":true,\\\"parameterType\\\":\\\"STRING\\\"},\\\"INPUT_S3_URI\\\":{\\\"defaultValue\\\":\\\"s3://mlops-yt-artifacts-nandak-1760367211/datasets/raw.csv\\\",\\\"isOptional\\\":true,\\\"parameterType\\\":\\\"STRING\\\"},\\\"MLFLOW_URI\\\":{\\\"defaultValue\\\":\\\"http://mlflow-service.mlops.svc.cluster.local:5000\\\",\\\"isOptional\\\":true,\\\"parameterType\\\":\\\"STRING\\\"},\\\"MODEL_NAME\\\":{\\\"defaultValue\\\":\\\"distilbert-base-uncased\\\",\\\"isOptional\\\":true,\\\"parameterType\\\":\\\"STRING\\\"},\\\"OUTPUT_S3_URI\\\":{\\\"defaultValue\\\":\\\"s3://mlops-yt-artifacts-nandak-1760367211/datasets/cleaned.csv\\\",\\\"isOptional\\\":true,\\\"parameterType\\\":\\\"STRING\\\"},\\\"S3_BUCKET\\\":{\\\"defaultValue\\\":\\\"mlops-yt-artifacts-nandak-1760367211\\\",\\\"isOptional\\\":true,\\\"parameterType\\\":\\\"STRING\\\"}}}}\",\"pipelines.kubeflow.org/implementations-comp-preprocess\":\"{\\\"args\\\":[\\\"--executor_input\\\",\\\"{{$}}\\\",\\\"--function_to_execute\\\",\\\"preprocess\\\"],\\\"command\\\":[\\\"sh\\\",\\\"-c\\\",\\\"\\\\nif ! [ -x \\\\\\\"$(command -v pip)\\\\\\\" ]; then\\\\n    python3 -m ensurepip || python3 -m ensurepip --user || apt-get install python3-pip\\\\nfi\\\\n\\\\nPIP_DISABLE_PIP_VERSION_CHECK=1 python3 -m pip install --quiet --no-warn-script-location \'kfp==2.14.6\' \'--no-deps\' \'typing-extensions\\\\u003e=3.7.4,\\\\u003c5; python_version\\\\u003c\\\\\\\"3.9\\\\\\\"\' \\\\u0026\\\\u0026 \\\\\\\"$0\\\\\\\" \\\\\\\"$@\\\\\\\"\\\\n\\\",\\\"sh\\\",\\\"-ec\\\",\\\"program_path=$(mktemp -d)\\\\n\\\\nprintf \\\\\\\"%s\\\\\\\" \\\\\\\"$0\\\\\\\" \\\\u003e \\\\\\\"$program_path/ephemeral_component.py\\\\\\\"\\\\n_KFP_RUNTIME=true python3 -m kfp.dsl.executor_main                         --component_module_path                         \\\\\\\"$program_path/ephemeral_component.py\\\\\\\"                         \\\\\\\"$@\\\\\\\"\\\\n\\\",\\\"\\\\nimport kfp\\\\nfrom kfp import dsl\\\\nfrom kfp.dsl import *\\\\nfrom typing import *\\\\n\\\\ndef preprocess(input_s3_uri: str, output_s3_uri: str, aws_region: str):\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"Preprocess YouTube comments and upload cleaned data to S3.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    import os, subprocess\\\\n    os.environ[\\\\\\\"INPUT_S3_URI\\\\\\\"] = input_s3_uri\\\\n    os.environ[\\\\\\\"OUTPUT_S3_URI\\\\\\\"] = output_s3_uri\\\\n    os.environ[\\\\\\\"AWS_REGION\\\\\\\"] = aws_region\\\\n    print(f\\\\\\\"Preprocessing from {input_s3_uri} → {output_s3_uri}\\\\\\\")\\\\n    subprocess.run([\\\\\\\"python\\\\\\\", \\\\\\\"/app/preprocess/component.py\\\\\\\"], check=True)\\\\n\\\\n\\\"],\\\"image\\\":\\\"118730128420.dkr.ecr.us-east-1.amazonaws.com/yt-kfp-component:latest\\\"}\",\"pipelines.kubeflow.org/implementations-comp-train\":\"{\\\"args\\\":[\\\"--executor_input\\\",\\\"{{$}}\\\",\\\"--function_to_execute\\\",\\\"train\\\"],\\\"command\\\":[\\\"sh\\\",\\\"-c\\\",\\\"\\\\nif ! [ -x \\\\\\\"$(command -v pip)\\\\\\\" ]; then\\\\n    python3 -m ensurepip || python3 -m ensurepip --user || apt-get install python3-pip\\\\nfi\\\\n\\\\nPIP_DISABLE_PIP_VERSION_CHECK=1 python3 -m pip install --quiet --no-warn-script-location \'kfp==2.14.6\' \'--no-deps\' \'typing-extensions\\\\u003e=3.7.4,\\\\u003c5; python_version\\\\u003c\\\\\\\"3.9\\\\\\\"\' \\\\u0026\\\\u0026 \\\\\\\"$0\\\\\\\" \\\\\\\"$@\\\\\\\"\\\\n\\\",\\\"sh\\\",\\\"-ec\\\",\\\"program_path=$(mktemp -d)\\\\n\\\\nprintf \\\\\\\"%s\\\\\\\" \\\\\\\"$0\\\\\\\" \\\\u003e \\\\\\\"$program_path/ephemeral_component.py\\\\\\\"\\\\n_KFP_RUNTIME=true python3 -m kfp.dsl.executor_main                         --component_module_path                         \\\\\\\"$program_path/ephemeral_component.py\\\\\\\"                         \\\\\\\"$@\\\\\\\"\\\\n\\\",\\\"\\\\nimport kfp\\\\nfrom kfp import dsl\\\\nfrom kfp.dsl import *\\\\nfrom typing import *\\\\n\\\\ndef train(mlflow_uri: str, s3_bucket: str, model_name: str, aws_region: str):\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"Train sentiment model and log results to MLflow.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    import os, subprocess\\\\n    os.environ[\\\\\\\"MLFLOW_URI\\\\\\\"] = mlflow_uri\\\\n    os.environ[\\\\\\\"S3_BUCKET\\\\\\\"] = s3_bucket\\\\n    os.environ[\\\\\\\"MODEL_NAME\\\\\\\"] = model_name\\\\n    os.environ[\\\\\\\"AWS_REGION\\\\\\\"] = aws_region\\\\n    print(f\\\\\\\"Training model {model_name}, logging to {mlflow_uri}\\\\\\\")\\\\n    subprocess.run([\\\\\\\"python\\\\\\\", \\\\\\\"/app/train/component.py\\\\\\\"], check=True)\\\\n\\\\n\\\"],\\\"image\\\":\\\"118730128420.dkr.ecr.us-east-1.amazonaws.com/yt-kfp-component:latest\\\"}\",\"pipelines.kubeflow.org/run_name\":\"Run of youtube analyzer (69f0b)\"},\"managedFields\":[{\"manager\":\"apiserver\",\"operation\":\"Update\",\"apiVersion\":\"argoproj.io/v1alpha1\",\"time\":\"2025-10-22T13:18:09Z\",\"fieldsType\":\"FieldsV1\",\"fieldsV1\":{\"f:metadata\":{\"f:annotations\":{\".\":{},\"f:pipelines.kubeflow.org/components-comp-preprocess\":{},\"f:pipelines.kubeflow.org/components-comp-train\":{},\"f:pipelines.kubeflow.org/components-root\":{},\"f:pipelines.kubeflow.org/implementations-comp-preprocess\":{},\"f:pipelines.kubeflow.org/implementations-comp-train\":{},\"f:pipelines.kubeflow.org/run_name\":{}},\"f:generateName\":{},\"f:labels\":{\".\":{},\"f:pipeline/runid\":{}}},\"f:spec\":{},\"f:status\":{}}}]},\"spec\":{\"templates\":[{\"name\":\"system-container-driver\",\"inputs\":{\"parameters\":[{\"name\":\"component\"},{\"name\":\"task\"},{\"name\":\"container\"},{\"name\":\"parent-dag-id\"},{\"name\":\"iteration-index\",\"default\":\"-1\"},{\"name\":\"kubernetes-config\",\"default\":\"\"}]},\"outputs\":{\"parameters\":[{\"name\":\"pod-spec-patch\",\"valueFrom\":{\"path\":\"/tmp/outputs/pod-spec-patch\",\"default\":\"\"}},{\"name\":\"cached-decision\",\"default\":\"false\",\"valueFrom\":{\"path\":\"/tmp/outputs/cached-decision\",\"default\":\"false\"}},{\"name\":\"condition\",\"valueFrom\":{\"path\":\"/tmp/outputs/condition\",\"default\":\"true\"}}]},\"metadata\":{\"annotations\":{\"sidecar.istio.io/inject\":\"false\"}},\"container\":{\"name\":\"\",\"image\":\"gcr.io/ml-pipeline/kfp-driver@sha256:0ce9bf20ac9cbb21e84ff0762d5ae508d21e9c85fde2b14b51363bd1b8cd7528\",\"command\":[\"driver\"],\"args\":[\"--type\",\"CONTAINER\",\"--pipeline_name\",\"yt-sentiment-pipeline-param\",\"--run_id\",\"ae452c7b-5688-4685-bb54-48056b5d498a\",\"--dag_execution_id\",\"{{inputs.parameters.parent-dag-id}}\",\"--component\",\"{{inputs.parameters.component}}\",\"--task\",\"{{inputs.parameters.task}}\",\"--container\",\"{{inputs.parameters.container}}\",\"--iteration_index\",\"{{inputs.parameters.iteration-index}}\",\"--cached_decision_path\",\"{{outputs.parameters.cached-decision.path}}\",\"--pod_spec_patch_path\",\"{{outputs.parameters.pod-spec-patch.path}}\",\"--condition_path\",\"{{outputs.parameters.condition.path}}\",\"--kubernetes_config\",\"{{inputs.parameters.kubernetes-config}}\"],\"resources\":{\"limits\":{\"cpu\":\"500m\",\"memory\":\"512Mi\"},\"requests\":{\"cpu\":\"100m\",\"memory\":\"64Mi\"}}}},{\"name\":\"system-container-executor\",\"inputs\":{\"parameters\":[{\"name\":\"pod-spec-patch\"},{\"name\":\"cached-decision\",\"default\":\"false\"}]},\"outputs\":{},\"metadata\":{\"annotations\":{\"sidecar.istio.io/inject\":\"false\"}},\"dag\":{\"tasks\":[{\"name\":\"executor\",\"template\":\"system-container-impl\",\"arguments\":{\"parameters\":[{\"name\":\"pod-spec-patch\",\"value\":\"{{inputs.parameters.pod-spec-patch}}\"}]},\"when\":\"{{inputs.parameters.cached-decision}} != true\"}]}},{\"name\":\"system-container-impl\",\"inputs\":{\"parameters\":[{\"name\":\"pod-spec-patch\"}]},\"outputs\":{},\"metadata\":{\"annotations\":{\"sidecar.istio.io/inject\":\"false\"}},\"container\":{\"name\":\"\",\"image\":\"gcr.io/ml-pipeline/should-be-overridden-during-runtime\",\"command\":[\"should-be-overridden-during-runtime\"],\"envFrom\":[{\"configMapRef\":{\"name\":\"metadata-grpc-configmap\",\"optional\":true}}],\"env\":[{\"name\":\"KFP_POD_NAME\",\"valueFrom\":{\"fieldRef\":{\"fieldPath\":\"metadata.name\"}}},{\"name\":\"KFP_POD_UID\",\"valueFrom\":{\"fieldRef\":{\"fieldPath\":\"metadata.uid\"}}}],\"resources\":{},\"volumeMounts\":[{\"name\":\"kfp-launcher\",\"mountPath\":\"/kfp-launcher\"}]},\"volumes\":[{\"name\":\"kfp-launcher\",\"emptyDir\":{}}],\"initContainers\":[{\"name\":\"kfp-launcher\",\"image\":\"gcr.io/ml-pipeline/kfp-launcher@sha256:80cf120abd125db84fa547640fd6386c4b2a26936e0c2b04a7d3634991a850a4\",\"command\":[\"launcher-v2\",\"--copy\",\"/kfp-launcher/launch\"],\"resources\":{\"limits\":{\"cpu\":\"500m\",\"memory\":\"128Mi\"},\"requests\":{\"cpu\":\"100m\"}},\"volumeMounts\":[{\"name\":\"kfp-launcher\",\"mountPath\":\"/kfp-launcher\"}]}],\"podSpecPatch\":\"{{inputs.parameters.pod-spec-patch}}\"},{\"name\":\"root\",\"inputs\":{\"parameters\":[{\"name\":\"parent-dag-id\"}]},\"outputs\":{},\"metadata\":{\"annotations\":{\"sidecar.istio.io/inject\":\"false\"}},\"dag\":{\"tasks\":[{\"name\":\"preprocess-driver\",\"template\":\"system-container-driver\",\"arguments\":{\"parameters\":[{\"name\":\"component\",\"value\":\"{{workflow.annotations.pipelines.kubeflow.org/components-comp-preprocess}}\"},{\"name\":\"task\",\"value\":\"{\\\"cachingOptions\\\":{\\\"enableCache\\\":true},\\\"componentRef\\\":{\\\"name\\\":\\\"comp-preprocess\\\"},\\\"inputs\\\":{\\\"parameters\\\":{\\\"aws_region\\\":{\\\"componentInputParameter\\\":\\\"AWS_REGION\\\"},\\\"input_s3_uri\\\":{\\\"componentInputParameter\\\":\\\"INPUT_S3_URI\\\"},\\\"output_s3_uri\\\":{\\\"componentInputParameter\\\":\\\"OUTPUT_S3_URI\\\"}}},\\\"taskInfo\\\":{\\\"name\\\":\\\"preprocess\\\"}}\"},{\"name\":\"container\",\"value\":\"{{workflow.annotations.pipelines.kubeflow.org/implementations-comp-preprocess}}\"},{\"name\":\"parent-dag-id\",\"value\":\"{{inputs.parameters.parent-dag-id}}\"}]}},{\"name\":\"preprocess\",\"template\":\"system-container-executor\",\"arguments\":{\"parameters\":[{\"name\":\"pod-spec-patch\",\"value\":\"{{tasks.preprocess-driver.outputs.parameters.pod-spec-patch}}\"},{\"name\":\"cached-decision\",\"default\":\"false\",\"value\":\"{{tasks.preprocess-driver.outputs.parameters.cached-decision}}\"}]},\"depends\":\"preprocess-driver.Succeeded\"},{\"name\":\"train-driver\",\"template\":\"system-container-driver\",\"arguments\":{\"parameters\":[{\"name\":\"component\",\"value\":\"{{workflow.annotations.pipelines.kubeflow.org/components-comp-train}}\"},{\"name\":\"task\",\"value\":\"{\\\"cachingOptions\\\":{\\\"enableCache\\\":true},\\\"componentRef\\\":{\\\"name\\\":\\\"comp-train\\\"},\\\"dependentTasks\\\":[\\\"preprocess\\\"],\\\"inputs\\\":{\\\"parameters\\\":{\\\"aws_region\\\":{\\\"componentInputParameter\\\":\\\"AWS_REGION\\\"},\\\"mlflow_uri\\\":{\\\"componentInputParameter\\\":\\\"MLFLOW_URI\\\"},\\\"model_name\\\":{\\\"componentInputParameter\\\":\\\"MODEL_NAME\\\"},\\\"s3_bucket\\\":{\\\"componentInputParameter\\\":\\\"S3_BUCKET\\\"}}},\\\"taskInfo\\\":{\\\"name\\\":\\\"train\\\"}}\"},{\"name\":\"container\",\"value\":\"{{workflow.annotations.pipelines.kubeflow.org/implementations-comp-train}}\"},{\"name\":\"parent-dag-id\",\"value\":\"{{inputs.parameters.parent-dag-id}}\"}]},\"depends\":\"preprocess.Succeeded\"},{\"name\":\"train\",\"template\":\"system-container-executor\",\"arguments\":{\"parameters\":[{\"name\":\"pod-spec-patch\",\"value\":\"{{tasks.train-driver.outputs.parameters.pod-spec-patch}}\"},{\"name\":\"cached-decision\",\"default\":\"false\",\"value\":\"{{tasks.train-driver.outputs.parameters.cached-decision}}\"}]},\"depends\":\"train-driver.Succeeded\"}]}},{\"name\":\"system-dag-driver\",\"inputs\":{\"parameters\":[{\"name\":\"component\"},{\"name\":\"runtime-config\",\"default\":\"\"},{\"name\":\"task\",\"default\":\"\"},{\"name\":\"parent-dag-id\",\"default\":\"0\"},{\"name\":\"iteration-index\",\"default\":\"-1\"},{\"name\":\"driver-type\",\"default\":\"DAG\"}]},\"outputs\":{\"parameters\":[{\"name\":\"execution-id\",\"valueFrom\":{\"path\":\"/tmp/outputs/execution-id\"}},{\"name\":\"iteration-count\",\"valueFrom\":{\"path\":\"/tmp/outputs/iteration-count\",\"default\":\"0\"}},{\"name\":\"condition\",\"valueFrom\":{\"path\":\"/tmp/outputs/condition\",\"default\":\"true\"}}]},\"metadata\":{\"annotations\":{\"sidecar.istio.io/inject\":\"false\"}},\"container\":{\"name\":\"\",\"image\":\"gcr.io/ml-pipeline/kfp-driver@sha256:0ce9bf20ac9cbb21e84ff0762d5ae508d21e9c85fde2b14b51363bd1b8cd7528\",\"command\":[\"driver\"],\"args\":[\"--type\",\"{{inputs.parameters.driver-type}}\",\"--pipeline_name\",\"yt-sentiment-pipeline-param\",\"--run_id\",\"ae452c7b-5688-4685-bb54-48056b5d498a\",\"--dag_execution_id\",\"{{inputs.parameters.parent-dag-id}}\",\"--component\",\"{{inputs.parameters.component}}\",\"--task\",\"{{inputs.parameters.task}}\",\"--runtime_config\",\"{{inputs.parameters.runtime-config}}\",\"--iteration_index\",\"{{inputs.parameters.iteration-index}}\",\"--execution_id_path\",\"{{outputs.parameters.execution-id.path}}\",\"--iteration_count_path\",\"{{outputs.parameters.iteration-count.path}}\",\"--condition_path\",\"{{outputs.parameters.condition.path}}\"],\"resources\":{\"limits\":{\"cpu\":\"500m\",\"memory\":\"512Mi\"},\"requests\":{\"cpu\":\"100m\",\"memory\":\"64Mi\"}}}},{\"name\":\"entrypoint\",\"inputs\":{},\"outputs\":{},\"metadata\":{\"annotations\":{\"sidecar.istio.io/inject\":\"false\"}},\"dag\":{\"tasks\":[{\"name\":\"root-driver\",\"template\":\"system-dag-driver\",\"arguments\":{\"parameters\":[{\"name\":\"component\",\"value\":\"{{workflow.annotations.pipelines.kubeflow.org/components-root}}\"},{\"name\":\"runtime-config\",\"value\":\"{\\\"parameterValues\\\":{\\\"AWS_REGION\\\":\\\"us-east-1\\\",\\\"INPUT_S3_URI\\\":\\\"s3://mlops-yt-artifacts-nandak-1760367211/datasets/youtube_comments_X29X1BnAppM_20251014T134602Z.csv\\\",\\\"MLFLOW_URI\\\":\\\"http://mlflow-service.mlops.svc.cluster.local:5000\\\",\\\"MODEL_NAME\\\":\\\"distilbert-base-uncased\\\",\\\"OUTPUT_S3_URI\\\":\\\"s3://mlops-yt-artifacts-nandak-1760367211/datasets/cleaned.csv\\\",\\\"S3_BUCKET\\\":\\\"mlops-yt-artifacts-nandak-1760367211\\\"}}\"},{\"name\":\"driver-type\",\"value\":\"ROOT_DAG\"}]}},{\"name\":\"root\",\"template\":\"root\",\"arguments\":{\"parameters\":[{\"name\":\"parent-dag-id\",\"value\":\"{{tasks.root-driver.outputs.parameters.execution-id}}\"},{\"name\":\"condition\",\"value\":\"\"}]},\"depends\":\"root-driver.Succeeded\"}]}}],\"entrypoint\":\"entrypoint\",\"arguments\":{},\"serviceAccountName\":\"pipeline-runner\",\"podMetadata\":{\"annotations\":{\"pipelines.kubeflow.org/v2_component\":\"true\"},\"labels\":{\"pipeline/runid\":\"ae452c7b-5688-4685-bb54-48056b5d498a\",\"pipelines.kubeflow.org/v2_component\":\"true\"}}},\"status\":{\"startedAt\":null,\"finishedAt\":null}}','',0,0),('f80322ba-a2c5-45cb-a4cd-437eb3e4317a','Run of youtube analyzer_version_at_2025-10-17T05:56:40.890Z (03fa8)','yt-sentiment-pipeline-param-phnbf','','','73a102cf-474a-4691-a9be-b60ade3d5345','','AVAILABLE','pipeline-runner','fa9ea7ea-6814-4997-8ca3-854aa94cd3f6','a30643fe-c1fa-4459-a798-8f64968cc3f4','youtube analyzer_version_at_2025-10-17T05:56:40.890Z','components:\n  comp-preprocess:\n    executorLabel: exec-preprocess\n    inputDefinitions:\n      parameters:\n        aws_region:\n          parameterType: STRING\n        input_s3_uri:\n          parameterType: STRING\n        output_s3_uri:\n          parameterType: STRING\n  comp-train:\n    executorLabel: exec-train\n    inputDefinitions:\n      parameters:\n        aws_region:\n          parameterType: STRING\n        mlflow_uri:\n          parameterType: STRING\n        model_name:\n          parameterType: STRING\n        s3_bucket:\n          parameterType: STRING\ndeploymentSpec:\n  executors:\n    exec-preprocess:\n      container:\n        args:\n        - --executor_input\n        - \'{{$}}\'\n        - --function_to_execute\n        - preprocess\n        command:\n        - sh\n        - -c\n        - |2\n\n          if ! [ -x \"$(command -v pip)\" ]; then\n              python3 -m ensurepip || python3 -m ensurepip --user || apt-get install python3-pip\n          fi\n\n          PIP_DISABLE_PIP_VERSION_CHECK=1 python3 -m pip install --quiet --no-warn-script-location \'kfp==2.14.6\' \'--no-deps\' \'typing-extensions>=3.7.4,<5; python_version<\"3.9\"\' && \"$0\" \"$@\"\n        - sh\n        - -ec\n        - |\n          program_path=$(mktemp -d)\n\n          printf \"%s\" \"$0\" > \"$program_path/ephemeral_component.py\"\n          _KFP_RUNTIME=true python3 -m kfp.dsl.executor_main                         --component_module_path                         \"$program_path/ephemeral_component.py\"                         \"$@\"\n        - |2+\n\n          import kfp\n          from kfp import dsl\n          from kfp.dsl import *\n          from typing import *\n\n          def preprocess(input_s3_uri: str, output_s3_uri: str, aws_region: str):\n              \"\"\"Preprocess YouTube comments and upload cleaned data to S3.\"\"\"\n              import os, subprocess\n              os.environ[\"INPUT_S3_URI\"] = input_s3_uri\n              os.environ[\"OUTPUT_S3_URI\"] = output_s3_uri\n              os.environ[\"AWS_REGION\"] = aws_region\n              print(f\"Preprocessing from {input_s3_uri} → {output_s3_uri}\")\n              subprocess.run([\"python\", \"/app/preprocess/component.py\"], check=True)\n\n        image: 118730128420.dkr.ecr.us-east-1.amazonaws.com/yt-kfp-component:latest\n    exec-train:\n      container:\n        args:\n        - --executor_input\n        - \'{{$}}\'\n        - --function_to_execute\n        - train\n        command:\n        - sh\n        - -c\n        - |2\n\n          if ! [ -x \"$(command -v pip)\" ]; then\n              python3 -m ensurepip || python3 -m ensurepip --user || apt-get install python3-pip\n          fi\n\n          PIP_DISABLE_PIP_VERSION_CHECK=1 python3 -m pip install --quiet --no-warn-script-location \'kfp==2.14.6\' \'--no-deps\' \'typing-extensions>=3.7.4,<5; python_version<\"3.9\"\' && \"$0\" \"$@\"\n        - sh\n        - -ec\n        - |\n          program_path=$(mktemp -d)\n\n          printf \"%s\" \"$0\" > \"$program_path/ephemeral_component.py\"\n          _KFP_RUNTIME=true python3 -m kfp.dsl.executor_main                         --component_module_path                         \"$program_path/ephemeral_component.py\"                         \"$@\"\n        - |2+\n\n          import kfp\n          from kfp import dsl\n          from kfp.dsl import *\n          from typing import *\n\n          def train(mlflow_uri: str, s3_bucket: str, model_name: str, aws_region: str):\n              \"\"\"Train sentiment model and log results to MLflow.\"\"\"\n              import os, subprocess\n              os.environ[\"MLFLOW_URI\"] = mlflow_uri\n              os.environ[\"S3_BUCKET\"] = s3_bucket\n              os.environ[\"MODEL_NAME\"] = model_name\n              os.environ[\"AWS_REGION\"] = aws_region\n              print(f\"Training model {model_name}, logging to {mlflow_uri}\")\n              subprocess.run([\"python\", \"/app/train/component.py\"], check=True)\n\n        image: 118730128420.dkr.ecr.us-east-1.amazonaws.com/yt-kfp-component:latest\npipelineInfo:\n  description: YouTube Sentiment Analyzer pipeline using MLflow + S3 + EKS\n  name: yt-sentiment-pipeline-param\nroot:\n  dag:\n    tasks:\n      preprocess:\n        cachingOptions:\n          enableCache: true\n        componentRef:\n          name: comp-preprocess\n        inputs:\n          parameters:\n            aws_region:\n              componentInputParameter: AWS_REGION\n            input_s3_uri:\n              componentInputParameter: INPUT_S3_URI\n            output_s3_uri:\n              componentInputParameter: OUTPUT_S3_URI\n        taskInfo:\n          name: preprocess\n      train:\n        cachingOptions:\n          enableCache: true\n        componentRef:\n          name: comp-train\n        dependentTasks:\n        - preprocess\n        inputs:\n          parameters:\n            aws_region:\n              componentInputParameter: AWS_REGION\n            mlflow_uri:\n              componentInputParameter: MLFLOW_URI\n            model_name:\n              componentInputParameter: MODEL_NAME\n            s3_bucket:\n              componentInputParameter: S3_BUCKET\n        taskInfo:\n          name: train\n  inputDefinitions:\n    parameters:\n      AWS_REGION:\n        defaultValue: us-east-1\n        isOptional: true\n        parameterType: STRING\n      INPUT_S3_URI:\n        defaultValue: s3://mlops-yt-artifacts-nandak-1760367211/datasets/raw.csv\n        isOptional: true\n        parameterType: STRING\n      MLFLOW_URI:\n        defaultValue: http://mlflow-service.mlops.svc.cluster.local:5000\n        isOptional: true\n        parameterType: STRING\n      MODEL_NAME:\n        defaultValue: distilbert-base-uncased\n        isOptional: true\n        parameterType: STRING\n      OUTPUT_S3_URI:\n        defaultValue: s3://mlops-yt-artifacts-nandak-1760367211/datasets/cleaned.csv\n        isOptional: true\n        parameterType: STRING\n      S3_BUCKET:\n        defaultValue: mlops-yt-artifacts-nandak-1760367211\n        isOptional: true\n        parameterType: STRING\nschemaVersion: 2.1.0\nsdkVersion: kfp-2.14.6\n','','','{\"AWS_REGION\":\"us-east-1\",\"INPUT_S3_URI\":\"s3://mlops-yt-artifacts-nandak-1760367211/datasets/youtube_comments.csv\",\"MLFLOW_URI\":\"http://mlflow-service.mlops.svc.cluster.local:5000\",\"MODEL_NAME\":\"distilbert-base-uncased\",\"OUTPUT_S3_URI\":\"s3://mlops-yt-artifacts-nandak-1760367211/datasets/cleaned.csv\",\"S3_BUCKET\":\"mlops-yt-artifacts-nandak-1760367211\"}','',1760690472,1760690472,0,'Pending','PENDING','[{\"UpdateTimeInSec\":1760690473,\"State\":\"PENDING\"}]','{\"metadata\":{\"name\":\"yt-sentiment-pipeline-param-phnbf\",\"generateName\":\"yt-sentiment-pipeline-param-\",\"namespace\":\"kubeflow\",\"uid\":\"77a3bbb5-d303-4537-a4d2-e2cfeacaf2fc\",\"resourceVersion\":\"1013539\",\"generation\":1,\"creationTimestamp\":\"2025-10-17T08:41:13Z\",\"labels\":{\"pipeline/runid\":\"f80322ba-a2c5-45cb-a4cd-437eb3e4317a\"},\"annotations\":{\"pipelines.kubeflow.org/components-comp-preprocess\":\"{\\\"executorLabel\\\":\\\"exec-preprocess\\\",\\\"inputDefinitions\\\":{\\\"parameters\\\":{\\\"aws_region\\\":{\\\"parameterType\\\":\\\"STRING\\\"},\\\"input_s3_uri\\\":{\\\"parameterType\\\":\\\"STRING\\\"},\\\"output_s3_uri\\\":{\\\"parameterType\\\":\\\"STRING\\\"}}}}\",\"pipelines.kubeflow.org/components-comp-train\":\"{\\\"executorLabel\\\":\\\"exec-train\\\",\\\"inputDefinitions\\\":{\\\"parameters\\\":{\\\"aws_region\\\":{\\\"parameterType\\\":\\\"STRING\\\"},\\\"mlflow_uri\\\":{\\\"parameterType\\\":\\\"STRING\\\"},\\\"model_name\\\":{\\\"parameterType\\\":\\\"STRING\\\"},\\\"s3_bucket\\\":{\\\"parameterType\\\":\\\"STRING\\\"}}}}\",\"pipelines.kubeflow.org/components-root\":\"{\\\"dag\\\":{\\\"tasks\\\":{\\\"preprocess\\\":{\\\"cachingOptions\\\":{\\\"enableCache\\\":true},\\\"componentRef\\\":{\\\"name\\\":\\\"comp-preprocess\\\"},\\\"inputs\\\":{\\\"parameters\\\":{\\\"aws_region\\\":{\\\"componentInputParameter\\\":\\\"AWS_REGION\\\"},\\\"input_s3_uri\\\":{\\\"componentInputParameter\\\":\\\"INPUT_S3_URI\\\"},\\\"output_s3_uri\\\":{\\\"componentInputParameter\\\":\\\"OUTPUT_S3_URI\\\"}}},\\\"taskInfo\\\":{\\\"name\\\":\\\"preprocess\\\"}},\\\"train\\\":{\\\"cachingOptions\\\":{\\\"enableCache\\\":true},\\\"componentRef\\\":{\\\"name\\\":\\\"comp-train\\\"},\\\"dependentTasks\\\":[\\\"preprocess\\\"],\\\"inputs\\\":{\\\"parameters\\\":{\\\"aws_region\\\":{\\\"componentInputParameter\\\":\\\"AWS_REGION\\\"},\\\"mlflow_uri\\\":{\\\"componentInputParameter\\\":\\\"MLFLOW_URI\\\"},\\\"model_name\\\":{\\\"componentInputParameter\\\":\\\"MODEL_NAME\\\"},\\\"s3_bucket\\\":{\\\"componentInputParameter\\\":\\\"S3_BUCKET\\\"}}},\\\"taskInfo\\\":{\\\"name\\\":\\\"train\\\"}}}},\\\"inputDefinitions\\\":{\\\"parameters\\\":{\\\"AWS_REGION\\\":{\\\"defaultValue\\\":\\\"us-east-1\\\",\\\"isOptional\\\":true,\\\"parameterType\\\":\\\"STRING\\\"},\\\"INPUT_S3_URI\\\":{\\\"defaultValue\\\":\\\"s3://mlops-yt-artifacts-nandak-1760367211/datasets/raw.csv\\\",\\\"isOptional\\\":true,\\\"parameterType\\\":\\\"STRING\\\"},\\\"MLFLOW_URI\\\":{\\\"defaultValue\\\":\\\"http://mlflow-service.mlops.svc.cluster.local:5000\\\",\\\"isOptional\\\":true,\\\"parameterType\\\":\\\"STRING\\\"},\\\"MODEL_NAME\\\":{\\\"defaultValue\\\":\\\"distilbert-base-uncased\\\",\\\"isOptional\\\":true,\\\"parameterType\\\":\\\"STRING\\\"},\\\"OUTPUT_S3_URI\\\":{\\\"defaultValue\\\":\\\"s3://mlops-yt-artifacts-nandak-1760367211/datasets/cleaned.csv\\\",\\\"isOptional\\\":true,\\\"parameterType\\\":\\\"STRING\\\"},\\\"S3_BUCKET\\\":{\\\"defaultValue\\\":\\\"mlops-yt-artifacts-nandak-1760367211\\\",\\\"isOptional\\\":true,\\\"parameterType\\\":\\\"STRING\\\"}}}}\",\"pipelines.kubeflow.org/implementations-comp-preprocess\":\"{\\\"args\\\":[\\\"--executor_input\\\",\\\"{{$}}\\\",\\\"--function_to_execute\\\",\\\"preprocess\\\"],\\\"command\\\":[\\\"sh\\\",\\\"-c\\\",\\\"\\\\nif ! [ -x \\\\\\\"$(command -v pip)\\\\\\\" ]; then\\\\n    python3 -m ensurepip || python3 -m ensurepip --user || apt-get install python3-pip\\\\nfi\\\\n\\\\nPIP_DISABLE_PIP_VERSION_CHECK=1 python3 -m pip install --quiet --no-warn-script-location \'kfp==2.14.6\' \'--no-deps\' \'typing-extensions\\\\u003e=3.7.4,\\\\u003c5; python_version\\\\u003c\\\\\\\"3.9\\\\\\\"\' \\\\u0026\\\\u0026 \\\\\\\"$0\\\\\\\" \\\\\\\"$@\\\\\\\"\\\\n\\\",\\\"sh\\\",\\\"-ec\\\",\\\"program_path=$(mktemp -d)\\\\n\\\\nprintf \\\\\\\"%s\\\\\\\" \\\\\\\"$0\\\\\\\" \\\\u003e \\\\\\\"$program_path/ephemeral_component.py\\\\\\\"\\\\n_KFP_RUNTIME=true python3 -m kfp.dsl.executor_main                         --component_module_path                         \\\\\\\"$program_path/ephemeral_component.py\\\\\\\"                         \\\\\\\"$@\\\\\\\"\\\\n\\\",\\\"\\\\nimport kfp\\\\nfrom kfp import dsl\\\\nfrom kfp.dsl import *\\\\nfrom typing import *\\\\n\\\\ndef preprocess(input_s3_uri: str, output_s3_uri: str, aws_region: str):\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"Preprocess YouTube comments and upload cleaned data to S3.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    import os, subprocess\\\\n    os.environ[\\\\\\\"INPUT_S3_URI\\\\\\\"] = input_s3_uri\\\\n    os.environ[\\\\\\\"OUTPUT_S3_URI\\\\\\\"] = output_s3_uri\\\\n    os.environ[\\\\\\\"AWS_REGION\\\\\\\"] = aws_region\\\\n    print(f\\\\\\\"Preprocessing from {input_s3_uri} → {output_s3_uri}\\\\\\\")\\\\n    subprocess.run([\\\\\\\"python\\\\\\\", \\\\\\\"/app/preprocess/component.py\\\\\\\"], check=True)\\\\n\\\\n\\\"],\\\"image\\\":\\\"118730128420.dkr.ecr.us-east-1.amazonaws.com/yt-kfp-component:latest\\\"}\",\"pipelines.kubeflow.org/implementations-comp-train\":\"{\\\"args\\\":[\\\"--executor_input\\\",\\\"{{$}}\\\",\\\"--function_to_execute\\\",\\\"train\\\"],\\\"command\\\":[\\\"sh\\\",\\\"-c\\\",\\\"\\\\nif ! [ -x \\\\\\\"$(command -v pip)\\\\\\\" ]; then\\\\n    python3 -m ensurepip || python3 -m ensurepip --user || apt-get install python3-pip\\\\nfi\\\\n\\\\nPIP_DISABLE_PIP_VERSION_CHECK=1 python3 -m pip install --quiet --no-warn-script-location \'kfp==2.14.6\' \'--no-deps\' \'typing-extensions\\\\u003e=3.7.4,\\\\u003c5; python_version\\\\u003c\\\\\\\"3.9\\\\\\\"\' \\\\u0026\\\\u0026 \\\\\\\"$0\\\\\\\" \\\\\\\"$@\\\\\\\"\\\\n\\\",\\\"sh\\\",\\\"-ec\\\",\\\"program_path=$(mktemp -d)\\\\n\\\\nprintf \\\\\\\"%s\\\\\\\" \\\\\\\"$0\\\\\\\" \\\\u003e \\\\\\\"$program_path/ephemeral_component.py\\\\\\\"\\\\n_KFP_RUNTIME=true python3 -m kfp.dsl.executor_main                         --component_module_path                         \\\\\\\"$program_path/ephemeral_component.py\\\\\\\"                         \\\\\\\"$@\\\\\\\"\\\\n\\\",\\\"\\\\nimport kfp\\\\nfrom kfp import dsl\\\\nfrom kfp.dsl import *\\\\nfrom typing import *\\\\n\\\\ndef train(mlflow_uri: str, s3_bucket: str, model_name: str, aws_region: str):\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"Train sentiment model and log results to MLflow.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    import os, subprocess\\\\n    os.environ[\\\\\\\"MLFLOW_URI\\\\\\\"] = mlflow_uri\\\\n    os.environ[\\\\\\\"S3_BUCKET\\\\\\\"] = s3_bucket\\\\n    os.environ[\\\\\\\"MODEL_NAME\\\\\\\"] = model_name\\\\n    os.environ[\\\\\\\"AWS_REGION\\\\\\\"] = aws_region\\\\n    print(f\\\\\\\"Training model {model_name}, logging to {mlflow_uri}\\\\\\\")\\\\n    subprocess.run([\\\\\\\"python\\\\\\\", \\\\\\\"/app/train/component.py\\\\\\\"], check=True)\\\\n\\\\n\\\"],\\\"image\\\":\\\"118730128420.dkr.ecr.us-east-1.amazonaws.com/yt-kfp-component:latest\\\"}\",\"pipelines.kubeflow.org/run_name\":\"Run of youtube analyzer_version_at_2025-10-17T05:56:40.890Z (03fa8)\"},\"managedFields\":[{\"manager\":\"apiserver\",\"operation\":\"Update\",\"apiVersion\":\"argoproj.io/v1alpha1\",\"time\":\"2025-10-17T08:41:13Z\",\"fieldsType\":\"FieldsV1\",\"fieldsV1\":{\"f:metadata\":{\"f:annotations\":{\".\":{},\"f:pipelines.kubeflow.org/components-comp-preprocess\":{},\"f:pipelines.kubeflow.org/components-comp-train\":{},\"f:pipelines.kubeflow.org/components-root\":{},\"f:pipelines.kubeflow.org/implementations-comp-preprocess\":{},\"f:pipelines.kubeflow.org/implementations-comp-train\":{},\"f:pipelines.kubeflow.org/run_name\":{}},\"f:generateName\":{},\"f:labels\":{\".\":{},\"f:pipeline/runid\":{}}},\"f:spec\":{},\"f:status\":{}}}]},\"spec\":{\"templates\":[{\"name\":\"system-container-driver\",\"inputs\":{\"parameters\":[{\"name\":\"component\"},{\"name\":\"task\"},{\"name\":\"container\"},{\"name\":\"parent-dag-id\"},{\"name\":\"iteration-index\",\"default\":\"-1\"},{\"name\":\"kubernetes-config\",\"default\":\"\"}]},\"outputs\":{\"parameters\":[{\"name\":\"pod-spec-patch\",\"valueFrom\":{\"path\":\"/tmp/outputs/pod-spec-patch\",\"default\":\"\"}},{\"name\":\"cached-decision\",\"default\":\"false\",\"valueFrom\":{\"path\":\"/tmp/outputs/cached-decision\",\"default\":\"false\"}},{\"name\":\"condition\",\"valueFrom\":{\"path\":\"/tmp/outputs/condition\",\"default\":\"true\"}}]},\"metadata\":{\"annotations\":{\"sidecar.istio.io/inject\":\"false\"}},\"container\":{\"name\":\"\",\"image\":\"gcr.io/ml-pipeline/kfp-driver@sha256:0ce9bf20ac9cbb21e84ff0762d5ae508d21e9c85fde2b14b51363bd1b8cd7528\",\"command\":[\"driver\"],\"args\":[\"--type\",\"CONTAINER\",\"--pipeline_name\",\"yt-sentiment-pipeline-param\",\"--run_id\",\"f80322ba-a2c5-45cb-a4cd-437eb3e4317a\",\"--dag_execution_id\",\"{{inputs.parameters.parent-dag-id}}\",\"--component\",\"{{inputs.parameters.component}}\",\"--task\",\"{{inputs.parameters.task}}\",\"--container\",\"{{inputs.parameters.container}}\",\"--iteration_index\",\"{{inputs.parameters.iteration-index}}\",\"--cached_decision_path\",\"{{outputs.parameters.cached-decision.path}}\",\"--pod_spec_patch_path\",\"{{outputs.parameters.pod-spec-patch.path}}\",\"--condition_path\",\"{{outputs.parameters.condition.path}}\",\"--kubernetes_config\",\"{{inputs.parameters.kubernetes-config}}\"],\"resources\":{\"limits\":{\"cpu\":\"500m\",\"memory\":\"512Mi\"},\"requests\":{\"cpu\":\"100m\",\"memory\":\"64Mi\"}}}},{\"name\":\"system-container-executor\",\"inputs\":{\"parameters\":[{\"name\":\"pod-spec-patch\"},{\"name\":\"cached-decision\",\"default\":\"false\"}]},\"outputs\":{},\"metadata\":{\"annotations\":{\"sidecar.istio.io/inject\":\"false\"}},\"dag\":{\"tasks\":[{\"name\":\"executor\",\"template\":\"system-container-impl\",\"arguments\":{\"parameters\":[{\"name\":\"pod-spec-patch\",\"value\":\"{{inputs.parameters.pod-spec-patch}}\"}]},\"when\":\"{{inputs.parameters.cached-decision}} != true\"}]}},{\"name\":\"system-container-impl\",\"inputs\":{\"parameters\":[{\"name\":\"pod-spec-patch\"}]},\"outputs\":{},\"metadata\":{\"annotations\":{\"sidecar.istio.io/inject\":\"false\"}},\"container\":{\"name\":\"\",\"image\":\"gcr.io/ml-pipeline/should-be-overridden-during-runtime\",\"command\":[\"should-be-overridden-during-runtime\"],\"envFrom\":[{\"configMapRef\":{\"name\":\"metadata-grpc-configmap\",\"optional\":true}}],\"env\":[{\"name\":\"KFP_POD_NAME\",\"valueFrom\":{\"fieldRef\":{\"fieldPath\":\"metadata.name\"}}},{\"name\":\"KFP_POD_UID\",\"valueFrom\":{\"fieldRef\":{\"fieldPath\":\"metadata.uid\"}}}],\"resources\":{},\"volumeMounts\":[{\"name\":\"kfp-launcher\",\"mountPath\":\"/kfp-launcher\"}]},\"volumes\":[{\"name\":\"kfp-launcher\",\"emptyDir\":{}}],\"initContainers\":[{\"name\":\"kfp-launcher\",\"image\":\"gcr.io/ml-pipeline/kfp-launcher@sha256:80cf120abd125db84fa547640fd6386c4b2a26936e0c2b04a7d3634991a850a4\",\"command\":[\"launcher-v2\",\"--copy\",\"/kfp-launcher/launch\"],\"resources\":{\"limits\":{\"cpu\":\"500m\",\"memory\":\"128Mi\"},\"requests\":{\"cpu\":\"100m\"}},\"volumeMounts\":[{\"name\":\"kfp-launcher\",\"mountPath\":\"/kfp-launcher\"}]}],\"podSpecPatch\":\"{{inputs.parameters.pod-spec-patch}}\"},{\"name\":\"root\",\"inputs\":{\"parameters\":[{\"name\":\"parent-dag-id\"}]},\"outputs\":{},\"metadata\":{\"annotations\":{\"sidecar.istio.io/inject\":\"false\"}},\"dag\":{\"tasks\":[{\"name\":\"preprocess-driver\",\"template\":\"system-container-driver\",\"arguments\":{\"parameters\":[{\"name\":\"component\",\"value\":\"{{workflow.annotations.pipelines.kubeflow.org/components-comp-preprocess}}\"},{\"name\":\"task\",\"value\":\"{\\\"cachingOptions\\\":{\\\"enableCache\\\":true},\\\"componentRef\\\":{\\\"name\\\":\\\"comp-preprocess\\\"},\\\"inputs\\\":{\\\"parameters\\\":{\\\"aws_region\\\":{\\\"componentInputParameter\\\":\\\"AWS_REGION\\\"},\\\"input_s3_uri\\\":{\\\"componentInputParameter\\\":\\\"INPUT_S3_URI\\\"},\\\"output_s3_uri\\\":{\\\"componentInputParameter\\\":\\\"OUTPUT_S3_URI\\\"}}},\\\"taskInfo\\\":{\\\"name\\\":\\\"preprocess\\\"}}\"},{\"name\":\"container\",\"value\":\"{{workflow.annotations.pipelines.kubeflow.org/implementations-comp-preprocess}}\"},{\"name\":\"parent-dag-id\",\"value\":\"{{inputs.parameters.parent-dag-id}}\"}]}},{\"name\":\"preprocess\",\"template\":\"system-container-executor\",\"arguments\":{\"parameters\":[{\"name\":\"pod-spec-patch\",\"value\":\"{{tasks.preprocess-driver.outputs.parameters.pod-spec-patch}}\"},{\"name\":\"cached-decision\",\"default\":\"false\",\"value\":\"{{tasks.preprocess-driver.outputs.parameters.cached-decision}}\"}]},\"depends\":\"preprocess-driver.Succeeded\"},{\"name\":\"train-driver\",\"template\":\"system-container-driver\",\"arguments\":{\"parameters\":[{\"name\":\"component\",\"value\":\"{{workflow.annotations.pipelines.kubeflow.org/components-comp-train}}\"},{\"name\":\"task\",\"value\":\"{\\\"cachingOptions\\\":{\\\"enableCache\\\":true},\\\"componentRef\\\":{\\\"name\\\":\\\"comp-train\\\"},\\\"dependentTasks\\\":[\\\"preprocess\\\"],\\\"inputs\\\":{\\\"parameters\\\":{\\\"aws_region\\\":{\\\"componentInputParameter\\\":\\\"AWS_REGION\\\"},\\\"mlflow_uri\\\":{\\\"componentInputParameter\\\":\\\"MLFLOW_URI\\\"},\\\"model_name\\\":{\\\"componentInputParameter\\\":\\\"MODEL_NAME\\\"},\\\"s3_bucket\\\":{\\\"componentInputParameter\\\":\\\"S3_BUCKET\\\"}}},\\\"taskInfo\\\":{\\\"name\\\":\\\"train\\\"}}\"},{\"name\":\"container\",\"value\":\"{{workflow.annotations.pipelines.kubeflow.org/implementations-comp-train}}\"},{\"name\":\"parent-dag-id\",\"value\":\"{{inputs.parameters.parent-dag-id}}\"}]},\"depends\":\"preprocess.Succeeded\"},{\"name\":\"train\",\"template\":\"system-container-executor\",\"arguments\":{\"parameters\":[{\"name\":\"pod-spec-patch\",\"value\":\"{{tasks.train-driver.outputs.parameters.pod-spec-patch}}\"},{\"name\":\"cached-decision\",\"default\":\"false\",\"value\":\"{{tasks.train-driver.outputs.parameters.cached-decision}}\"}]},\"depends\":\"train-driver.Succeeded\"}]}},{\"name\":\"system-dag-driver\",\"inputs\":{\"parameters\":[{\"name\":\"component\"},{\"name\":\"runtime-config\",\"default\":\"\"},{\"name\":\"task\",\"default\":\"\"},{\"name\":\"parent-dag-id\",\"default\":\"0\"},{\"name\":\"iteration-index\",\"default\":\"-1\"},{\"name\":\"driver-type\",\"default\":\"DAG\"}]},\"outputs\":{\"parameters\":[{\"name\":\"execution-id\",\"valueFrom\":{\"path\":\"/tmp/outputs/execution-id\"}},{\"name\":\"iteration-count\",\"valueFrom\":{\"path\":\"/tmp/outputs/iteration-count\",\"default\":\"0\"}},{\"name\":\"condition\",\"valueFrom\":{\"path\":\"/tmp/outputs/condition\",\"default\":\"true\"}}]},\"metadata\":{\"annotations\":{\"sidecar.istio.io/inject\":\"false\"}},\"container\":{\"name\":\"\",\"image\":\"gcr.io/ml-pipeline/kfp-driver@sha256:0ce9bf20ac9cbb21e84ff0762d5ae508d21e9c85fde2b14b51363bd1b8cd7528\",\"command\":[\"driver\"],\"args\":[\"--type\",\"{{inputs.parameters.driver-type}}\",\"--pipeline_name\",\"yt-sentiment-pipeline-param\",\"--run_id\",\"f80322ba-a2c5-45cb-a4cd-437eb3e4317a\",\"--dag_execution_id\",\"{{inputs.parameters.parent-dag-id}}\",\"--component\",\"{{inputs.parameters.component}}\",\"--task\",\"{{inputs.parameters.task}}\",\"--runtime_config\",\"{{inputs.parameters.runtime-config}}\",\"--iteration_index\",\"{{inputs.parameters.iteration-index}}\",\"--execution_id_path\",\"{{outputs.parameters.execution-id.path}}\",\"--iteration_count_path\",\"{{outputs.parameters.iteration-count.path}}\",\"--condition_path\",\"{{outputs.parameters.condition.path}}\"],\"resources\":{\"limits\":{\"cpu\":\"500m\",\"memory\":\"512Mi\"},\"requests\":{\"cpu\":\"100m\",\"memory\":\"64Mi\"}}}},{\"name\":\"entrypoint\",\"inputs\":{},\"outputs\":{},\"metadata\":{\"annotations\":{\"sidecar.istio.io/inject\":\"false\"}},\"dag\":{\"tasks\":[{\"name\":\"root-driver\",\"template\":\"system-dag-driver\",\"arguments\":{\"parameters\":[{\"name\":\"component\",\"value\":\"{{workflow.annotations.pipelines.kubeflow.org/components-root}}\"},{\"name\":\"runtime-config\",\"value\":\"{\\\"parameterValues\\\":{\\\"AWS_REGION\\\":\\\"us-east-1\\\",\\\"INPUT_S3_URI\\\":\\\"s3://mlops-yt-artifacts-nandak-1760367211/datasets/youtube_comments.csv\\\",\\\"MLFLOW_URI\\\":\\\"http://mlflow-service.mlops.svc.cluster.local:5000\\\",\\\"MODEL_NAME\\\":\\\"distilbert-base-uncased\\\",\\\"OUTPUT_S3_URI\\\":\\\"s3://mlops-yt-artifacts-nandak-1760367211/datasets/cleaned.csv\\\",\\\"S3_BUCKET\\\":\\\"mlops-yt-artifacts-nandak-1760367211\\\"}}\"},{\"name\":\"driver-type\",\"value\":\"ROOT_DAG\"}]}},{\"name\":\"root\",\"template\":\"root\",\"arguments\":{\"parameters\":[{\"name\":\"parent-dag-id\",\"value\":\"{{tasks.root-driver.outputs.parameters.execution-id}}\"},{\"name\":\"condition\",\"value\":\"\"}]},\"depends\":\"root-driver.Succeeded\"}]}}],\"entrypoint\":\"entrypoint\",\"arguments\":{},\"serviceAccountName\":\"pipeline-runner\",\"podMetadata\":{\"annotations\":{\"pipelines.kubeflow.org/v2_component\":\"true\"},\"labels\":{\"pipeline/runid\":\"f80322ba-a2c5-45cb-a4cd-437eb3e4317a\",\"pipelines.kubeflow.org/v2_component\":\"true\"}}},\"status\":{\"startedAt\":null,\"finishedAt\":null}}','',0,0),('fb9afddd-b327-4a01-b685-82b67333fc39','Run of youtube analyzer_version_at_2025-10-17T05:56:40.890Z (a4c24)','yt-sentiment-pipeline-param-wghl6','','','73a102cf-474a-4691-a9be-b60ade3d5345','','AVAILABLE','pipeline-runner','fa9ea7ea-6814-4997-8ca3-854aa94cd3f6','a30643fe-c1fa-4459-a798-8f64968cc3f4','youtube analyzer_version_at_2025-10-17T05:56:40.890Z','components:\n  comp-preprocess:\n    executorLabel: exec-preprocess\n    inputDefinitions:\n      parameters:\n        aws_region:\n          parameterType: STRING\n        input_s3_uri:\n          parameterType: STRING\n        output_s3_uri:\n          parameterType: STRING\n  comp-train:\n    executorLabel: exec-train\n    inputDefinitions:\n      parameters:\n        aws_region:\n          parameterType: STRING\n        mlflow_uri:\n          parameterType: STRING\n        model_name:\n          parameterType: STRING\n        s3_bucket:\n          parameterType: STRING\ndeploymentSpec:\n  executors:\n    exec-preprocess:\n      container:\n        args:\n        - --executor_input\n        - \'{{$}}\'\n        - --function_to_execute\n        - preprocess\n        command:\n        - sh\n        - -c\n        - |2\n\n          if ! [ -x \"$(command -v pip)\" ]; then\n              python3 -m ensurepip || python3 -m ensurepip --user || apt-get install python3-pip\n          fi\n\n          PIP_DISABLE_PIP_VERSION_CHECK=1 python3 -m pip install --quiet --no-warn-script-location \'kfp==2.14.6\' \'--no-deps\' \'typing-extensions>=3.7.4,<5; python_version<\"3.9\"\' && \"$0\" \"$@\"\n        - sh\n        - -ec\n        - |\n          program_path=$(mktemp -d)\n\n          printf \"%s\" \"$0\" > \"$program_path/ephemeral_component.py\"\n          _KFP_RUNTIME=true python3 -m kfp.dsl.executor_main                         --component_module_path                         \"$program_path/ephemeral_component.py\"                         \"$@\"\n        - |2+\n\n          import kfp\n          from kfp import dsl\n          from kfp.dsl import *\n          from typing import *\n\n          def preprocess(input_s3_uri: str, output_s3_uri: str, aws_region: str):\n              \"\"\"Preprocess YouTube comments and upload cleaned data to S3.\"\"\"\n              import os, subprocess\n              os.environ[\"INPUT_S3_URI\"] = input_s3_uri\n              os.environ[\"OUTPUT_S3_URI\"] = output_s3_uri\n              os.environ[\"AWS_REGION\"] = aws_region\n              print(f\"Preprocessing from {input_s3_uri} → {output_s3_uri}\")\n              subprocess.run([\"python\", \"/app/preprocess/component.py\"], check=True)\n\n        image: 118730128420.dkr.ecr.us-east-1.amazonaws.com/yt-kfp-component:latest\n    exec-train:\n      container:\n        args:\n        - --executor_input\n        - \'{{$}}\'\n        - --function_to_execute\n        - train\n        command:\n        - sh\n        - -c\n        - |2\n\n          if ! [ -x \"$(command -v pip)\" ]; then\n              python3 -m ensurepip || python3 -m ensurepip --user || apt-get install python3-pip\n          fi\n\n          PIP_DISABLE_PIP_VERSION_CHECK=1 python3 -m pip install --quiet --no-warn-script-location \'kfp==2.14.6\' \'--no-deps\' \'typing-extensions>=3.7.4,<5; python_version<\"3.9\"\' && \"$0\" \"$@\"\n        - sh\n        - -ec\n        - |\n          program_path=$(mktemp -d)\n\n          printf \"%s\" \"$0\" > \"$program_path/ephemeral_component.py\"\n          _KFP_RUNTIME=true python3 -m kfp.dsl.executor_main                         --component_module_path                         \"$program_path/ephemeral_component.py\"                         \"$@\"\n        - |2+\n\n          import kfp\n          from kfp import dsl\n          from kfp.dsl import *\n          from typing import *\n\n          def train(mlflow_uri: str, s3_bucket: str, model_name: str, aws_region: str):\n              \"\"\"Train sentiment model and log results to MLflow.\"\"\"\n              import os, subprocess\n              os.environ[\"MLFLOW_URI\"] = mlflow_uri\n              os.environ[\"S3_BUCKET\"] = s3_bucket\n              os.environ[\"MODEL_NAME\"] = model_name\n              os.environ[\"AWS_REGION\"] = aws_region\n              print(f\"Training model {model_name}, logging to {mlflow_uri}\")\n              subprocess.run([\"python\", \"/app/train/component.py\"], check=True)\n\n        image: 118730128420.dkr.ecr.us-east-1.amazonaws.com/yt-kfp-component:latest\npipelineInfo:\n  description: YouTube Sentiment Analyzer pipeline using MLflow + S3 + EKS\n  name: yt-sentiment-pipeline-param\nroot:\n  dag:\n    tasks:\n      preprocess:\n        cachingOptions:\n          enableCache: true\n        componentRef:\n          name: comp-preprocess\n        inputs:\n          parameters:\n            aws_region:\n              componentInputParameter: AWS_REGION\n            input_s3_uri:\n              componentInputParameter: INPUT_S3_URI\n            output_s3_uri:\n              componentInputParameter: OUTPUT_S3_URI\n        taskInfo:\n          name: preprocess\n      train:\n        cachingOptions:\n          enableCache: true\n        componentRef:\n          name: comp-train\n        dependentTasks:\n        - preprocess\n        inputs:\n          parameters:\n            aws_region:\n              componentInputParameter: AWS_REGION\n            mlflow_uri:\n              componentInputParameter: MLFLOW_URI\n            model_name:\n              componentInputParameter: MODEL_NAME\n            s3_bucket:\n              componentInputParameter: S3_BUCKET\n        taskInfo:\n          name: train\n  inputDefinitions:\n    parameters:\n      AWS_REGION:\n        defaultValue: us-east-1\n        isOptional: true\n        parameterType: STRING\n      INPUT_S3_URI:\n        defaultValue: s3://mlops-yt-artifacts-nandak-1760367211/datasets/raw.csv\n        isOptional: true\n        parameterType: STRING\n      MLFLOW_URI:\n        defaultValue: http://mlflow-service.mlops.svc.cluster.local:5000\n        isOptional: true\n        parameterType: STRING\n      MODEL_NAME:\n        defaultValue: distilbert-base-uncased\n        isOptional: true\n        parameterType: STRING\n      OUTPUT_S3_URI:\n        defaultValue: s3://mlops-yt-artifacts-nandak-1760367211/datasets/cleaned.csv\n        isOptional: true\n        parameterType: STRING\n      S3_BUCKET:\n        defaultValue: mlops-yt-artifacts-nandak-1760367211\n        isOptional: true\n        parameterType: STRING\nschemaVersion: 2.1.0\nsdkVersion: kfp-2.14.6\n','','','{\"AWS_REGION\":\"us-east-1\",\"INPUT_S3_URI\":\"s3://mlops-yt-artifacts-nandak-1760367211/datasets/youtube_comments_X29X1BnAppM_20251014T134602Z.csv\",\"MLFLOW_URI\":\"http://mlflow-service.mlops.svc.cluster.local:5000\",\"MODEL_NAME\":\"distilbert-base-uncased\",\"OUTPUT_S3_URI\":\"s3://mlops-yt-artifacts-nandak-1760367211/datasets/cleaned.csv\",\"S3_BUCKET\":\"mlops-yt-artifacts-nandak-1760367211\"}','',1760690924,1760690924,0,'Pending','PENDING','[{\"UpdateTimeInSec\":1760690924,\"State\":\"PENDING\"}]','{\"metadata\":{\"name\":\"yt-sentiment-pipeline-param-wghl6\",\"generateName\":\"yt-sentiment-pipeline-param-\",\"namespace\":\"kubeflow\",\"uid\":\"a623857b-b0c1-4223-9feb-914f1087b691\",\"resourceVersion\":\"1015077\",\"generation\":1,\"creationTimestamp\":\"2025-10-17T08:48:44Z\",\"labels\":{\"pipeline/runid\":\"fb9afddd-b327-4a01-b685-82b67333fc39\"},\"annotations\":{\"pipelines.kubeflow.org/components-comp-preprocess\":\"{\\\"executorLabel\\\":\\\"exec-preprocess\\\",\\\"inputDefinitions\\\":{\\\"parameters\\\":{\\\"aws_region\\\":{\\\"parameterType\\\":\\\"STRING\\\"},\\\"input_s3_uri\\\":{\\\"parameterType\\\":\\\"STRING\\\"},\\\"output_s3_uri\\\":{\\\"parameterType\\\":\\\"STRING\\\"}}}}\",\"pipelines.kubeflow.org/components-comp-train\":\"{\\\"executorLabel\\\":\\\"exec-train\\\",\\\"inputDefinitions\\\":{\\\"parameters\\\":{\\\"aws_region\\\":{\\\"parameterType\\\":\\\"STRING\\\"},\\\"mlflow_uri\\\":{\\\"parameterType\\\":\\\"STRING\\\"},\\\"model_name\\\":{\\\"parameterType\\\":\\\"STRING\\\"},\\\"s3_bucket\\\":{\\\"parameterType\\\":\\\"STRING\\\"}}}}\",\"pipelines.kubeflow.org/components-root\":\"{\\\"dag\\\":{\\\"tasks\\\":{\\\"preprocess\\\":{\\\"cachingOptions\\\":{\\\"enableCache\\\":true},\\\"componentRef\\\":{\\\"name\\\":\\\"comp-preprocess\\\"},\\\"inputs\\\":{\\\"parameters\\\":{\\\"aws_region\\\":{\\\"componentInputParameter\\\":\\\"AWS_REGION\\\"},\\\"input_s3_uri\\\":{\\\"componentInputParameter\\\":\\\"INPUT_S3_URI\\\"},\\\"output_s3_uri\\\":{\\\"componentInputParameter\\\":\\\"OUTPUT_S3_URI\\\"}}},\\\"taskInfo\\\":{\\\"name\\\":\\\"preprocess\\\"}},\\\"train\\\":{\\\"cachingOptions\\\":{\\\"enableCache\\\":true},\\\"componentRef\\\":{\\\"name\\\":\\\"comp-train\\\"},\\\"dependentTasks\\\":[\\\"preprocess\\\"],\\\"inputs\\\":{\\\"parameters\\\":{\\\"aws_region\\\":{\\\"componentInputParameter\\\":\\\"AWS_REGION\\\"},\\\"mlflow_uri\\\":{\\\"componentInputParameter\\\":\\\"MLFLOW_URI\\\"},\\\"model_name\\\":{\\\"componentInputParameter\\\":\\\"MODEL_NAME\\\"},\\\"s3_bucket\\\":{\\\"componentInputParameter\\\":\\\"S3_BUCKET\\\"}}},\\\"taskInfo\\\":{\\\"name\\\":\\\"train\\\"}}}},\\\"inputDefinitions\\\":{\\\"parameters\\\":{\\\"AWS_REGION\\\":{\\\"defaultValue\\\":\\\"us-east-1\\\",\\\"isOptional\\\":true,\\\"parameterType\\\":\\\"STRING\\\"},\\\"INPUT_S3_URI\\\":{\\\"defaultValue\\\":\\\"s3://mlops-yt-artifacts-nandak-1760367211/datasets/raw.csv\\\",\\\"isOptional\\\":true,\\\"parameterType\\\":\\\"STRING\\\"},\\\"MLFLOW_URI\\\":{\\\"defaultValue\\\":\\\"http://mlflow-service.mlops.svc.cluster.local:5000\\\",\\\"isOptional\\\":true,\\\"parameterType\\\":\\\"STRING\\\"},\\\"MODEL_NAME\\\":{\\\"defaultValue\\\":\\\"distilbert-base-uncased\\\",\\\"isOptional\\\":true,\\\"parameterType\\\":\\\"STRING\\\"},\\\"OUTPUT_S3_URI\\\":{\\\"defaultValue\\\":\\\"s3://mlops-yt-artifacts-nandak-1760367211/datasets/cleaned.csv\\\",\\\"isOptional\\\":true,\\\"parameterType\\\":\\\"STRING\\\"},\\\"S3_BUCKET\\\":{\\\"defaultValue\\\":\\\"mlops-yt-artifacts-nandak-1760367211\\\",\\\"isOptional\\\":true,\\\"parameterType\\\":\\\"STRING\\\"}}}}\",\"pipelines.kubeflow.org/implementations-comp-preprocess\":\"{\\\"args\\\":[\\\"--executor_input\\\",\\\"{{$}}\\\",\\\"--function_to_execute\\\",\\\"preprocess\\\"],\\\"command\\\":[\\\"sh\\\",\\\"-c\\\",\\\"\\\\nif ! [ -x \\\\\\\"$(command -v pip)\\\\\\\" ]; then\\\\n    python3 -m ensurepip || python3 -m ensurepip --user || apt-get install python3-pip\\\\nfi\\\\n\\\\nPIP_DISABLE_PIP_VERSION_CHECK=1 python3 -m pip install --quiet --no-warn-script-location \'kfp==2.14.6\' \'--no-deps\' \'typing-extensions\\\\u003e=3.7.4,\\\\u003c5; python_version\\\\u003c\\\\\\\"3.9\\\\\\\"\' \\\\u0026\\\\u0026 \\\\\\\"$0\\\\\\\" \\\\\\\"$@\\\\\\\"\\\\n\\\",\\\"sh\\\",\\\"-ec\\\",\\\"program_path=$(mktemp -d)\\\\n\\\\nprintf \\\\\\\"%s\\\\\\\" \\\\\\\"$0\\\\\\\" \\\\u003e \\\\\\\"$program_path/ephemeral_component.py\\\\\\\"\\\\n_KFP_RUNTIME=true python3 -m kfp.dsl.executor_main                         --component_module_path                         \\\\\\\"$program_path/ephemeral_component.py\\\\\\\"                         \\\\\\\"$@\\\\\\\"\\\\n\\\",\\\"\\\\nimport kfp\\\\nfrom kfp import dsl\\\\nfrom kfp.dsl import *\\\\nfrom typing import *\\\\n\\\\ndef preprocess(input_s3_uri: str, output_s3_uri: str, aws_region: str):\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"Preprocess YouTube comments and upload cleaned data to S3.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    import os, subprocess\\\\n    os.environ[\\\\\\\"INPUT_S3_URI\\\\\\\"] = input_s3_uri\\\\n    os.environ[\\\\\\\"OUTPUT_S3_URI\\\\\\\"] = output_s3_uri\\\\n    os.environ[\\\\\\\"AWS_REGION\\\\\\\"] = aws_region\\\\n    print(f\\\\\\\"Preprocessing from {input_s3_uri} → {output_s3_uri}\\\\\\\")\\\\n    subprocess.run([\\\\\\\"python\\\\\\\", \\\\\\\"/app/preprocess/component.py\\\\\\\"], check=True)\\\\n\\\\n\\\"],\\\"image\\\":\\\"118730128420.dkr.ecr.us-east-1.amazonaws.com/yt-kfp-component:latest\\\"}\",\"pipelines.kubeflow.org/implementations-comp-train\":\"{\\\"args\\\":[\\\"--executor_input\\\",\\\"{{$}}\\\",\\\"--function_to_execute\\\",\\\"train\\\"],\\\"command\\\":[\\\"sh\\\",\\\"-c\\\",\\\"\\\\nif ! [ -x \\\\\\\"$(command -v pip)\\\\\\\" ]; then\\\\n    python3 -m ensurepip || python3 -m ensurepip --user || apt-get install python3-pip\\\\nfi\\\\n\\\\nPIP_DISABLE_PIP_VERSION_CHECK=1 python3 -m pip install --quiet --no-warn-script-location \'kfp==2.14.6\' \'--no-deps\' \'typing-extensions\\\\u003e=3.7.4,\\\\u003c5; python_version\\\\u003c\\\\\\\"3.9\\\\\\\"\' \\\\u0026\\\\u0026 \\\\\\\"$0\\\\\\\" \\\\\\\"$@\\\\\\\"\\\\n\\\",\\\"sh\\\",\\\"-ec\\\",\\\"program_path=$(mktemp -d)\\\\n\\\\nprintf \\\\\\\"%s\\\\\\\" \\\\\\\"$0\\\\\\\" \\\\u003e \\\\\\\"$program_path/ephemeral_component.py\\\\\\\"\\\\n_KFP_RUNTIME=true python3 -m kfp.dsl.executor_main                         --component_module_path                         \\\\\\\"$program_path/ephemeral_component.py\\\\\\\"                         \\\\\\\"$@\\\\\\\"\\\\n\\\",\\\"\\\\nimport kfp\\\\nfrom kfp import dsl\\\\nfrom kfp.dsl import *\\\\nfrom typing import *\\\\n\\\\ndef train(mlflow_uri: str, s3_bucket: str, model_name: str, aws_region: str):\\\\n    \\\\\\\"\\\\\\\"\\\\\\\"Train sentiment model and log results to MLflow.\\\\\\\"\\\\\\\"\\\\\\\"\\\\n    import os, subprocess\\\\n    os.environ[\\\\\\\"MLFLOW_URI\\\\\\\"] = mlflow_uri\\\\n    os.environ[\\\\\\\"S3_BUCKET\\\\\\\"] = s3_bucket\\\\n    os.environ[\\\\\\\"MODEL_NAME\\\\\\\"] = model_name\\\\n    os.environ[\\\\\\\"AWS_REGION\\\\\\\"] = aws_region\\\\n    print(f\\\\\\\"Training model {model_name}, logging to {mlflow_uri}\\\\\\\")\\\\n    subprocess.run([\\\\\\\"python\\\\\\\", \\\\\\\"/app/train/component.py\\\\\\\"], check=True)\\\\n\\\\n\\\"],\\\"image\\\":\\\"118730128420.dkr.ecr.us-east-1.amazonaws.com/yt-kfp-component:latest\\\"}\",\"pipelines.kubeflow.org/run_name\":\"Run of youtube analyzer_version_at_2025-10-17T05:56:40.890Z (a4c24)\"},\"managedFields\":[{\"manager\":\"apiserver\",\"operation\":\"Update\",\"apiVersion\":\"argoproj.io/v1alpha1\",\"time\":\"2025-10-17T08:48:44Z\",\"fieldsType\":\"FieldsV1\",\"fieldsV1\":{\"f:metadata\":{\"f:annotations\":{\".\":{},\"f:pipelines.kubeflow.org/components-comp-preprocess\":{},\"f:pipelines.kubeflow.org/components-comp-train\":{},\"f:pipelines.kubeflow.org/components-root\":{},\"f:pipelines.kubeflow.org/implementations-comp-preprocess\":{},\"f:pipelines.kubeflow.org/implementations-comp-train\":{},\"f:pipelines.kubeflow.org/run_name\":{}},\"f:generateName\":{},\"f:labels\":{\".\":{},\"f:pipeline/runid\":{}}},\"f:spec\":{},\"f:status\":{}}}]},\"spec\":{\"templates\":[{\"name\":\"system-container-driver\",\"inputs\":{\"parameters\":[{\"name\":\"component\"},{\"name\":\"task\"},{\"name\":\"container\"},{\"name\":\"parent-dag-id\"},{\"name\":\"iteration-index\",\"default\":\"-1\"},{\"name\":\"kubernetes-config\",\"default\":\"\"}]},\"outputs\":{\"parameters\":[{\"name\":\"pod-spec-patch\",\"valueFrom\":{\"path\":\"/tmp/outputs/pod-spec-patch\",\"default\":\"\"}},{\"name\":\"cached-decision\",\"default\":\"false\",\"valueFrom\":{\"path\":\"/tmp/outputs/cached-decision\",\"default\":\"false\"}},{\"name\":\"condition\",\"valueFrom\":{\"path\":\"/tmp/outputs/condition\",\"default\":\"true\"}}]},\"metadata\":{\"annotations\":{\"sidecar.istio.io/inject\":\"false\"}},\"container\":{\"name\":\"\",\"image\":\"gcr.io/ml-pipeline/kfp-driver@sha256:0ce9bf20ac9cbb21e84ff0762d5ae508d21e9c85fde2b14b51363bd1b8cd7528\",\"command\":[\"driver\"],\"args\":[\"--type\",\"CONTAINER\",\"--pipeline_name\",\"yt-sentiment-pipeline-param\",\"--run_id\",\"fb9afddd-b327-4a01-b685-82b67333fc39\",\"--dag_execution_id\",\"{{inputs.parameters.parent-dag-id}}\",\"--component\",\"{{inputs.parameters.component}}\",\"--task\",\"{{inputs.parameters.task}}\",\"--container\",\"{{inputs.parameters.container}}\",\"--iteration_index\",\"{{inputs.parameters.iteration-index}}\",\"--cached_decision_path\",\"{{outputs.parameters.cached-decision.path}}\",\"--pod_spec_patch_path\",\"{{outputs.parameters.pod-spec-patch.path}}\",\"--condition_path\",\"{{outputs.parameters.condition.path}}\",\"--kubernetes_config\",\"{{inputs.parameters.kubernetes-config}}\"],\"resources\":{\"limits\":{\"cpu\":\"500m\",\"memory\":\"512Mi\"},\"requests\":{\"cpu\":\"100m\",\"memory\":\"64Mi\"}}}},{\"name\":\"system-container-executor\",\"inputs\":{\"parameters\":[{\"name\":\"pod-spec-patch\"},{\"name\":\"cached-decision\",\"default\":\"false\"}]},\"outputs\":{},\"metadata\":{\"annotations\":{\"sidecar.istio.io/inject\":\"false\"}},\"dag\":{\"tasks\":[{\"name\":\"executor\",\"template\":\"system-container-impl\",\"arguments\":{\"parameters\":[{\"name\":\"pod-spec-patch\",\"value\":\"{{inputs.parameters.pod-spec-patch}}\"}]},\"when\":\"{{inputs.parameters.cached-decision}} != true\"}]}},{\"name\":\"system-container-impl\",\"inputs\":{\"parameters\":[{\"name\":\"pod-spec-patch\"}]},\"outputs\":{},\"metadata\":{\"annotations\":{\"sidecar.istio.io/inject\":\"false\"}},\"container\":{\"name\":\"\",\"image\":\"gcr.io/ml-pipeline/should-be-overridden-during-runtime\",\"command\":[\"should-be-overridden-during-runtime\"],\"envFrom\":[{\"configMapRef\":{\"name\":\"metadata-grpc-configmap\",\"optional\":true}}],\"env\":[{\"name\":\"KFP_POD_NAME\",\"valueFrom\":{\"fieldRef\":{\"fieldPath\":\"metadata.name\"}}},{\"name\":\"KFP_POD_UID\",\"valueFrom\":{\"fieldRef\":{\"fieldPath\":\"metadata.uid\"}}}],\"resources\":{},\"volumeMounts\":[{\"name\":\"kfp-launcher\",\"mountPath\":\"/kfp-launcher\"}]},\"volumes\":[{\"name\":\"kfp-launcher\",\"emptyDir\":{}}],\"initContainers\":[{\"name\":\"kfp-launcher\",\"image\":\"gcr.io/ml-pipeline/kfp-launcher@sha256:80cf120abd125db84fa547640fd6386c4b2a26936e0c2b04a7d3634991a850a4\",\"command\":[\"launcher-v2\",\"--copy\",\"/kfp-launcher/launch\"],\"resources\":{\"limits\":{\"cpu\":\"500m\",\"memory\":\"128Mi\"},\"requests\":{\"cpu\":\"100m\"}},\"volumeMounts\":[{\"name\":\"kfp-launcher\",\"mountPath\":\"/kfp-launcher\"}]}],\"podSpecPatch\":\"{{inputs.parameters.pod-spec-patch}}\"},{\"name\":\"root\",\"inputs\":{\"parameters\":[{\"name\":\"parent-dag-id\"}]},\"outputs\":{},\"metadata\":{\"annotations\":{\"sidecar.istio.io/inject\":\"false\"}},\"dag\":{\"tasks\":[{\"name\":\"preprocess-driver\",\"template\":\"system-container-driver\",\"arguments\":{\"parameters\":[{\"name\":\"component\",\"value\":\"{{workflow.annotations.pipelines.kubeflow.org/components-comp-preprocess}}\"},{\"name\":\"task\",\"value\":\"{\\\"cachingOptions\\\":{\\\"enableCache\\\":true},\\\"componentRef\\\":{\\\"name\\\":\\\"comp-preprocess\\\"},\\\"inputs\\\":{\\\"parameters\\\":{\\\"aws_region\\\":{\\\"componentInputParameter\\\":\\\"AWS_REGION\\\"},\\\"input_s3_uri\\\":{\\\"componentInputParameter\\\":\\\"INPUT_S3_URI\\\"},\\\"output_s3_uri\\\":{\\\"componentInputParameter\\\":\\\"OUTPUT_S3_URI\\\"}}},\\\"taskInfo\\\":{\\\"name\\\":\\\"preprocess\\\"}}\"},{\"name\":\"container\",\"value\":\"{{workflow.annotations.pipelines.kubeflow.org/implementations-comp-preprocess}}\"},{\"name\":\"parent-dag-id\",\"value\":\"{{inputs.parameters.parent-dag-id}}\"}]}},{\"name\":\"preprocess\",\"template\":\"system-container-executor\",\"arguments\":{\"parameters\":[{\"name\":\"pod-spec-patch\",\"value\":\"{{tasks.preprocess-driver.outputs.parameters.pod-spec-patch}}\"},{\"name\":\"cached-decision\",\"default\":\"false\",\"value\":\"{{tasks.preprocess-driver.outputs.parameters.cached-decision}}\"}]},\"depends\":\"preprocess-driver.Succeeded\"},{\"name\":\"train-driver\",\"template\":\"system-container-driver\",\"arguments\":{\"parameters\":[{\"name\":\"component\",\"value\":\"{{workflow.annotations.pipelines.kubeflow.org/components-comp-train}}\"},{\"name\":\"task\",\"value\":\"{\\\"cachingOptions\\\":{\\\"enableCache\\\":true},\\\"componentRef\\\":{\\\"name\\\":\\\"comp-train\\\"},\\\"dependentTasks\\\":[\\\"preprocess\\\"],\\\"inputs\\\":{\\\"parameters\\\":{\\\"aws_region\\\":{\\\"componentInputParameter\\\":\\\"AWS_REGION\\\"},\\\"mlflow_uri\\\":{\\\"componentInputParameter\\\":\\\"MLFLOW_URI\\\"},\\\"model_name\\\":{\\\"componentInputParameter\\\":\\\"MODEL_NAME\\\"},\\\"s3_bucket\\\":{\\\"componentInputParameter\\\":\\\"S3_BUCKET\\\"}}},\\\"taskInfo\\\":{\\\"name\\\":\\\"train\\\"}}\"},{\"name\":\"container\",\"value\":\"{{workflow.annotations.pipelines.kubeflow.org/implementations-comp-train}}\"},{\"name\":\"parent-dag-id\",\"value\":\"{{inputs.parameters.parent-dag-id}}\"}]},\"depends\":\"preprocess.Succeeded\"},{\"name\":\"train\",\"template\":\"system-container-executor\",\"arguments\":{\"parameters\":[{\"name\":\"pod-spec-patch\",\"value\":\"{{tasks.train-driver.outputs.parameters.pod-spec-patch}}\"},{\"name\":\"cached-decision\",\"default\":\"false\",\"value\":\"{{tasks.train-driver.outputs.parameters.cached-decision}}\"}]},\"depends\":\"train-driver.Succeeded\"}]}},{\"name\":\"system-dag-driver\",\"inputs\":{\"parameters\":[{\"name\":\"component\"},{\"name\":\"runtime-config\",\"default\":\"\"},{\"name\":\"task\",\"default\":\"\"},{\"name\":\"parent-dag-id\",\"default\":\"0\"},{\"name\":\"iteration-index\",\"default\":\"-1\"},{\"name\":\"driver-type\",\"default\":\"DAG\"}]},\"outputs\":{\"parameters\":[{\"name\":\"execution-id\",\"valueFrom\":{\"path\":\"/tmp/outputs/execution-id\"}},{\"name\":\"iteration-count\",\"valueFrom\":{\"path\":\"/tmp/outputs/iteration-count\",\"default\":\"0\"}},{\"name\":\"condition\",\"valueFrom\":{\"path\":\"/tmp/outputs/condition\",\"default\":\"true\"}}]},\"metadata\":{\"annotations\":{\"sidecar.istio.io/inject\":\"false\"}},\"container\":{\"name\":\"\",\"image\":\"gcr.io/ml-pipeline/kfp-driver@sha256:0ce9bf20ac9cbb21e84ff0762d5ae508d21e9c85fde2b14b51363bd1b8cd7528\",\"command\":[\"driver\"],\"args\":[\"--type\",\"{{inputs.parameters.driver-type}}\",\"--pipeline_name\",\"yt-sentiment-pipeline-param\",\"--run_id\",\"fb9afddd-b327-4a01-b685-82b67333fc39\",\"--dag_execution_id\",\"{{inputs.parameters.parent-dag-id}}\",\"--component\",\"{{inputs.parameters.component}}\",\"--task\",\"{{inputs.parameters.task}}\",\"--runtime_config\",\"{{inputs.parameters.runtime-config}}\",\"--iteration_index\",\"{{inputs.parameters.iteration-index}}\",\"--execution_id_path\",\"{{outputs.parameters.execution-id.path}}\",\"--iteration_count_path\",\"{{outputs.parameters.iteration-count.path}}\",\"--condition_path\",\"{{outputs.parameters.condition.path}}\"],\"resources\":{\"limits\":{\"cpu\":\"500m\",\"memory\":\"512Mi\"},\"requests\":{\"cpu\":\"100m\",\"memory\":\"64Mi\"}}}},{\"name\":\"entrypoint\",\"inputs\":{},\"outputs\":{},\"metadata\":{\"annotations\":{\"sidecar.istio.io/inject\":\"false\"}},\"dag\":{\"tasks\":[{\"name\":\"root-driver\",\"template\":\"system-dag-driver\",\"arguments\":{\"parameters\":[{\"name\":\"component\",\"value\":\"{{workflow.annotations.pipelines.kubeflow.org/components-root}}\"},{\"name\":\"runtime-config\",\"value\":\"{\\\"parameterValues\\\":{\\\"AWS_REGION\\\":\\\"us-east-1\\\",\\\"INPUT_S3_URI\\\":\\\"s3://mlops-yt-artifacts-nandak-1760367211/datasets/youtube_comments_X29X1BnAppM_20251014T134602Z.csv\\\",\\\"MLFLOW_URI\\\":\\\"http://mlflow-service.mlops.svc.cluster.local:5000\\\",\\\"MODEL_NAME\\\":\\\"distilbert-base-uncased\\\",\\\"OUTPUT_S3_URI\\\":\\\"s3://mlops-yt-artifacts-nandak-1760367211/datasets/cleaned.csv\\\",\\\"S3_BUCKET\\\":\\\"mlops-yt-artifacts-nandak-1760367211\\\"}}\"},{\"name\":\"driver-type\",\"value\":\"ROOT_DAG\"}]}},{\"name\":\"root\",\"template\":\"root\",\"arguments\":{\"parameters\":[{\"name\":\"parent-dag-id\",\"value\":\"{{tasks.root-driver.outputs.parameters.execution-id}}\"},{\"name\":\"condition\",\"value\":\"\"}]},\"depends\":\"root-driver.Succeeded\"}]}}],\"entrypoint\":\"entrypoint\",\"arguments\":{},\"serviceAccountName\":\"pipeline-runner\",\"podMetadata\":{\"annotations\":{\"pipelines.kubeflow.org/v2_component\":\"true\"},\"labels\":{\"pipeline/runid\":\"fb9afddd-b327-4a01-b685-82b67333fc39\",\"pipelines.kubeflow.org/v2_component\":\"true\"}}},\"status\":{\"startedAt\":null,\"finishedAt\":null}}','',0,0);
/*!40000 ALTER TABLE `run_details` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `run_metrics`
--

DROP TABLE IF EXISTS `run_metrics`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `run_metrics` (
  `RunUUID` varchar(255) NOT NULL,
  `NodeID` varchar(255) NOT NULL,
  `Name` varchar(255) NOT NULL,
  `NumberValue` double DEFAULT NULL,
  `Format` varchar(255) DEFAULT NULL,
  `Payload` longtext NOT NULL,
  PRIMARY KEY (`RunUUID`,`NodeID`,`Name`),
  CONSTRAINT `run_metrics_RunUUID_run_details_UUID_foreign` FOREIGN KEY (`RunUUID`) REFERENCES `run_details` (`UUID`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `run_metrics`
--

LOCK TABLES `run_metrics` WRITE;
/*!40000 ALTER TABLE `run_metrics` DISABLE KEYS */;
/*!40000 ALTER TABLE `run_metrics` ENABLE KEYS */;
UNLOCK TABLES;

--
-- Table structure for table `tasks`
--

DROP TABLE IF EXISTS `tasks`;
/*!40101 SET @saved_cs_client     = @@character_set_client */;
/*!40101 SET character_set_client = utf8 */;
CREATE TABLE `tasks` (
  `UUID` varchar(255) NOT NULL,
  `Namespace` varchar(255) NOT NULL,
  `PipelineName` varchar(255) NOT NULL,
  `RunUUID` varchar(255) NOT NULL,
  `PodName` varchar(255) NOT NULL,
  `MLMDExecutionID` varchar(255) NOT NULL,
  `CreatedTimestamp` bigint(20) NOT NULL,
  `StartedTimestamp` bigint(20) DEFAULT '0',
  `FinishedTimestamp` bigint(20) DEFAULT '0',
  `Fingerprint` varchar(255) NOT NULL,
  `Name` varchar(255) DEFAULT NULL,
  `ParentTaskUUID` varchar(255) DEFAULT NULL,
  `State` varchar(255) DEFAULT NULL,
  `StateHistory` longtext,
  `MLMDInputs` longtext,
  `MLMDOutputs` longtext,
  `ChildrenPods` longtext,
  `Payload` longtext,
  PRIMARY KEY (`UUID`),
  KEY `tasks_RunUUID_run_details_UUID_foreign` (`RunUUID`),
  CONSTRAINT `tasks_RunUUID_run_details_UUID_foreign` FOREIGN KEY (`RunUUID`) REFERENCES `run_details` (`UUID`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=latin1;
/*!40101 SET character_set_client = @saved_cs_client */;

--
-- Dumping data for table `tasks`
--

LOCK TABLES `tasks` WRITE;
/*!40000 ALTER TABLE `tasks` DISABLE KEYS */;
INSERT INTO `tasks` VALUES ('29dadbca-5173-4d94-9e77-5901b9d5da2d','kubeflow','pipeline/yt-sentiment-pipeline-param','5858d806-def1-4296-bd6b-59cc78d2ccf1','','24',1761146825,1761146825,1761146827,'3289f81cae52e09bdf953db43b9c2b497450a4d61c3f012c3775e948fd1e7e87','','','RUNTIME_STATE_UNSPECIFIED','null','','','null','{\"UUID\":\"29dadbca-5173-4d94-9e77-5901b9d5da2d\",\"Namespace\":\"kubeflow\",\"PipelineName\":\"pipeline/yt-sentiment-pipeline-param\",\"RunId\":\"5858d806-def1-4296-bd6b-59cc78d2ccf1\",\"PodName\":\"\",\"MLMDExecutionID\":\"24\",\"CreatedTimestamp\":1761146825,\"StartedTimestamp\":1761146825,\"FinishedTimestamp\":1761146827,\"Fingerprint\":\"3289f81cae52e09bdf953db43b9c2b497450a4d61c3f012c3775e948fd1e7e87\",\"Name\":\"\",\"ParentTaskId\":\"\",\"State\":\"RUNTIME_STATE_UNSPECIFIED\",\"StateHistoryString\":\"\",\"MLMDInputs\":\"\",\"MLMDOutputs\":\"\",\"ChildrenPodsString\":\"\",\"StateHistory\":null,\"ChildrenPods\":null,\"Payload\":\"\"}'),('62ba3eea-cec1-4f37-b2c2-6da0c3e520d2','kubeflow','pipeline/yt-sentiment-pipeline-param','9797994d-4cba-49d4-8ada-c8d04813eb19','','28',1761148509,1761148509,1761148511,'4543f9c6e87f52189554fe94b214faf797641f4ffa1b7e5462af05871eea5fba','','','RUNTIME_STATE_UNSPECIFIED','null','','','null','{\"UUID\":\"62ba3eea-cec1-4f37-b2c2-6da0c3e520d2\",\"Namespace\":\"kubeflow\",\"PipelineName\":\"pipeline/yt-sentiment-pipeline-param\",\"RunId\":\"9797994d-4cba-49d4-8ada-c8d04813eb19\",\"PodName\":\"\",\"MLMDExecutionID\":\"28\",\"CreatedTimestamp\":1761148509,\"StartedTimestamp\":1761148509,\"FinishedTimestamp\":1761148511,\"Fingerprint\":\"4543f9c6e87f52189554fe94b214faf797641f4ffa1b7e5462af05871eea5fba\",\"Name\":\"\",\"ParentTaskId\":\"\",\"State\":\"RUNTIME_STATE_UNSPECIFIED\",\"StateHistoryString\":\"\",\"MLMDInputs\":\"\",\"MLMDOutputs\":\"\",\"ChildrenPodsString\":\"\",\"StateHistory\":null,\"ChildrenPods\":null,\"Payload\":\"\"}'),('a03eddb9-f946-4f7c-9d85-ee089222b6ec','kubeflow','pipeline/yt-sentiment-pipeline-param','9797994d-4cba-49d4-8ada-c8d04813eb19','','27',1761148489,1761148489,1761148491,'e28d6ec0836bc658fab62b10d14f5cd444ef9d69e9ec638157e55c5ed9afcc46','','','RUNTIME_STATE_UNSPECIFIED','null','','','null','{\"UUID\":\"a03eddb9-f946-4f7c-9d85-ee089222b6ec\",\"Namespace\":\"kubeflow\",\"PipelineName\":\"pipeline/yt-sentiment-pipeline-param\",\"RunId\":\"9797994d-4cba-49d4-8ada-c8d04813eb19\",\"PodName\":\"\",\"MLMDExecutionID\":\"27\",\"CreatedTimestamp\":1761148489,\"StartedTimestamp\":1761148489,\"FinishedTimestamp\":1761148491,\"Fingerprint\":\"e28d6ec0836bc658fab62b10d14f5cd444ef9d69e9ec638157e55c5ed9afcc46\",\"Name\":\"\",\"ParentTaskId\":\"\",\"State\":\"RUNTIME_STATE_UNSPECIFIED\",\"StateHistoryString\":\"\",\"MLMDInputs\":\"\",\"MLMDOutputs\":\"\",\"ChildrenPodsString\":\"\",\"StateHistory\":null,\"ChildrenPods\":null,\"Payload\":\"\"}'),('f3edfa06-ef7d-4b7b-9601-50008d466731','kubeflow','pipeline/yt-sentiment-pipeline-param','ae452c7b-5688-4685-bb54-48056b5d498a','','21',1761139111,1761139111,1761139114,'d9b05e03d1e47e7b710bf430f261089180c90f265de9f43464d58a084e62c844','','','RUNTIME_STATE_UNSPECIFIED','null','','','null','{\"UUID\":\"f3edfa06-ef7d-4b7b-9601-50008d466731\",\"Namespace\":\"kubeflow\",\"PipelineName\":\"pipeline/yt-sentiment-pipeline-param\",\"RunId\":\"ae452c7b-5688-4685-bb54-48056b5d498a\",\"PodName\":\"\",\"MLMDExecutionID\":\"21\",\"CreatedTimestamp\":1761139111,\"StartedTimestamp\":1761139111,\"FinishedTimestamp\":1761139114,\"Fingerprint\":\"d9b05e03d1e47e7b710bf430f261089180c90f265de9f43464d58a084e62c844\",\"Name\":\"\",\"ParentTaskId\":\"\",\"State\":\"RUNTIME_STATE_UNSPECIFIED\",\"StateHistoryString\":\"\",\"MLMDInputs\":\"\",\"MLMDOutputs\":\"\",\"ChildrenPodsString\":\"\",\"StateHistory\":null,\"ChildrenPods\":null,\"Payload\":\"\"}');
/*!40000 ALTER TABLE `tasks` ENABLE KEYS */;
UNLOCK TABLES;
/*!40103 SET TIME_ZONE=@OLD_TIME_ZONE */;

/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;

-- Dump completed on 2025-10-22 18:20:07
